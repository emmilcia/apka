var _T=Object.defineProperty;var wT=(t,e,n)=>e in t?_T(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var hn=(t,e,n)=>(wT(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var jU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var A3={exports:{}},ym={},k3={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=Symbol.for("react.element"),xT=Symbol.for("react.portal"),ET=Symbol.for("react.fragment"),ST=Symbol.for("react.strict_mode"),AT=Symbol.for("react.profiler"),kT=Symbol.for("react.provider"),TT=Symbol.for("react.context"),IT=Symbol.for("react.forward_ref"),NT=Symbol.for("react.suspense"),PT=Symbol.for("react.memo"),CT=Symbol.for("react.lazy"),r_=Symbol.iterator;function LT(t){return t===null||typeof t!="object"?null:(t=r_&&t[r_]||t["@@iterator"],typeof t=="function"?t:null)}var T3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I3=Object.assign,N3={};function vh(t,e,n){this.props=t,this.context=e,this.refs=N3,this.updater=n||T3}vh.prototype.isReactComponent={};vh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function P3(){}P3.prototype=vh.prototype;function xy(t,e,n){this.props=t,this.context=e,this.refs=N3,this.updater=n||T3}var Ey=xy.prototype=new P3;Ey.constructor=xy;I3(Ey,vh.prototype);Ey.isPureReactComponent=!0;var i_=Array.isArray,C3=Object.prototype.hasOwnProperty,Sy={current:null},L3={key:!0,ref:!0,__self:!0,__source:!0};function R3(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)C3.call(e,r)&&!L3.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:wf,type:t,key:s,ref:a,props:i,_owner:Sy.current}}function RT(t,e){return{$$typeof:wf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ay(t){return typeof t=="object"&&t!==null&&t.$$typeof===wf}function DT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var s_=/\/+/g;function bg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DT(""+t.key):e.toString(36)}function Up(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case wf:case xT:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+bg(a,0):r,i_(i)?(n="",t!=null&&(n=t.replace(s_,"$&/")+"/"),Up(i,e,n,"",function(u){return u})):i!=null&&(Ay(i)&&(i=RT(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(s_,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",i_(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+bg(s,o);a+=Up(s,e,n,l,i)}else if(l=LT(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+bg(s,o++),a+=Up(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function lp(t,e,n){if(t==null)return t;var r=[],i=0;return Up(t,r,"","",function(s){return e.call(n,s,i++)}),r}function OT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wi={current:null},Bp={transition:null},MT={ReactCurrentDispatcher:wi,ReactCurrentBatchConfig:Bp,ReactCurrentOwner:Sy};function D3(){throw Error("act(...) is not supported in production builds of React.")}Mt.Children={map:lp,forEach:function(t,e,n){lp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lp(t,function(){e++}),e},toArray:function(t){return lp(t,function(e){return e})||[]},only:function(t){if(!Ay(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Mt.Component=vh;Mt.Fragment=ET;Mt.Profiler=AT;Mt.PureComponent=xy;Mt.StrictMode=ST;Mt.Suspense=NT;Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MT;Mt.act=D3;Mt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=I3({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Sy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)C3.call(e,l)&&!L3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:wf,type:t.type,key:i,ref:s,props:r,_owner:a}};Mt.createContext=function(t){return t={$$typeof:TT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kT,_context:t},t.Consumer=t};Mt.createElement=R3;Mt.createFactory=function(t){var e=R3.bind(null,t);return e.type=t,e};Mt.createRef=function(){return{current:null}};Mt.forwardRef=function(t){return{$$typeof:IT,render:t}};Mt.isValidElement=Ay;Mt.lazy=function(t){return{$$typeof:CT,_payload:{_status:-1,_result:t},_init:OT}};Mt.memo=function(t,e){return{$$typeof:PT,type:t,compare:e===void 0?null:e}};Mt.startTransition=function(t){var e=Bp.transition;Bp.transition={};try{t()}finally{Bp.transition=e}};Mt.unstable_act=D3;Mt.useCallback=function(t,e){return wi.current.useCallback(t,e)};Mt.useContext=function(t){return wi.current.useContext(t)};Mt.useDebugValue=function(){};Mt.useDeferredValue=function(t){return wi.current.useDeferredValue(t)};Mt.useEffect=function(t,e){return wi.current.useEffect(t,e)};Mt.useId=function(){return wi.current.useId()};Mt.useImperativeHandle=function(t,e,n){return wi.current.useImperativeHandle(t,e,n)};Mt.useInsertionEffect=function(t,e){return wi.current.useInsertionEffect(t,e)};Mt.useLayoutEffect=function(t,e){return wi.current.useLayoutEffect(t,e)};Mt.useMemo=function(t,e){return wi.current.useMemo(t,e)};Mt.useReducer=function(t,e,n){return wi.current.useReducer(t,e,n)};Mt.useRef=function(t){return wi.current.useRef(t)};Mt.useState=function(t){return wi.current.useState(t)};Mt.useSyncExternalStore=function(t,e,n){return wi.current.useSyncExternalStore(t,e,n)};Mt.useTransition=function(){return wi.current.useTransition()};Mt.version="18.3.1";k3.exports=Mt;var Me=k3.exports;const jT=bT(Me);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT=Me,VT=Symbol.for("react.element"),zT=Symbol.for("react.fragment"),UT=Object.prototype.hasOwnProperty,BT=FT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qT={key:!0,ref:!0,__self:!0,__source:!0};function O3(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)UT.call(e,r)&&!qT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:VT,type:t,key:s,ref:a,props:i,_owner:BT.current}}ym.Fragment=zT;ym.jsx=O3;ym.jsxs=O3;A3.exports=ym;var v=A3.exports,V0={},M3={exports:{}},as={},j3={exports:{}},F3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ee,X){var he=ee.length;ee.push(X);e:for(;0<he;){var pe=he-1>>>1,M=ee[pe];if(0<i(M,X))ee[pe]=X,ee[he]=M,he=pe;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var X=ee[0],he=ee.pop();if(he!==X){ee[0]=he;e:for(var pe=0,M=ee.length,G=M>>>1;pe<G;){var te=2*(pe+1)-1,re=ee[te],se=te+1,B=ee[se];if(0>i(re,he))se<M&&0>i(B,re)?(ee[pe]=B,ee[se]=he,pe=se):(ee[pe]=re,ee[te]=he,pe=te);else if(se<M&&0>i(B,he))ee[pe]=B,ee[se]=he,pe=se;else break e}}return X}function i(ee,X){var he=ee.sortIndex-X.sortIndex;return he!==0?he:ee.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,m=null,y=3,p=!1,N=!1,L=!1,V=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(ee){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=ee)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function F(ee){if(L=!1,k(ee),!N)if(n(l)!==null)N=!0,we(J);else{var X=n(u);X!==null&&ae(F,X.startTime-ee)}}function J(ee,X){N=!1,L&&(L=!1,E(b),b=-1),p=!0;var he=y;try{for(k(X),m=n(l);m!==null&&(!(m.expirationTime>X)||ee&&!x());){var pe=m.callback;if(typeof pe=="function"){m.callback=null,y=m.priorityLevel;var M=pe(m.expirationTime<=X);X=t.unstable_now(),typeof M=="function"?m.callback=M:m===n(l)&&r(l),k(X)}else r(l);m=n(l)}if(m!==null)var G=!0;else{var te=n(u);te!==null&&ae(F,te.startTime-X),G=!1}return G}finally{m=null,y=he,p=!1}}var ne=!1,j=null,b=-1,A=5,D=-1;function x(){return!(t.unstable_now()-D<A)}function I(){if(j!==null){var ee=t.unstable_now();D=ee;var X=!0;try{X=j(!0,ee)}finally{X?P():(ne=!1,j=null)}}else ne=!1}var P;if(typeof C=="function")P=function(){C(I)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ue=Z.port2;Z.port1.onmessage=I,P=function(){ue.postMessage(null)}}else P=function(){V(I,0)};function we(ee){j=ee,ne||(ne=!0,P())}function ae(ee,X){b=V(function(){ee(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){N||p||(N=!0,we(J))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ee){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var he=y;y=X;try{return ee()}finally{y=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,X){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var he=y;y=ee;try{return X()}finally{y=he}},t.unstable_scheduleCallback=function(ee,X,he){var pe=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?pe+he:pe):he=pe,ee){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=he+M,ee={id:d++,callback:X,priorityLevel:ee,startTime:he,expirationTime:M,sortIndex:-1},he>pe?(ee.sortIndex=he,e(u,ee),n(l)===null&&ee===n(u)&&(L?(E(b),b=-1):L=!0,ae(F,he-pe))):(ee.sortIndex=M,e(l,ee),N||p||(N=!0,we(J))),ee},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(ee){var X=y;return function(){var he=y;y=X;try{return ee.apply(this,arguments)}finally{y=he}}}})(F3);j3.exports=F3;var $T=j3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT=Me,is=$T;function De(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V3=new Set,Vd={};function ju(t,e){Zc(t,e),Zc(t+"Capture",e)}function Zc(t,e){for(Vd[t]=e,t=0;t<e.length;t++)V3.add(e[t])}var ho=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),z0=Object.prototype.hasOwnProperty,HT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a_={},o_={};function GT(t){return z0.call(o_,t)?!0:z0.call(a_,t)?!1:HT.test(t)?o_[t]=!0:(a_[t]=!0,!1)}function KT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YT(t,e,n,r){if(e===null||typeof e>"u"||KT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bi(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vr[t]=new bi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vr[e]=new bi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vr[t]=new bi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vr[t]=new bi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vr[t]=new bi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vr[t]=new bi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vr[t]=new bi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vr[t]=new bi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vr[t]=new bi(t,5,!1,t.toLowerCase(),null,!1,!1)});var ky=/[\-:]([a-z])/g;function Ty(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ky,Ty);Vr[e]=new bi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ky,Ty);Vr[e]=new bi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ky,Ty);Vr[e]=new bi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vr[t]=new bi(t,1,!1,t.toLowerCase(),null,!1,!1)});Vr.xlinkHref=new bi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vr[t]=new bi(t,1,!1,t.toLowerCase(),null,!0,!0)});function Iy(t,e,n,r){var i=Vr.hasOwnProperty(e)?Vr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YT(e,n,i,r)&&(n=null),r||i===null?GT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wo=WT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,up=Symbol.for("react.element"),wc=Symbol.for("react.portal"),bc=Symbol.for("react.fragment"),Ny=Symbol.for("react.strict_mode"),U0=Symbol.for("react.profiler"),z3=Symbol.for("react.provider"),U3=Symbol.for("react.context"),Py=Symbol.for("react.forward_ref"),B0=Symbol.for("react.suspense"),q0=Symbol.for("react.suspense_list"),Cy=Symbol.for("react.memo"),Ko=Symbol.for("react.lazy"),B3=Symbol.for("react.offscreen"),l_=Symbol.iterator;function Kh(t){return t===null||typeof t!="object"?null:(t=l_&&t[l_]||t["@@iterator"],typeof t=="function"?t:null)}var Bn=Object.assign,xg;function ld(t){if(xg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xg=e&&e[1]||""}return`
`+xg+t}var Eg=!1;function Sg(t,e){if(!t||Eg)return"";Eg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Eg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ld(t):""}function QT(t){switch(t.tag){case 5:return ld(t.type);case 16:return ld("Lazy");case 13:return ld("Suspense");case 19:return ld("SuspenseList");case 0:case 2:case 15:return t=Sg(t.type,!1),t;case 11:return t=Sg(t.type.render,!1),t;case 1:return t=Sg(t.type,!0),t;default:return""}}function $0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bc:return"Fragment";case wc:return"Portal";case U0:return"Profiler";case Ny:return"StrictMode";case B0:return"Suspense";case q0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case U3:return(t.displayName||"Context")+".Consumer";case z3:return(t._context.displayName||"Context")+".Provider";case Py:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cy:return e=t.displayName||null,e!==null?e:$0(t.type)||"Memo";case Ko:e=t._payload,t=t._init;try{return $0(t(e))}catch{}}return null}function XT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $0(e);case 8:return e===Ny?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Al(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function q3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JT(t){var e=q3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cp(t){t._valueTracker||(t._valueTracker=JT(t))}function $3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=q3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function g1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function W0(t,e){var n=e.checked;return Bn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function u_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Al(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function W3(t,e){e=e.checked,e!=null&&Iy(t,"checked",e,!1)}function H0(t,e){W3(t,e);var n=Al(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?G0(t,e.type,n):e.hasOwnProperty("defaultValue")&&G0(t,e.type,Al(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function c_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function G0(t,e,n){(e!=="number"||g1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ud=Array.isArray;function Dc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Al(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function K0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(De(91));return Bn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function h_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(De(92));if(ud(n)){if(1<n.length)throw Error(De(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Al(n)}}function H3(t,e){var n=Al(e.value),r=Al(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function d_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function G3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Y0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?G3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hp,K3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hp=hp||document.createElement("div"),hp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZT=["Webkit","ms","Moz","O"];Object.keys(wd).forEach(function(t){ZT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wd[e]=wd[t]})});function Y3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wd.hasOwnProperty(t)&&wd[t]?(""+e).trim():e+"px"}function Q3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Y3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var eI=Bn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Q0(t,e){if(e){if(eI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(De(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(De(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(De(61))}if(e.style!=null&&typeof e.style!="object")throw Error(De(62))}}function X0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var J0=null;function Ly(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Z0=null,Oc=null,Mc=null;function f_(t){if(t=Ef(t)){if(typeof Z0!="function")throw Error(De(280));var e=t.stateNode;e&&(e=xm(e),Z0(t.stateNode,t.type,e))}}function X3(t){Oc?Mc?Mc.push(t):Mc=[t]:Oc=t}function J3(){if(Oc){var t=Oc,e=Mc;if(Mc=Oc=null,f_(t),e)for(t=0;t<e.length;t++)f_(e[t])}}function Z3(t,e){return t(e)}function ex(){}var Ag=!1;function tx(t,e,n){if(Ag)return t(e,n);Ag=!0;try{return Z3(t,e,n)}finally{Ag=!1,(Oc!==null||Mc!==null)&&(ex(),J3())}}function Ud(t,e){var n=t.stateNode;if(n===null)return null;var r=xm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(De(231,e,typeof n));return n}var e2=!1;if(ho)try{var Yh={};Object.defineProperty(Yh,"passive",{get:function(){e2=!0}}),window.addEventListener("test",Yh,Yh),window.removeEventListener("test",Yh,Yh)}catch{e2=!1}function tI(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var bd=!1,y1=null,v1=!1,t2=null,nI={onError:function(t){bd=!0,y1=t}};function rI(t,e,n,r,i,s,a,o,l){bd=!1,y1=null,tI.apply(nI,arguments)}function iI(t,e,n,r,i,s,a,o,l){if(rI.apply(this,arguments),bd){if(bd){var u=y1;bd=!1,y1=null}else throw Error(De(198));v1||(v1=!0,t2=u)}}function Fu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p_(t){if(Fu(t)!==t)throw Error(De(188))}function sI(t){var e=t.alternate;if(!e){if(e=Fu(t),e===null)throw Error(De(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return p_(i),t;if(s===r)return p_(i),e;s=s.sibling}throw Error(De(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?t:e}function rx(t){return t=sI(t),t!==null?ix(t):null}function ix(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ix(t);if(e!==null)return e;t=t.sibling}return null}var sx=is.unstable_scheduleCallback,m_=is.unstable_cancelCallback,aI=is.unstable_shouldYield,oI=is.unstable_requestPaint,tr=is.unstable_now,lI=is.unstable_getCurrentPriorityLevel,Ry=is.unstable_ImmediatePriority,ax=is.unstable_UserBlockingPriority,_1=is.unstable_NormalPriority,uI=is.unstable_LowPriority,ox=is.unstable_IdlePriority,vm=null,xa=null;function cI(t){if(xa&&typeof xa.onCommitFiberRoot=="function")try{xa.onCommitFiberRoot(vm,t,void 0,(t.current.flags&128)===128)}catch{}}var Ws=Math.clz32?Math.clz32:fI,hI=Math.log,dI=Math.LN2;function fI(t){return t>>>=0,t===0?32:31-(hI(t)/dI|0)|0}var dp=64,fp=4194304;function cd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function w1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=cd(o):(s&=a,s!==0&&(r=cd(s)))}else a=n&~i,a!==0?r=cd(a):s!==0&&(r=cd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ws(e),i=1<<n,r|=t[n],e&=~i;return r}function pI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ws(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=pI(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function n2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lx(){var t=dp;return dp<<=1,!(dp&4194240)&&(dp=64),t}function kg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ws(e),t[e]=n}function gI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ws(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Dy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ws(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var fn=0;function ux(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cx,Oy,hx,dx,fx,r2=!1,pp=[],ll=null,ul=null,cl=null,Bd=new Map,qd=new Map,Qo=[],yI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function g_(t,e){switch(t){case"focusin":case"focusout":ll=null;break;case"dragenter":case"dragleave":ul=null;break;case"mouseover":case"mouseout":cl=null;break;case"pointerover":case"pointerout":Bd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qd.delete(e.pointerId)}}function Qh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ef(e),e!==null&&Oy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vI(t,e,n,r,i){switch(e){case"focusin":return ll=Qh(ll,t,e,n,r,i),!0;case"dragenter":return ul=Qh(ul,t,e,n,r,i),!0;case"mouseover":return cl=Qh(cl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Bd.set(s,Qh(Bd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,qd.set(s,Qh(qd.get(s)||null,t,e,n,r,i)),!0}return!1}function px(t){var e=lu(t.target);if(e!==null){var n=Fu(e);if(n!==null){if(e=n.tag,e===13){if(e=nx(n),e!==null){t.blockedOn=e,fx(t.priority,function(){hx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=i2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);J0=r,n.target.dispatchEvent(r),J0=null}else return e=Ef(n),e!==null&&Oy(e),t.blockedOn=n,!1;e.shift()}return!0}function y_(t,e,n){qp(t)&&n.delete(e)}function _I(){r2=!1,ll!==null&&qp(ll)&&(ll=null),ul!==null&&qp(ul)&&(ul=null),cl!==null&&qp(cl)&&(cl=null),Bd.forEach(y_),qd.forEach(y_)}function Xh(t,e){t.blockedOn===e&&(t.blockedOn=null,r2||(r2=!0,is.unstable_scheduleCallback(is.unstable_NormalPriority,_I)))}function $d(t){function e(i){return Xh(i,t)}if(0<pp.length){Xh(pp[0],t);for(var n=1;n<pp.length;n++){var r=pp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ll!==null&&Xh(ll,t),ul!==null&&Xh(ul,t),cl!==null&&Xh(cl,t),Bd.forEach(e),qd.forEach(e),n=0;n<Qo.length;n++)r=Qo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qo.length&&(n=Qo[0],n.blockedOn===null);)px(n),n.blockedOn===null&&Qo.shift()}var jc=wo.ReactCurrentBatchConfig,b1=!0;function wI(t,e,n,r){var i=fn,s=jc.transition;jc.transition=null;try{fn=1,My(t,e,n,r)}finally{fn=i,jc.transition=s}}function bI(t,e,n,r){var i=fn,s=jc.transition;jc.transition=null;try{fn=4,My(t,e,n,r)}finally{fn=i,jc.transition=s}}function My(t,e,n,r){if(b1){var i=i2(t,e,n,r);if(i===null)Mg(t,e,r,x1,n),g_(t,r);else if(vI(i,t,e,n,r))r.stopPropagation();else if(g_(t,r),e&4&&-1<yI.indexOf(t)){for(;i!==null;){var s=Ef(i);if(s!==null&&cx(s),s=i2(t,e,n,r),s===null&&Mg(t,e,r,x1,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Mg(t,e,r,null,n)}}var x1=null;function i2(t,e,n,r){if(x1=null,t=Ly(r),t=lu(t),t!==null)if(e=Fu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return x1=t,null}function mx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lI()){case Ry:return 1;case ax:return 4;case _1:case uI:return 16;case ox:return 536870912;default:return 16}default:return 16}}var rl=null,jy=null,$p=null;function gx(){if($p)return $p;var t,e=jy,n=e.length,r,i="value"in rl?rl.value:rl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return $p=i.slice(t,1<r?1-r:void 0)}function Wp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mp(){return!0}function v_(){return!1}function os(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?mp:v_,this.isPropagationStopped=v_,this}return Bn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mp)},persist:function(){},isPersistent:mp}),e}var _h={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fy=os(_h),xf=Bn({},_h,{view:0,detail:0}),xI=os(xf),Tg,Ig,Jh,_m=Bn({},xf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jh&&(Jh&&t.type==="mousemove"?(Tg=t.screenX-Jh.screenX,Ig=t.screenY-Jh.screenY):Ig=Tg=0,Jh=t),Tg)},movementY:function(t){return"movementY"in t?t.movementY:Ig}}),__=os(_m),EI=Bn({},_m,{dataTransfer:0}),SI=os(EI),AI=Bn({},xf,{relatedTarget:0}),Ng=os(AI),kI=Bn({},_h,{animationName:0,elapsedTime:0,pseudoElement:0}),TI=os(kI),II=Bn({},_h,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NI=os(II),PI=Bn({},_h,{data:0}),w_=os(PI),CI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RI[t])?!!e[t]:!1}function Vy(){return DI}var OI=Bn({},xf,{key:function(t){if(t.key){var e=CI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vy,charCode:function(t){return t.type==="keypress"?Wp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MI=os(OI),jI=Bn({},_m,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b_=os(jI),FI=Bn({},xf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vy}),VI=os(FI),zI=Bn({},_h,{propertyName:0,elapsedTime:0,pseudoElement:0}),UI=os(zI),BI=Bn({},_m,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qI=os(BI),$I=[9,13,27,32],zy=ho&&"CompositionEvent"in window,xd=null;ho&&"documentMode"in document&&(xd=document.documentMode);var WI=ho&&"TextEvent"in window&&!xd,yx=ho&&(!zy||xd&&8<xd&&11>=xd),x_=String.fromCharCode(32),E_=!1;function vx(t,e){switch(t){case"keyup":return $I.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _x(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xc=!1;function HI(t,e){switch(t){case"compositionend":return _x(e);case"keypress":return e.which!==32?null:(E_=!0,x_);case"textInput":return t=e.data,t===x_&&E_?null:t;default:return null}}function GI(t,e){if(xc)return t==="compositionend"||!zy&&vx(t,e)?(t=gx(),$p=jy=rl=null,xc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yx&&e.locale!=="ko"?null:e.data;default:return null}}var KI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KI[t.type]:e==="textarea"}function wx(t,e,n,r){X3(r),e=E1(e,"onChange"),0<e.length&&(n=new Fy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ed=null,Wd=null;function YI(t){Cx(t,0)}function wm(t){var e=Ac(t);if($3(e))return t}function QI(t,e){if(t==="change")return e}var bx=!1;if(ho){var Pg;if(ho){var Cg="oninput"in document;if(!Cg){var A_=document.createElement("div");A_.setAttribute("oninput","return;"),Cg=typeof A_.oninput=="function"}Pg=Cg}else Pg=!1;bx=Pg&&(!document.documentMode||9<document.documentMode)}function k_(){Ed&&(Ed.detachEvent("onpropertychange",xx),Wd=Ed=null)}function xx(t){if(t.propertyName==="value"&&wm(Wd)){var e=[];wx(e,Wd,t,Ly(t)),tx(YI,e)}}function XI(t,e,n){t==="focusin"?(k_(),Ed=e,Wd=n,Ed.attachEvent("onpropertychange",xx)):t==="focusout"&&k_()}function JI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wm(Wd)}function ZI(t,e){if(t==="click")return wm(e)}function eN(t,e){if(t==="input"||t==="change")return wm(e)}function tN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ks=typeof Object.is=="function"?Object.is:tN;function Hd(t,e){if(Ks(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!z0.call(e,i)||!Ks(t[i],e[i]))return!1}return!0}function T_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I_(t,e){var n=T_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=T_(n)}}function Ex(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ex(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Sx(){for(var t=window,e=g1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=g1(t.document)}return e}function Uy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nN(t){var e=Sx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ex(n.ownerDocument.documentElement,n)){if(r!==null&&Uy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=I_(n,s);var a=I_(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rN=ho&&"documentMode"in document&&11>=document.documentMode,Ec=null,s2=null,Sd=null,a2=!1;function N_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;a2||Ec==null||Ec!==g1(r)||(r=Ec,"selectionStart"in r&&Uy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sd&&Hd(Sd,r)||(Sd=r,r=E1(s2,"onSelect"),0<r.length&&(e=new Fy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ec)))}function gp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sc={animationend:gp("Animation","AnimationEnd"),animationiteration:gp("Animation","AnimationIteration"),animationstart:gp("Animation","AnimationStart"),transitionend:gp("Transition","TransitionEnd")},Lg={},Ax={};ho&&(Ax=document.createElement("div").style,"AnimationEvent"in window||(delete Sc.animationend.animation,delete Sc.animationiteration.animation,delete Sc.animationstart.animation),"TransitionEvent"in window||delete Sc.transitionend.transition);function bm(t){if(Lg[t])return Lg[t];if(!Sc[t])return t;var e=Sc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ax)return Lg[t]=e[n];return t}var kx=bm("animationend"),Tx=bm("animationiteration"),Ix=bm("animationstart"),Nx=bm("transitionend"),Px=new Map,P_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dl(t,e){Px.set(t,e),ju(e,[t])}for(var Rg=0;Rg<P_.length;Rg++){var Dg=P_[Rg],iN=Dg.toLowerCase(),sN=Dg[0].toUpperCase()+Dg.slice(1);Dl(iN,"on"+sN)}Dl(kx,"onAnimationEnd");Dl(Tx,"onAnimationIteration");Dl(Ix,"onAnimationStart");Dl("dblclick","onDoubleClick");Dl("focusin","onFocus");Dl("focusout","onBlur");Dl(Nx,"onTransitionEnd");Zc("onMouseEnter",["mouseout","mouseover"]);Zc("onMouseLeave",["mouseout","mouseover"]);Zc("onPointerEnter",["pointerout","pointerover"]);Zc("onPointerLeave",["pointerout","pointerover"]);ju("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ju("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ju("onBeforeInput",["compositionend","keypress","textInput","paste"]);ju("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ju("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ju("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aN=new Set("cancel close invalid load scroll toggle".split(" ").concat(hd));function C_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,iI(r,e,void 0,t),t.currentTarget=null}function Cx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;C_(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;C_(i,o,u),s=l}}}if(v1)throw t=t2,v1=!1,t2=null,t}function Pn(t,e){var n=e[h2];n===void 0&&(n=e[h2]=new Set);var r=t+"__bubble";n.has(r)||(Lx(e,t,2,!1),n.add(r))}function Og(t,e,n){var r=0;e&&(r|=4),Lx(n,t,r,e)}var yp="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[yp]){t[yp]=!0,V3.forEach(function(n){n!=="selectionchange"&&(aN.has(n)||Og(n,!1,t),Og(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yp]||(e[yp]=!0,Og("selectionchange",!1,e))}}function Lx(t,e,n,r){switch(mx(e)){case 1:var i=wI;break;case 4:i=bI;break;default:i=My}n=i.bind(null,e,n,t),i=void 0,!e2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Mg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=lu(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}tx(function(){var u=s,d=Ly(n),m=[];e:{var y=Px.get(t);if(y!==void 0){var p=Fy,N=t;switch(t){case"keypress":if(Wp(n)===0)break e;case"keydown":case"keyup":p=MI;break;case"focusin":N="focus",p=Ng;break;case"focusout":N="blur",p=Ng;break;case"beforeblur":case"afterblur":p=Ng;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=__;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=SI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=VI;break;case kx:case Tx:case Ix:p=TI;break;case Nx:p=UI;break;case"scroll":p=xI;break;case"wheel":p=qI;break;case"copy":case"cut":case"paste":p=NI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=b_}var L=(e&4)!==0,V=!L&&t==="scroll",E=L?y!==null?y+"Capture":null:y;L=[];for(var C=u,k;C!==null;){k=C;var F=k.stateNode;if(k.tag===5&&F!==null&&(k=F,E!==null&&(F=Ud(C,E),F!=null&&L.push(Kd(C,F,k)))),V)break;C=C.return}0<L.length&&(y=new p(y,N,null,n,d),m.push({event:y,listeners:L}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",y&&n!==J0&&(N=n.relatedTarget||n.fromElement)&&(lu(N)||N[fo]))break e;if((p||y)&&(y=d.window===d?d:(y=d.ownerDocument)?y.defaultView||y.parentWindow:window,p?(N=n.relatedTarget||n.toElement,p=u,N=N?lu(N):null,N!==null&&(V=Fu(N),N!==V||N.tag!==5&&N.tag!==6)&&(N=null)):(p=null,N=u),p!==N)){if(L=__,F="onMouseLeave",E="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(L=b_,F="onPointerLeave",E="onPointerEnter",C="pointer"),V=p==null?y:Ac(p),k=N==null?y:Ac(N),y=new L(F,C+"leave",p,n,d),y.target=V,y.relatedTarget=k,F=null,lu(d)===u&&(L=new L(E,C+"enter",N,n,d),L.target=k,L.relatedTarget=V,F=L),V=F,p&&N)t:{for(L=p,E=N,C=0,k=L;k;k=lc(k))C++;for(k=0,F=E;F;F=lc(F))k++;for(;0<C-k;)L=lc(L),C--;for(;0<k-C;)E=lc(E),k--;for(;C--;){if(L===E||E!==null&&L===E.alternate)break t;L=lc(L),E=lc(E)}L=null}else L=null;p!==null&&L_(m,y,p,L,!1),N!==null&&V!==null&&L_(m,V,N,L,!0)}}e:{if(y=u?Ac(u):window,p=y.nodeName&&y.nodeName.toLowerCase(),p==="select"||p==="input"&&y.type==="file")var J=QI;else if(S_(y))if(bx)J=eN;else{J=JI;var ne=XI}else(p=y.nodeName)&&p.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(J=ZI);if(J&&(J=J(t,u))){wx(m,J,n,d);break e}ne&&ne(t,y,u),t==="focusout"&&(ne=y._wrapperState)&&ne.controlled&&y.type==="number"&&G0(y,"number",y.value)}switch(ne=u?Ac(u):window,t){case"focusin":(S_(ne)||ne.contentEditable==="true")&&(Ec=ne,s2=u,Sd=null);break;case"focusout":Sd=s2=Ec=null;break;case"mousedown":a2=!0;break;case"contextmenu":case"mouseup":case"dragend":a2=!1,N_(m,n,d);break;case"selectionchange":if(rN)break;case"keydown":case"keyup":N_(m,n,d)}var j;if(zy)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else xc?vx(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(yx&&n.locale!=="ko"&&(xc||b!=="onCompositionStart"?b==="onCompositionEnd"&&xc&&(j=gx()):(rl=d,jy="value"in rl?rl.value:rl.textContent,xc=!0)),ne=E1(u,b),0<ne.length&&(b=new w_(b,t,null,n,d),m.push({event:b,listeners:ne}),j?b.data=j:(j=_x(n),j!==null&&(b.data=j)))),(j=WI?HI(t,n):GI(t,n))&&(u=E1(u,"onBeforeInput"),0<u.length&&(d=new w_("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:u}),d.data=j))}Cx(m,e)})}function Kd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function E1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ud(t,n),s!=null&&r.unshift(Kd(t,s,i)),s=Ud(t,e),s!=null&&r.push(Kd(t,s,i))),t=t.return}return r}function lc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function L_(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Ud(n,s),l!=null&&a.unshift(Kd(n,l,o))):i||(l=Ud(n,s),l!=null&&a.push(Kd(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var oN=/\r\n?/g,lN=/\u0000|\uFFFD/g;function R_(t){return(typeof t=="string"?t:""+t).replace(oN,`
`).replace(lN,"")}function vp(t,e,n){if(e=R_(e),R_(t)!==e&&n)throw Error(De(425))}function S1(){}var o2=null,l2=null;function u2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var c2=typeof setTimeout=="function"?setTimeout:void 0,uN=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,cN=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(t){return D_.resolve(null).then(t).catch(hN)}:c2;function hN(t){setTimeout(function(){throw t})}function jg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$d(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$d(e)}function hl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function O_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wh=Math.random().toString(36).slice(2),ma="__reactFiber$"+wh,Yd="__reactProps$"+wh,fo="__reactContainer$"+wh,h2="__reactEvents$"+wh,dN="__reactListeners$"+wh,fN="__reactHandles$"+wh;function lu(t){var e=t[ma];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fo]||n[ma]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=O_(t);t!==null;){if(n=t[ma])return n;t=O_(t)}return e}t=n,n=t.parentNode}return null}function Ef(t){return t=t[ma]||t[fo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ac(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(De(33))}function xm(t){return t[Yd]||null}var d2=[],kc=-1;function Ol(t){return{current:t}}function Rn(t){0>kc||(t.current=d2[kc],d2[kc]=null,kc--)}function Sn(t,e){kc++,d2[kc]=t.current,t.current=e}var kl={},ti=Ol(kl),Li=Ol(!1),wu=kl;function eh(t,e){var n=t.type.contextTypes;if(!n)return kl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ri(t){return t=t.childContextTypes,t!=null}function A1(){Rn(Li),Rn(ti)}function M_(t,e,n){if(ti.current!==kl)throw Error(De(168));Sn(ti,e),Sn(Li,n)}function Rx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(De(108,XT(t)||"Unknown",i));return Bn({},n,r)}function k1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kl,wu=ti.current,Sn(ti,t),Sn(Li,Li.current),!0}function j_(t,e,n){var r=t.stateNode;if(!r)throw Error(De(169));n?(t=Rx(t,e,wu),r.__reactInternalMemoizedMergedChildContext=t,Rn(Li),Rn(ti),Sn(ti,t)):Rn(Li),Sn(Li,n)}var eo=null,Em=!1,Fg=!1;function Dx(t){eo===null?eo=[t]:eo.push(t)}function pN(t){Em=!0,Dx(t)}function Ml(){if(!Fg&&eo!==null){Fg=!0;var t=0,e=fn;try{var n=eo;for(fn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}eo=null,Em=!1}catch(i){throw eo!==null&&(eo=eo.slice(t+1)),sx(Ry,Ml),i}finally{fn=e,Fg=!1}}return null}var Tc=[],Ic=0,T1=null,I1=0,ws=[],bs=0,bu=null,io=1,so="";function nu(t,e){Tc[Ic++]=I1,Tc[Ic++]=T1,T1=t,I1=e}function Ox(t,e,n){ws[bs++]=io,ws[bs++]=so,ws[bs++]=bu,bu=t;var r=io;t=so;var i=32-Ws(r)-1;r&=~(1<<i),n+=1;var s=32-Ws(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,io=1<<32-Ws(e)+i|n<<i|r,so=s+t}else io=1<<s|n<<i|r,so=t}function By(t){t.return!==null&&(nu(t,1),Ox(t,1,0))}function qy(t){for(;t===T1;)T1=Tc[--Ic],Tc[Ic]=null,I1=Tc[--Ic],Tc[Ic]=null;for(;t===bu;)bu=ws[--bs],ws[bs]=null,so=ws[--bs],ws[bs]=null,io=ws[--bs],ws[bs]=null}var rs=null,Zi=null,Mn=!1,qs=null;function Mx(t,e){var n=As(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function F_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rs=t,Zi=hl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rs=t,Zi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bu!==null?{id:io,overflow:so}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=As(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rs=t,Zi=null,!0):!1;default:return!1}}function f2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function p2(t){if(Mn){var e=Zi;if(e){var n=e;if(!F_(t,e)){if(f2(t))throw Error(De(418));e=hl(n.nextSibling);var r=rs;e&&F_(t,e)?Mx(r,n):(t.flags=t.flags&-4097|2,Mn=!1,rs=t)}}else{if(f2(t))throw Error(De(418));t.flags=t.flags&-4097|2,Mn=!1,rs=t}}}function V_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rs=t}function _p(t){if(t!==rs)return!1;if(!Mn)return V_(t),Mn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!u2(t.type,t.memoizedProps)),e&&(e=Zi)){if(f2(t))throw jx(),Error(De(418));for(;e;)Mx(t,e),e=hl(e.nextSibling)}if(V_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(De(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zi=hl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zi=null}}else Zi=rs?hl(t.stateNode.nextSibling):null;return!0}function jx(){for(var t=Zi;t;)t=hl(t.nextSibling)}function th(){Zi=rs=null,Mn=!1}function $y(t){qs===null?qs=[t]:qs.push(t)}var mN=wo.ReactCurrentBatchConfig;function Zh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,t))}return t}function wp(t,e){throw t=Object.prototype.toString.call(e),Error(De(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function z_(t){var e=t._init;return e(t._payload)}function Fx(t){function e(E,C){if(t){var k=E.deletions;k===null?(E.deletions=[C],E.flags|=16):k.push(C)}}function n(E,C){if(!t)return null;for(;C!==null;)e(E,C),C=C.sibling;return null}function r(E,C){for(E=new Map;C!==null;)C.key!==null?E.set(C.key,C):E.set(C.index,C),C=C.sibling;return E}function i(E,C){return E=ml(E,C),E.index=0,E.sibling=null,E}function s(E,C,k){return E.index=k,t?(k=E.alternate,k!==null?(k=k.index,k<C?(E.flags|=2,C):k):(E.flags|=2,C)):(E.flags|=1048576,C)}function a(E){return t&&E.alternate===null&&(E.flags|=2),E}function o(E,C,k,F){return C===null||C.tag!==6?(C=Wg(k,E.mode,F),C.return=E,C):(C=i(C,k),C.return=E,C)}function l(E,C,k,F){var J=k.type;return J===bc?d(E,C,k.props.children,F,k.key):C!==null&&(C.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Ko&&z_(J)===C.type)?(F=i(C,k.props),F.ref=Zh(E,C,k),F.return=E,F):(F=Jp(k.type,k.key,k.props,null,E.mode,F),F.ref=Zh(E,C,k),F.return=E,F)}function u(E,C,k,F){return C===null||C.tag!==4||C.stateNode.containerInfo!==k.containerInfo||C.stateNode.implementation!==k.implementation?(C=Hg(k,E.mode,F),C.return=E,C):(C=i(C,k.children||[]),C.return=E,C)}function d(E,C,k,F,J){return C===null||C.tag!==7?(C=gu(k,E.mode,F,J),C.return=E,C):(C=i(C,k),C.return=E,C)}function m(E,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Wg(""+C,E.mode,k),C.return=E,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case up:return k=Jp(C.type,C.key,C.props,null,E.mode,k),k.ref=Zh(E,null,C),k.return=E,k;case wc:return C=Hg(C,E.mode,k),C.return=E,C;case Ko:var F=C._init;return m(E,F(C._payload),k)}if(ud(C)||Kh(C))return C=gu(C,E.mode,k,null),C.return=E,C;wp(E,C)}return null}function y(E,C,k,F){var J=C!==null?C.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return J!==null?null:o(E,C,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case up:return k.key===J?l(E,C,k,F):null;case wc:return k.key===J?u(E,C,k,F):null;case Ko:return J=k._init,y(E,C,J(k._payload),F)}if(ud(k)||Kh(k))return J!==null?null:d(E,C,k,F,null);wp(E,k)}return null}function p(E,C,k,F,J){if(typeof F=="string"&&F!==""||typeof F=="number")return E=E.get(k)||null,o(C,E,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case up:return E=E.get(F.key===null?k:F.key)||null,l(C,E,F,J);case wc:return E=E.get(F.key===null?k:F.key)||null,u(C,E,F,J);case Ko:var ne=F._init;return p(E,C,k,ne(F._payload),J)}if(ud(F)||Kh(F))return E=E.get(k)||null,d(C,E,F,J,null);wp(C,F)}return null}function N(E,C,k,F){for(var J=null,ne=null,j=C,b=C=0,A=null;j!==null&&b<k.length;b++){j.index>b?(A=j,j=null):A=j.sibling;var D=y(E,j,k[b],F);if(D===null){j===null&&(j=A);break}t&&j&&D.alternate===null&&e(E,j),C=s(D,C,b),ne===null?J=D:ne.sibling=D,ne=D,j=A}if(b===k.length)return n(E,j),Mn&&nu(E,b),J;if(j===null){for(;b<k.length;b++)j=m(E,k[b],F),j!==null&&(C=s(j,C,b),ne===null?J=j:ne.sibling=j,ne=j);return Mn&&nu(E,b),J}for(j=r(E,j);b<k.length;b++)A=p(j,E,b,k[b],F),A!==null&&(t&&A.alternate!==null&&j.delete(A.key===null?b:A.key),C=s(A,C,b),ne===null?J=A:ne.sibling=A,ne=A);return t&&j.forEach(function(x){return e(E,x)}),Mn&&nu(E,b),J}function L(E,C,k,F){var J=Kh(k);if(typeof J!="function")throw Error(De(150));if(k=J.call(k),k==null)throw Error(De(151));for(var ne=J=null,j=C,b=C=0,A=null,D=k.next();j!==null&&!D.done;b++,D=k.next()){j.index>b?(A=j,j=null):A=j.sibling;var x=y(E,j,D.value,F);if(x===null){j===null&&(j=A);break}t&&j&&x.alternate===null&&e(E,j),C=s(x,C,b),ne===null?J=x:ne.sibling=x,ne=x,j=A}if(D.done)return n(E,j),Mn&&nu(E,b),J;if(j===null){for(;!D.done;b++,D=k.next())D=m(E,D.value,F),D!==null&&(C=s(D,C,b),ne===null?J=D:ne.sibling=D,ne=D);return Mn&&nu(E,b),J}for(j=r(E,j);!D.done;b++,D=k.next())D=p(j,E,b,D.value,F),D!==null&&(t&&D.alternate!==null&&j.delete(D.key===null?b:D.key),C=s(D,C,b),ne===null?J=D:ne.sibling=D,ne=D);return t&&j.forEach(function(I){return e(E,I)}),Mn&&nu(E,b),J}function V(E,C,k,F){if(typeof k=="object"&&k!==null&&k.type===bc&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case up:e:{for(var J=k.key,ne=C;ne!==null;){if(ne.key===J){if(J=k.type,J===bc){if(ne.tag===7){n(E,ne.sibling),C=i(ne,k.props.children),C.return=E,E=C;break e}}else if(ne.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Ko&&z_(J)===ne.type){n(E,ne.sibling),C=i(ne,k.props),C.ref=Zh(E,ne,k),C.return=E,E=C;break e}n(E,ne);break}else e(E,ne);ne=ne.sibling}k.type===bc?(C=gu(k.props.children,E.mode,F,k.key),C.return=E,E=C):(F=Jp(k.type,k.key,k.props,null,E.mode,F),F.ref=Zh(E,C,k),F.return=E,E=F)}return a(E);case wc:e:{for(ne=k.key;C!==null;){if(C.key===ne)if(C.tag===4&&C.stateNode.containerInfo===k.containerInfo&&C.stateNode.implementation===k.implementation){n(E,C.sibling),C=i(C,k.children||[]),C.return=E,E=C;break e}else{n(E,C);break}else e(E,C);C=C.sibling}C=Hg(k,E.mode,F),C.return=E,E=C}return a(E);case Ko:return ne=k._init,V(E,C,ne(k._payload),F)}if(ud(k))return N(E,C,k,F);if(Kh(k))return L(E,C,k,F);wp(E,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,C!==null&&C.tag===6?(n(E,C.sibling),C=i(C,k),C.return=E,E=C):(n(E,C),C=Wg(k,E.mode,F),C.return=E,E=C),a(E)):n(E,C)}return V}var nh=Fx(!0),Vx=Fx(!1),N1=Ol(null),P1=null,Nc=null,Wy=null;function Hy(){Wy=Nc=P1=null}function Gy(t){var e=N1.current;Rn(N1),t._currentValue=e}function m2(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fc(t,e){P1=t,Wy=Nc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pi=!0),t.firstContext=null)}function Ts(t){var e=t._currentValue;if(Wy!==t)if(t={context:t,memoizedValue:e,next:null},Nc===null){if(P1===null)throw Error(De(308));Nc=t,P1.dependencies={lanes:0,firstContext:t}}else Nc=Nc.next=t;return e}var uu=null;function Ky(t){uu===null?uu=[t]:uu.push(t)}function zx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ky(e)):(n.next=i.next,i.next=n),e.interleaved=n,po(t,r)}function po(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yo=!1;function Yy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ux(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function dl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,po(t,n)}return i=r.interleaved,i===null?(e.next=e,Ky(r)):(e.next=i.next,i.next=e),r.interleaved=e,po(t,n)}function Hp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dy(t,n)}}function U_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function C1(t,e,n,r){var i=t.updateQueue;Yo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;a=0,d=u=l=null,o=s;do{var y=o.lane,p=o.eventTime;if((r&y)===y){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=t,L=o;switch(y=e,p=n,L.tag){case 1:if(N=L.payload,typeof N=="function"){m=N.call(p,m,y);break e}m=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=L.payload,y=typeof N=="function"?N.call(p,m,y):N,y==null)break e;m=Bn({},m,y);break e;case 2:Yo=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[o]:y.push(o))}else p={eventTime:p,lane:y,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=m):d=d.next=p,a|=y;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;y=o,o=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(d===null&&(l=m),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Eu|=a,t.lanes=a,t.memoizedState=m}}function B_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(De(191,i));i.call(r)}}}var Sf={},Ea=Ol(Sf),Qd=Ol(Sf),Xd=Ol(Sf);function cu(t){if(t===Sf)throw Error(De(174));return t}function Qy(t,e){switch(Sn(Xd,e),Sn(Qd,t),Sn(Ea,Sf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Y0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Y0(e,t)}Rn(Ea),Sn(Ea,e)}function rh(){Rn(Ea),Rn(Qd),Rn(Xd)}function Bx(t){cu(Xd.current);var e=cu(Ea.current),n=Y0(e,t.type);e!==n&&(Sn(Qd,t),Sn(Ea,n))}function Xy(t){Qd.current===t&&(Rn(Ea),Rn(Qd))}var Vn=Ol(0);function L1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vg=[];function Jy(){for(var t=0;t<Vg.length;t++)Vg[t]._workInProgressVersionPrimary=null;Vg.length=0}var Gp=wo.ReactCurrentDispatcher,zg=wo.ReactCurrentBatchConfig,xu=0,Un=null,gr=null,Er=null,R1=!1,Ad=!1,Jd=0,gN=0;function Wr(){throw Error(De(321))}function Zy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ks(t[n],e[n]))return!1;return!0}function ev(t,e,n,r,i,s){if(xu=s,Un=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gp.current=t===null||t.memoizedState===null?wN:bN,t=n(r,i),Ad){s=0;do{if(Ad=!1,Jd=0,25<=s)throw Error(De(301));s+=1,Er=gr=null,e.updateQueue=null,Gp.current=xN,t=n(r,i)}while(Ad)}if(Gp.current=D1,e=gr!==null&&gr.next!==null,xu=0,Er=gr=Un=null,R1=!1,e)throw Error(De(300));return t}function tv(){var t=Jd!==0;return Jd=0,t}function fa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?Un.memoizedState=Er=t:Er=Er.next=t,Er}function Is(){if(gr===null){var t=Un.alternate;t=t!==null?t.memoizedState:null}else t=gr.next;var e=Er===null?Un.memoizedState:Er.next;if(e!==null)Er=e,gr=t;else{if(t===null)throw Error(De(310));gr=t,t={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},Er===null?Un.memoizedState=Er=t:Er=Er.next=t}return Er}function Zd(t,e){return typeof e=="function"?e(t):e}function Ug(t){var e=Is(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=gr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((xu&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=m,a=r):l=l.next=m,Un.lanes|=d,Eu|=d}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Ks(r,e.memoizedState)||(Pi=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Un.lanes|=s,Eu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bg(t){var e=Is(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ks(s,e.memoizedState)||(Pi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function qx(){}function $x(t,e){var n=Un,r=Is(),i=e(),s=!Ks(r.memoizedState,i);if(s&&(r.memoizedState=i,Pi=!0),r=r.queue,nv(Gx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Er!==null&&Er.memoizedState.tag&1){if(n.flags|=2048,ef(9,Hx.bind(null,n,r,i,e),void 0,null),Tr===null)throw Error(De(349));xu&30||Wx(n,e,i)}return i}function Wx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Un.updateQueue,e===null?(e={lastEffect:null,stores:null},Un.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Hx(t,e,n,r){e.value=n,e.getSnapshot=r,Kx(e)&&Yx(t)}function Gx(t,e,n){return n(function(){Kx(e)&&Yx(t)})}function Kx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ks(t,n)}catch{return!0}}function Yx(t){var e=po(t,1);e!==null&&Hs(e,t,1,-1)}function q_(t){var e=fa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zd,lastRenderedState:t},e.queue=t,t=t.dispatch=_N.bind(null,Un,t),[e.memoizedState,t]}function ef(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Un.updateQueue,e===null?(e={lastEffect:null,stores:null},Un.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Qx(){return Is().memoizedState}function Kp(t,e,n,r){var i=fa();Un.flags|=t,i.memoizedState=ef(1|e,n,void 0,r===void 0?null:r)}function Sm(t,e,n,r){var i=Is();r=r===void 0?null:r;var s=void 0;if(gr!==null){var a=gr.memoizedState;if(s=a.destroy,r!==null&&Zy(r,a.deps)){i.memoizedState=ef(e,n,s,r);return}}Un.flags|=t,i.memoizedState=ef(1|e,n,s,r)}function $_(t,e){return Kp(8390656,8,t,e)}function nv(t,e){return Sm(2048,8,t,e)}function Xx(t,e){return Sm(4,2,t,e)}function Jx(t,e){return Sm(4,4,t,e)}function Zx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eE(t,e,n){return n=n!=null?n.concat([t]):null,Sm(4,4,Zx.bind(null,e,t),n)}function rv(){}function tE(t,e){var n=Is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nE(t,e){var n=Is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rE(t,e,n){return xu&21?(Ks(n,e)||(n=lx(),Un.lanes|=n,Eu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pi=!0),t.memoizedState=n)}function yN(t,e){var n=fn;fn=n!==0&&4>n?n:4,t(!0);var r=zg.transition;zg.transition={};try{t(!1),e()}finally{fn=n,zg.transition=r}}function iE(){return Is().memoizedState}function vN(t,e,n){var r=pl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sE(t))aE(e,n);else if(n=zx(t,e,n,r),n!==null){var i=_i();Hs(n,t,r,i),oE(n,e,r)}}function _N(t,e,n){var r=pl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sE(t))aE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Ks(o,a)){var l=e.interleaved;l===null?(i.next=i,Ky(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=zx(t,e,i,r),n!==null&&(i=_i(),Hs(n,t,r,i),oE(n,e,r))}}function sE(t){var e=t.alternate;return t===Un||e!==null&&e===Un}function aE(t,e){Ad=R1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dy(t,n)}}var D1={readContext:Ts,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},wN={readContext:Ts,useCallback:function(t,e){return fa().memoizedState=[t,e===void 0?null:e],t},useContext:Ts,useEffect:$_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kp(4194308,4,Zx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kp(4,2,t,e)},useMemo:function(t,e){var n=fa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fa();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vN.bind(null,Un,t),[r.memoizedState,t]},useRef:function(t){var e=fa();return t={current:t},e.memoizedState=t},useState:q_,useDebugValue:rv,useDeferredValue:function(t){return fa().memoizedState=t},useTransition:function(){var t=q_(!1),e=t[0];return t=yN.bind(null,t[1]),fa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Un,i=fa();if(Mn){if(n===void 0)throw Error(De(407));n=n()}else{if(n=e(),Tr===null)throw Error(De(349));xu&30||Wx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,$_(Gx.bind(null,r,s,t),[t]),r.flags|=2048,ef(9,Hx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=fa(),e=Tr.identifierPrefix;if(Mn){var n=so,r=io;n=(r&~(1<<32-Ws(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Jd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bN={readContext:Ts,useCallback:tE,useContext:Ts,useEffect:nv,useImperativeHandle:eE,useInsertionEffect:Xx,useLayoutEffect:Jx,useMemo:nE,useReducer:Ug,useRef:Qx,useState:function(){return Ug(Zd)},useDebugValue:rv,useDeferredValue:function(t){var e=Is();return rE(e,gr.memoizedState,t)},useTransition:function(){var t=Ug(Zd)[0],e=Is().memoizedState;return[t,e]},useMutableSource:qx,useSyncExternalStore:$x,useId:iE,unstable_isNewReconciler:!1},xN={readContext:Ts,useCallback:tE,useContext:Ts,useEffect:nv,useImperativeHandle:eE,useInsertionEffect:Xx,useLayoutEffect:Jx,useMemo:nE,useReducer:Bg,useRef:Qx,useState:function(){return Bg(Zd)},useDebugValue:rv,useDeferredValue:function(t){var e=Is();return gr===null?e.memoizedState=t:rE(e,gr.memoizedState,t)},useTransition:function(){var t=Bg(Zd)[0],e=Is().memoizedState;return[t,e]},useMutableSource:qx,useSyncExternalStore:$x,useId:iE,unstable_isNewReconciler:!1};function Us(t,e){if(t&&t.defaultProps){e=Bn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function g2(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Bn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Am={isMounted:function(t){return(t=t._reactInternals)?Fu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_i(),i=pl(t),s=lo(r,i);s.payload=e,n!=null&&(s.callback=n),e=dl(t,s,i),e!==null&&(Hs(e,t,i,r),Hp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_i(),i=pl(t),s=lo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=dl(t,s,i),e!==null&&(Hs(e,t,i,r),Hp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_i(),r=pl(t),i=lo(n,r);i.tag=2,e!=null&&(i.callback=e),e=dl(t,i,r),e!==null&&(Hs(e,t,r,n),Hp(e,t,r))}};function W_(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Hd(n,r)||!Hd(i,s):!0}function lE(t,e,n){var r=!1,i=kl,s=e.contextType;return typeof s=="object"&&s!==null?s=Ts(s):(i=Ri(e)?wu:ti.current,r=e.contextTypes,s=(r=r!=null)?eh(t,i):kl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Am,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function H_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Am.enqueueReplaceState(e,e.state,null)}function y2(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Yy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ts(s):(s=Ri(e)?wu:ti.current,i.context=eh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(g2(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Am.enqueueReplaceState(i,i.state,null),C1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ih(t,e){try{var n="",r=e;do n+=QT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function qg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function v2(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var EN=typeof WeakMap=="function"?WeakMap:Map;function uE(t,e,n){n=lo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){M1||(M1=!0,I2=r),v2(t,e)},n}function cE(t,e,n){n=lo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){v2(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){v2(t,e),typeof r!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function G_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new EN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jN.bind(null,t,e,n),e.then(t,t))}function K_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Y_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lo(-1,1),e.tag=2,dl(n,e,1))),n.lanes|=1),t)}var SN=wo.ReactCurrentOwner,Pi=!1;function yi(t,e,n,r){e.child=t===null?Vx(e,null,n,r):nh(e,t.child,n,r)}function Q_(t,e,n,r,i){n=n.render;var s=e.ref;return Fc(e,i),r=ev(t,e,n,r,s,i),n=tv(),t!==null&&!Pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mo(t,e,i)):(Mn&&n&&By(e),e.flags|=1,yi(t,e,r,i),e.child)}function X_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!hv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,hE(t,e,s,r,i)):(t=Jp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hd,n(a,r)&&t.ref===e.ref)return mo(t,e,i)}return e.flags|=1,t=ml(s,r),t.ref=e.ref,t.return=e,e.child=t}function hE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Hd(s,r)&&t.ref===e.ref)if(Pi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Pi=!0);else return e.lanes=t.lanes,mo(t,e,i)}return _2(t,e,n,r,i)}function dE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sn(Cc,Ji),Ji|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Sn(Cc,Ji),Ji|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Sn(Cc,Ji),Ji|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Sn(Cc,Ji),Ji|=r;return yi(t,e,i,n),e.child}function fE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _2(t,e,n,r,i){var s=Ri(n)?wu:ti.current;return s=eh(e,s),Fc(e,i),n=ev(t,e,n,r,s,i),r=tv(),t!==null&&!Pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mo(t,e,i)):(Mn&&r&&By(e),e.flags|=1,yi(t,e,n,i),e.child)}function J_(t,e,n,r,i){if(Ri(n)){var s=!0;k1(e)}else s=!1;if(Fc(e,i),e.stateNode===null)Yp(t,e),lE(e,n,r),y2(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ts(u):(u=Ri(n)?wu:ti.current,u=eh(e,u));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&H_(e,a,r,u),Yo=!1;var y=e.memoizedState;a.state=y,C1(e,r,a,i),l=e.memoizedState,o!==r||y!==l||Li.current||Yo?(typeof d=="function"&&(g2(e,n,d,r),l=e.memoizedState),(o=Yo||W_(e,n,o,r,y,l,u))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Ux(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Us(e.type,o),a.props=u,m=e.pendingProps,y=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ts(l):(l=Ri(n)?wu:ti.current,l=eh(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||y!==l)&&H_(e,a,r,l),Yo=!1,y=e.memoizedState,a.state=y,C1(e,r,a,i);var N=e.memoizedState;o!==m||y!==N||Li.current||Yo?(typeof p=="function"&&(g2(e,n,p,r),N=e.memoizedState),(u=Yo||W_(e,n,u,r,y,N,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,N,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,N,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=N),a.props=r,a.state=N,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return w2(t,e,n,r,s,i)}function w2(t,e,n,r,i,s){fE(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&j_(e,n,!1),mo(t,e,s);r=e.stateNode,SN.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=nh(e,t.child,null,s),e.child=nh(e,null,o,s)):yi(t,e,o,s),e.memoizedState=r.state,i&&j_(e,n,!0),e.child}function pE(t){var e=t.stateNode;e.pendingContext?M_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&M_(t,e.context,!1),Qy(t,e.containerInfo)}function Z_(t,e,n,r,i){return th(),$y(i),e.flags|=256,yi(t,e,n,r),e.child}var b2={dehydrated:null,treeContext:null,retryLane:0};function x2(t){return{baseLanes:t,cachePool:null,transitions:null}}function mE(t,e,n){var r=e.pendingProps,i=Vn.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Sn(Vn,i&1),t===null)return p2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Im(a,r,0,null),t=gu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=x2(n),e.memoizedState=b2,t):iv(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return AN(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ml(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ml(o,s):(s=gu(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?x2(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=b2,r}return s=t.child,t=s.sibling,r=ml(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function iv(t,e){return e=Im({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bp(t,e,n,r){return r!==null&&$y(r),nh(e,t.child,null,n),t=iv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AN(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=qg(Error(De(422))),bp(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Im({mode:"visible",children:r.children},i,0,null),s=gu(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&nh(e,t.child,null,a),e.child.memoizedState=x2(a),e.memoizedState=b2,s);if(!(e.mode&1))return bp(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(De(419)),r=qg(s,r,void 0),bp(t,e,a,r)}if(o=(a&t.childLanes)!==0,Pi||o){if(r=Tr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,po(t,i),Hs(r,t,i,-1))}return cv(),r=qg(Error(De(421))),bp(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=FN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zi=hl(i.nextSibling),rs=e,Mn=!0,qs=null,t!==null&&(ws[bs++]=io,ws[bs++]=so,ws[bs++]=bu,io=t.id,so=t.overflow,bu=e),e=iv(e,r.children),e.flags|=4096,e)}function ew(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),m2(t.return,e,n)}function $g(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(yi(t,e,r.children,n),r=Vn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ew(t,n,e);else if(t.tag===19)ew(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Sn(Vn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&L1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$g(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&L1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$g(e,!0,n,null,s);break;case"together":$g(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Eu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(De(153));if(e.child!==null){for(t=e.child,n=ml(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ml(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kN(t,e,n){switch(e.tag){case 3:pE(e),th();break;case 5:Bx(e);break;case 1:Ri(e.type)&&k1(e);break;case 4:Qy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Sn(N1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Sn(Vn,Vn.current&1),e.flags|=128,null):n&e.child.childLanes?mE(t,e,n):(Sn(Vn,Vn.current&1),t=mo(t,e,n),t!==null?t.sibling:null);Sn(Vn,Vn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Sn(Vn,Vn.current),r)break;return null;case 22:case 23:return e.lanes=0,dE(t,e,n)}return mo(t,e,n)}var yE,E2,vE,_E;yE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};E2=function(){};vE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,cu(Ea.current);var s=null;switch(n){case"input":i=W0(t,i),r=W0(t,r),s=[];break;case"select":i=Bn({},i,{value:void 0}),r=Bn({},r,{value:void 0}),s=[];break;case"textarea":i=K0(t,i),r=K0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=S1)}Q0(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Pn("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};_E=function(t,e,n,r){n!==r&&(e.flags|=4)};function ed(t,e){if(!Mn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Hr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TN(t,e,n){var r=e.pendingProps;switch(qy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(e),null;case 1:return Ri(e.type)&&A1(),Hr(e),null;case 3:return r=e.stateNode,rh(),Rn(Li),Rn(ti),Jy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_p(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qs!==null&&(C2(qs),qs=null))),E2(t,e),Hr(e),null;case 5:Xy(e);var i=cu(Xd.current);if(n=e.type,t!==null&&e.stateNode!=null)vE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(De(166));return Hr(e),null}if(t=cu(Ea.current),_p(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ma]=e,r[Yd]=s,t=(e.mode&1)!==0,n){case"dialog":Pn("cancel",r),Pn("close",r);break;case"iframe":case"object":case"embed":Pn("load",r);break;case"video":case"audio":for(i=0;i<hd.length;i++)Pn(hd[i],r);break;case"source":Pn("error",r);break;case"img":case"image":case"link":Pn("error",r),Pn("load",r);break;case"details":Pn("toggle",r);break;case"input":u_(r,s),Pn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pn("invalid",r);break;case"textarea":h_(r,s),Pn("invalid",r)}Q0(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&vp(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&vp(r.textContent,o,t),i=["children",""+o]):Vd.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Pn("scroll",r)}switch(n){case"input":cp(r),c_(r,s,!0);break;case"textarea":cp(r),d_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=S1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=G3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ma]=e,t[Yd]=r,yE(t,e,!1,!1),e.stateNode=t;e:{switch(a=X0(n,r),n){case"dialog":Pn("cancel",t),Pn("close",t),i=r;break;case"iframe":case"object":case"embed":Pn("load",t),i=r;break;case"video":case"audio":for(i=0;i<hd.length;i++)Pn(hd[i],t);i=r;break;case"source":Pn("error",t),i=r;break;case"img":case"image":case"link":Pn("error",t),Pn("load",t),i=r;break;case"details":Pn("toggle",t),i=r;break;case"input":u_(t,r),i=W0(t,r),Pn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Bn({},r,{value:void 0}),Pn("invalid",t);break;case"textarea":h_(t,r),i=K0(t,r),Pn("invalid",t);break;default:i=r}Q0(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Q3(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&K3(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zd(t,l):typeof l=="number"&&zd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Pn("scroll",t):l!=null&&Iy(t,s,l,a))}switch(n){case"input":cp(t),c_(t,r,!1);break;case"textarea":cp(t),d_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Al(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Dc(t,!!r.multiple,s,!1):r.defaultValue!=null&&Dc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=S1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Hr(e),null;case 6:if(t&&e.stateNode!=null)_E(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(De(166));if(n=cu(Xd.current),cu(Ea.current),_p(e)){if(r=e.stateNode,n=e.memoizedProps,r[ma]=e,(s=r.nodeValue!==n)&&(t=rs,t!==null))switch(t.tag){case 3:vp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vp(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ma]=e,e.stateNode=r}return Hr(e),null;case 13:if(Rn(Vn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mn&&Zi!==null&&e.mode&1&&!(e.flags&128))jx(),th(),e.flags|=98560,s=!1;else if(s=_p(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(De(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(De(317));s[ma]=e}else th(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hr(e),s=!1}else qs!==null&&(C2(qs),qs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Vn.current&1?vr===0&&(vr=3):cv())),e.updateQueue!==null&&(e.flags|=4),Hr(e),null);case 4:return rh(),E2(t,e),t===null&&Gd(e.stateNode.containerInfo),Hr(e),null;case 10:return Gy(e.type._context),Hr(e),null;case 17:return Ri(e.type)&&A1(),Hr(e),null;case 19:if(Rn(Vn),s=e.memoizedState,s===null)return Hr(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)ed(s,!1);else{if(vr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=L1(t),a!==null){for(e.flags|=128,ed(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Sn(Vn,Vn.current&1|2),e.child}t=t.sibling}s.tail!==null&&tr()>sh&&(e.flags|=128,r=!0,ed(s,!1),e.lanes=4194304)}else{if(!r)if(t=L1(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ed(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Mn)return Hr(e),null}else 2*tr()-s.renderingStartTime>sh&&n!==1073741824&&(e.flags|=128,r=!0,ed(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tr(),e.sibling=null,n=Vn.current,Sn(Vn,r?n&1|2:n&1),e):(Hr(e),null);case 22:case 23:return uv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ji&1073741824&&(Hr(e),e.subtreeFlags&6&&(e.flags|=8192)):Hr(e),null;case 24:return null;case 25:return null}throw Error(De(156,e.tag))}function IN(t,e){switch(qy(e),e.tag){case 1:return Ri(e.type)&&A1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rh(),Rn(Li),Rn(ti),Jy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xy(e),null;case 13:if(Rn(Vn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(De(340));th()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Rn(Vn),null;case 4:return rh(),null;case 10:return Gy(e.type._context),null;case 22:case 23:return uv(),null;case 24:return null;default:return null}}var xp=!1,Zr=!1,NN=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Pc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yn(t,e,r)}else n.current=null}function S2(t,e,n){try{n()}catch(r){Yn(t,e,r)}}var tw=!1;function PN(t,e){if(o2=b1,t=Sx(),Uy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,d=0,m=t,y=null;t:for(;;){for(var p;m!==n||i!==0&&m.nodeType!==3||(o=a+i),m!==s||r!==0&&m.nodeType!==3||(l=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(p=m.firstChild)!==null;)y=m,m=p;for(;;){if(m===t)break t;if(y===n&&++u===i&&(o=a),y===s&&++d===r&&(l=a),(p=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(l2={focusedElem:t,selectionRange:n},b1=!1,Ge=e;Ge!==null;)if(e=Ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ge=t;else for(;Ge!==null;){e=Ge;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var L=N.memoizedProps,V=N.memoizedState,E=e.stateNode,C=E.getSnapshotBeforeUpdate(e.elementType===e.type?L:Us(e.type,L),V);E.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(F){Yn(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}return N=tw,tw=!1,N}function kd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&S2(e,n,s)}i=i.next}while(i!==r)}}function km(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function A2(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wE(t){var e=t.alternate;e!==null&&(t.alternate=null,wE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ma],delete e[Yd],delete e[h2],delete e[dN],delete e[fN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bE(t){return t.tag===5||t.tag===3||t.tag===4}function nw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function k2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=S1));else if(r!==4&&(t=t.child,t!==null))for(k2(t,e,n),t=t.sibling;t!==null;)k2(t,e,n),t=t.sibling}function T2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(T2(t,e,n),t=t.sibling;t!==null;)T2(t,e,n),t=t.sibling}var Dr=null,Bs=!1;function qo(t,e,n){for(n=n.child;n!==null;)xE(t,e,n),n=n.sibling}function xE(t,e,n){if(xa&&typeof xa.onCommitFiberUnmount=="function")try{xa.onCommitFiberUnmount(vm,n)}catch{}switch(n.tag){case 5:Zr||Pc(n,e);case 6:var r=Dr,i=Bs;Dr=null,qo(t,e,n),Dr=r,Bs=i,Dr!==null&&(Bs?(t=Dr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dr.removeChild(n.stateNode));break;case 18:Dr!==null&&(Bs?(t=Dr,n=n.stateNode,t.nodeType===8?jg(t.parentNode,n):t.nodeType===1&&jg(t,n),$d(t)):jg(Dr,n.stateNode));break;case 4:r=Dr,i=Bs,Dr=n.stateNode.containerInfo,Bs=!0,qo(t,e,n),Dr=r,Bs=i;break;case 0:case 11:case 14:case 15:if(!Zr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&S2(n,e,a),i=i.next}while(i!==r)}qo(t,e,n);break;case 1:if(!Zr&&(Pc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Yn(n,e,o)}qo(t,e,n);break;case 21:qo(t,e,n);break;case 22:n.mode&1?(Zr=(r=Zr)||n.memoizedState!==null,qo(t,e,n),Zr=r):qo(t,e,n);break;default:qo(t,e,n)}}function rw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NN),e.forEach(function(r){var i=VN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Dr=o.stateNode,Bs=!1;break e;case 3:Dr=o.stateNode.containerInfo,Bs=!0;break e;case 4:Dr=o.stateNode.containerInfo,Bs=!0;break e}o=o.return}if(Dr===null)throw Error(De(160));xE(s,a,i),Dr=null,Bs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Yn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)EE(e,t),e=e.sibling}function EE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vs(e,t),ca(t),r&4){try{kd(3,t,t.return),km(3,t)}catch(L){Yn(t,t.return,L)}try{kd(5,t,t.return)}catch(L){Yn(t,t.return,L)}}break;case 1:Vs(e,t),ca(t),r&512&&n!==null&&Pc(n,n.return);break;case 5:if(Vs(e,t),ca(t),r&512&&n!==null&&Pc(n,n.return),t.flags&32){var i=t.stateNode;try{zd(i,"")}catch(L){Yn(t,t.return,L)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&W3(i,s),X0(o,a);var u=X0(o,s);for(a=0;a<l.length;a+=2){var d=l[a],m=l[a+1];d==="style"?Q3(i,m):d==="dangerouslySetInnerHTML"?K3(i,m):d==="children"?zd(i,m):Iy(i,d,m,u)}switch(o){case"input":H0(i,s);break;case"textarea":H3(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Dc(i,!!s.multiple,p,!1):y!==!!s.multiple&&(s.defaultValue!=null?Dc(i,!!s.multiple,s.defaultValue,!0):Dc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yd]=s}catch(L){Yn(t,t.return,L)}}break;case 6:if(Vs(e,t),ca(t),r&4){if(t.stateNode===null)throw Error(De(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(L){Yn(t,t.return,L)}}break;case 3:if(Vs(e,t),ca(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$d(e.containerInfo)}catch(L){Yn(t,t.return,L)}break;case 4:Vs(e,t),ca(t);break;case 13:Vs(e,t),ca(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ov=tr())),r&4&&rw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Zr=(u=Zr)||d,Vs(e,t),Zr=u):Vs(e,t),ca(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ge=t,d=t.child;d!==null;){for(m=Ge=d;Ge!==null;){switch(y=Ge,p=y.child,y.tag){case 0:case 11:case 14:case 15:kd(4,y,y.return);break;case 1:Pc(y,y.return);var N=y.stateNode;if(typeof N.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(L){Yn(r,n,L)}}break;case 5:Pc(y,y.return);break;case 22:if(y.memoizedState!==null){sw(m);continue}}p!==null?(p.return=y,Ge=p):sw(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=m.stateNode,l=m.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Y3("display",a))}catch(L){Yn(t,t.return,L)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(L){Yn(t,t.return,L)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Vs(e,t),ca(t),r&4&&rw(t);break;case 21:break;default:Vs(e,t),ca(t)}}function ca(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bE(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zd(i,""),r.flags&=-33);var s=nw(t);T2(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=nw(t);k2(t,o,a);break;default:throw Error(De(161))}}catch(l){Yn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CN(t,e,n){Ge=t,SE(t)}function SE(t,e,n){for(var r=(t.mode&1)!==0;Ge!==null;){var i=Ge,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||xp;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Zr;o=xp;var u=Zr;if(xp=a,(Zr=l)&&!u)for(Ge=i;Ge!==null;)a=Ge,l=a.child,a.tag===22&&a.memoizedState!==null?aw(i):l!==null?(l.return=a,Ge=l):aw(i);for(;s!==null;)Ge=s,SE(s),s=s.sibling;Ge=i,xp=o,Zr=u}iw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ge=s):iw(t)}}function iw(t){for(;Ge!==null;){var e=Ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zr||km(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Us(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&B_(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}B_(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&$d(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}Zr||e.flags&512&&A2(e)}catch(y){Yn(e,e.return,y)}}if(e===t){Ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ge=n;break}Ge=e.return}}function sw(t){for(;Ge!==null;){var e=Ge;if(e===t){Ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ge=n;break}Ge=e.return}}function aw(t){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{km(4,e)}catch(l){Yn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Yn(e,i,l)}}var s=e.return;try{A2(e)}catch(l){Yn(e,s,l)}break;case 5:var a=e.return;try{A2(e)}catch(l){Yn(e,a,l)}}}catch(l){Yn(e,e.return,l)}if(e===t){Ge=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ge=o;break}Ge=e.return}}var LN=Math.ceil,O1=wo.ReactCurrentDispatcher,sv=wo.ReactCurrentOwner,ks=wo.ReactCurrentBatchConfig,Qt=0,Tr=null,or=null,Fr=0,Ji=0,Cc=Ol(0),vr=0,tf=null,Eu=0,Tm=0,av=0,Td=null,Ti=null,ov=0,sh=1/0,Za=null,M1=!1,I2=null,fl=null,Ep=!1,il=null,j1=0,Id=0,N2=null,Qp=-1,Xp=0;function _i(){return Qt&6?tr():Qp!==-1?Qp:Qp=tr()}function pl(t){return t.mode&1?Qt&2&&Fr!==0?Fr&-Fr:mN.transition!==null?(Xp===0&&(Xp=lx()),Xp):(t=fn,t!==0||(t=window.event,t=t===void 0?16:mx(t.type)),t):1}function Hs(t,e,n,r){if(50<Id)throw Id=0,N2=null,Error(De(185));bf(t,n,r),(!(Qt&2)||t!==Tr)&&(t===Tr&&(!(Qt&2)&&(Tm|=n),vr===4&&Xo(t,Fr)),Di(t,r),n===1&&Qt===0&&!(e.mode&1)&&(sh=tr()+500,Em&&Ml()))}function Di(t,e){var n=t.callbackNode;mI(t,e);var r=w1(t,t===Tr?Fr:0);if(r===0)n!==null&&m_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&m_(n),e===1)t.tag===0?pN(ow.bind(null,t)):Dx(ow.bind(null,t)),cN(function(){!(Qt&6)&&Ml()}),n=null;else{switch(ux(r)){case 1:n=Ry;break;case 4:n=ax;break;case 16:n=_1;break;case 536870912:n=ox;break;default:n=_1}n=LE(n,AE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function AE(t,e){if(Qp=-1,Xp=0,Qt&6)throw Error(De(327));var n=t.callbackNode;if(Vc()&&t.callbackNode!==n)return null;var r=w1(t,t===Tr?Fr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=F1(t,r);else{e=r;var i=Qt;Qt|=2;var s=TE();(Tr!==t||Fr!==e)&&(Za=null,sh=tr()+500,mu(t,e));do try{ON();break}catch(o){kE(t,o)}while(1);Hy(),O1.current=s,Qt=i,or!==null?e=0:(Tr=null,Fr=0,e=vr)}if(e!==0){if(e===2&&(i=n2(t),i!==0&&(r=i,e=P2(t,i))),e===1)throw n=tf,mu(t,0),Xo(t,r),Di(t,tr()),n;if(e===6)Xo(t,r);else{if(i=t.current.alternate,!(r&30)&&!RN(i)&&(e=F1(t,r),e===2&&(s=n2(t),s!==0&&(r=s,e=P2(t,s))),e===1))throw n=tf,mu(t,0),Xo(t,r),Di(t,tr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(De(345));case 2:ru(t,Ti,Za);break;case 3:if(Xo(t,r),(r&130023424)===r&&(e=ov+500-tr(),10<e)){if(w1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_i(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=c2(ru.bind(null,t,Ti,Za),e);break}ru(t,Ti,Za);break;case 4:if(Xo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Ws(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=tr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LN(r/1960))-r,10<r){t.timeoutHandle=c2(ru.bind(null,t,Ti,Za),r);break}ru(t,Ti,Za);break;case 5:ru(t,Ti,Za);break;default:throw Error(De(329))}}}return Di(t,tr()),t.callbackNode===n?AE.bind(null,t):null}function P2(t,e){var n=Td;return t.current.memoizedState.isDehydrated&&(mu(t,e).flags|=256),t=F1(t,e),t!==2&&(e=Ti,Ti=n,e!==null&&C2(e)),t}function C2(t){Ti===null?Ti=t:Ti.push.apply(Ti,t)}function RN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ks(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xo(t,e){for(e&=~av,e&=~Tm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ws(e),r=1<<n;t[n]=-1,e&=~r}}function ow(t){if(Qt&6)throw Error(De(327));Vc();var e=w1(t,0);if(!(e&1))return Di(t,tr()),null;var n=F1(t,e);if(t.tag!==0&&n===2){var r=n2(t);r!==0&&(e=r,n=P2(t,r))}if(n===1)throw n=tf,mu(t,0),Xo(t,e),Di(t,tr()),n;if(n===6)throw Error(De(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ru(t,Ti,Za),Di(t,tr()),null}function lv(t,e){var n=Qt;Qt|=1;try{return t(e)}finally{Qt=n,Qt===0&&(sh=tr()+500,Em&&Ml())}}function Su(t){il!==null&&il.tag===0&&!(Qt&6)&&Vc();var e=Qt;Qt|=1;var n=ks.transition,r=fn;try{if(ks.transition=null,fn=1,t)return t()}finally{fn=r,ks.transition=n,Qt=e,!(Qt&6)&&Ml()}}function uv(){Ji=Cc.current,Rn(Cc)}function mu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uN(n)),or!==null)for(n=or.return;n!==null;){var r=n;switch(qy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&A1();break;case 3:rh(),Rn(Li),Rn(ti),Jy();break;case 5:Xy(r);break;case 4:rh();break;case 13:Rn(Vn);break;case 19:Rn(Vn);break;case 10:Gy(r.type._context);break;case 22:case 23:uv()}n=n.return}if(Tr=t,or=t=ml(t.current,null),Fr=Ji=e,vr=0,tf=null,av=Tm=Eu=0,Ti=Td=null,uu!==null){for(e=0;e<uu.length;e++)if(n=uu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}uu=null}return t}function kE(t,e){do{var n=or;try{if(Hy(),Gp.current=D1,R1){for(var r=Un.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}R1=!1}if(xu=0,Er=gr=Un=null,Ad=!1,Jd=0,sv.current=null,n===null||n.return===null){vr=1,tf=e,or=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Fr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var y=d.alternate;y?(d.updateQueue=y.updateQueue,d.memoizedState=y.memoizedState,d.lanes=y.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=K_(a);if(p!==null){p.flags&=-257,Y_(p,a,o,s,e),p.mode&1&&G_(s,u,e),e=p,l=u;var N=e.updateQueue;if(N===null){var L=new Set;L.add(l),e.updateQueue=L}else N.add(l);break e}else{if(!(e&1)){G_(s,u,e),cv();break e}l=Error(De(426))}}else if(Mn&&o.mode&1){var V=K_(a);if(V!==null){!(V.flags&65536)&&(V.flags|=256),Y_(V,a,o,s,e),$y(ih(l,o));break e}}s=l=ih(l,o),vr!==4&&(vr=2),Td===null?Td=[s]:Td.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=uE(s,l,e);U_(s,E);break e;case 1:o=l;var C=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof C.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(fl===null||!fl.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var F=cE(s,o,e);U_(s,F);break e}}s=s.return}while(s!==null)}NE(n)}catch(J){e=J,or===n&&n!==null&&(or=n=n.return);continue}break}while(1)}function TE(){var t=O1.current;return O1.current=D1,t===null?D1:t}function cv(){(vr===0||vr===3||vr===2)&&(vr=4),Tr===null||!(Eu&268435455)&&!(Tm&268435455)||Xo(Tr,Fr)}function F1(t,e){var n=Qt;Qt|=2;var r=TE();(Tr!==t||Fr!==e)&&(Za=null,mu(t,e));do try{DN();break}catch(i){kE(t,i)}while(1);if(Hy(),Qt=n,O1.current=r,or!==null)throw Error(De(261));return Tr=null,Fr=0,vr}function DN(){for(;or!==null;)IE(or)}function ON(){for(;or!==null&&!aI();)IE(or)}function IE(t){var e=CE(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,e===null?NE(t):or=e,sv.current=null}function NE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IN(n,e),n!==null){n.flags&=32767,or=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vr=6,or=null;return}}else if(n=TN(n,e,Ji),n!==null){or=n;return}if(e=e.sibling,e!==null){or=e;return}or=e=t}while(e!==null);vr===0&&(vr=5)}function ru(t,e,n){var r=fn,i=ks.transition;try{ks.transition=null,fn=1,MN(t,e,n,r)}finally{ks.transition=i,fn=r}return null}function MN(t,e,n,r){do Vc();while(il!==null);if(Qt&6)throw Error(De(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(De(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(gI(t,s),t===Tr&&(or=Tr=null,Fr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ep||(Ep=!0,LE(_1,function(){return Vc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ks.transition,ks.transition=null;var a=fn;fn=1;var o=Qt;Qt|=4,sv.current=null,PN(t,n),EE(n,t),nN(l2),b1=!!o2,l2=o2=null,t.current=n,CN(n),oI(),Qt=o,fn=a,ks.transition=s}else t.current=n;if(Ep&&(Ep=!1,il=t,j1=i),s=t.pendingLanes,s===0&&(fl=null),cI(n.stateNode),Di(t,tr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(M1)throw M1=!1,t=I2,I2=null,t;return j1&1&&t.tag!==0&&Vc(),s=t.pendingLanes,s&1?t===N2?Id++:(Id=0,N2=t):Id=0,Ml(),null}function Vc(){if(il!==null){var t=ux(j1),e=ks.transition,n=fn;try{if(ks.transition=null,fn=16>t?16:t,il===null)var r=!1;else{if(t=il,il=null,j1=0,Qt&6)throw Error(De(331));var i=Qt;for(Qt|=4,Ge=t.current;Ge!==null;){var s=Ge,a=s.child;if(Ge.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ge=u;Ge!==null;){var d=Ge;switch(d.tag){case 0:case 11:case 15:kd(8,d,s)}var m=d.child;if(m!==null)m.return=d,Ge=m;else for(;Ge!==null;){d=Ge;var y=d.sibling,p=d.return;if(wE(d),d===u){Ge=null;break}if(y!==null){y.return=p,Ge=y;break}Ge=p}}}var N=s.alternate;if(N!==null){var L=N.child;if(L!==null){N.child=null;do{var V=L.sibling;L.sibling=null,L=V}while(L!==null)}}Ge=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Ge=a;else e:for(;Ge!==null;){if(s=Ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kd(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Ge=E;break e}Ge=s.return}}var C=t.current;for(Ge=C;Ge!==null;){a=Ge;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,Ge=k;else e:for(a=C;Ge!==null;){if(o=Ge,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:km(9,o)}}catch(J){Yn(o,o.return,J)}if(o===a){Ge=null;break e}var F=o.sibling;if(F!==null){F.return=o.return,Ge=F;break e}Ge=o.return}}if(Qt=i,Ml(),xa&&typeof xa.onPostCommitFiberRoot=="function")try{xa.onPostCommitFiberRoot(vm,t)}catch{}r=!0}return r}finally{fn=n,ks.transition=e}}return!1}function lw(t,e,n){e=ih(n,e),e=uE(t,e,1),t=dl(t,e,1),e=_i(),t!==null&&(bf(t,1,e),Di(t,e))}function Yn(t,e,n){if(t.tag===3)lw(t,t,n);else for(;e!==null;){if(e.tag===3){lw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fl===null||!fl.has(r))){t=ih(n,t),t=cE(e,t,1),e=dl(e,t,1),t=_i(),e!==null&&(bf(e,1,t),Di(e,t));break}}e=e.return}}function jN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_i(),t.pingedLanes|=t.suspendedLanes&n,Tr===t&&(Fr&n)===n&&(vr===4||vr===3&&(Fr&130023424)===Fr&&500>tr()-ov?mu(t,0):av|=n),Di(t,e)}function PE(t,e){e===0&&(t.mode&1?(e=fp,fp<<=1,!(fp&130023424)&&(fp=4194304)):e=1);var n=_i();t=po(t,e),t!==null&&(bf(t,e,n),Di(t,n))}function FN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),PE(t,n)}function VN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(e),PE(t,n)}var CE;CE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Li.current)Pi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pi=!1,kN(t,e,n);Pi=!!(t.flags&131072)}else Pi=!1,Mn&&e.flags&1048576&&Ox(e,I1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yp(t,e),t=e.pendingProps;var i=eh(e,ti.current);Fc(e,n),i=ev(null,e,r,t,i,n);var s=tv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ri(r)?(s=!0,k1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yy(e),i.updater=Am,e.stateNode=i,i._reactInternals=e,y2(e,r,t,n),e=w2(null,e,r,!0,s,n)):(e.tag=0,Mn&&s&&By(e),yi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UN(r),t=Us(r,t),i){case 0:e=_2(null,e,r,t,n);break e;case 1:e=J_(null,e,r,t,n);break e;case 11:e=Q_(null,e,r,t,n);break e;case 14:e=X_(null,e,r,Us(r.type,t),n);break e}throw Error(De(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Us(r,i),_2(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Us(r,i),J_(t,e,r,i,n);case 3:e:{if(pE(e),t===null)throw Error(De(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ux(t,e),C1(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ih(Error(De(423)),e),e=Z_(t,e,r,n,i);break e}else if(r!==i){i=ih(Error(De(424)),e),e=Z_(t,e,r,n,i);break e}else for(Zi=hl(e.stateNode.containerInfo.firstChild),rs=e,Mn=!0,qs=null,n=Vx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(th(),r===i){e=mo(t,e,n);break e}yi(t,e,r,n)}e=e.child}return e;case 5:return Bx(e),t===null&&p2(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,u2(r,i)?a=null:s!==null&&u2(r,s)&&(e.flags|=32),fE(t,e),yi(t,e,a,n),e.child;case 6:return t===null&&p2(e),null;case 13:return mE(t,e,n);case 4:return Qy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nh(e,null,r,n):yi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Us(r,i),Q_(t,e,r,i,n);case 7:return yi(t,e,e.pendingProps,n),e.child;case 8:return yi(t,e,e.pendingProps.children,n),e.child;case 12:return yi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Sn(N1,r._currentValue),r._currentValue=a,s!==null)if(Ks(s.value,a)){if(s.children===i.children&&!Li.current){e=mo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=lo(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),m2(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(De(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),m2(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}yi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Fc(e,n),i=Ts(i),r=r(i),e.flags|=1,yi(t,e,r,n),e.child;case 14:return r=e.type,i=Us(r,e.pendingProps),i=Us(r.type,i),X_(t,e,r,i,n);case 15:return hE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Us(r,i),Yp(t,e),e.tag=1,Ri(r)?(t=!0,k1(e)):t=!1,Fc(e,n),lE(e,r,i),y2(e,r,i,n),w2(null,e,r,!0,t,n);case 19:return gE(t,e,n);case 22:return dE(t,e,n)}throw Error(De(156,e.tag))};function LE(t,e){return sx(t,e)}function zN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function As(t,e,n,r){return new zN(t,e,n,r)}function hv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UN(t){if(typeof t=="function")return hv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Py)return 11;if(t===Cy)return 14}return 2}function ml(t,e){var n=t.alternate;return n===null?(n=As(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jp(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")hv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case bc:return gu(n.children,i,s,e);case Ny:a=8,i|=8;break;case U0:return t=As(12,n,e,i|2),t.elementType=U0,t.lanes=s,t;case B0:return t=As(13,n,e,i),t.elementType=B0,t.lanes=s,t;case q0:return t=As(19,n,e,i),t.elementType=q0,t.lanes=s,t;case B3:return Im(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z3:a=10;break e;case U3:a=9;break e;case Py:a=11;break e;case Cy:a=14;break e;case Ko:a=16,r=null;break e}throw Error(De(130,t==null?t:typeof t,""))}return e=As(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function gu(t,e,n,r){return t=As(7,t,r,e),t.lanes=n,t}function Im(t,e,n,r){return t=As(22,t,r,e),t.elementType=B3,t.lanes=n,t.stateNode={isHidden:!1},t}function Wg(t,e,n){return t=As(6,t,null,e),t.lanes=n,t}function Hg(t,e,n){return e=As(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kg(0),this.expirationTimes=kg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dv(t,e,n,r,i,s,a,o,l){return t=new BN(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=As(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yy(s),t}function qN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function RE(t){if(!t)return kl;t=t._reactInternals;e:{if(Fu(t)!==t||t.tag!==1)throw Error(De(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ri(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(De(171))}if(t.tag===1){var n=t.type;if(Ri(n))return Rx(t,n,e)}return e}function DE(t,e,n,r,i,s,a,o,l){return t=dv(n,r,!0,t,i,s,a,o,l),t.context=RE(null),n=t.current,r=_i(),i=pl(n),s=lo(r,i),s.callback=e??null,dl(n,s,i),t.current.lanes=i,bf(t,i,r),Di(t,r),t}function Nm(t,e,n,r){var i=e.current,s=_i(),a=pl(i);return n=RE(n),e.context===null?e.context=n:e.pendingContext=n,e=lo(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=dl(i,e,a),t!==null&&(Hs(t,i,a,s),Hp(t,i,a)),a}function V1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fv(t,e){uw(t,e),(t=t.alternate)&&uw(t,e)}function $N(){return null}var OE=typeof reportError=="function"?reportError:function(t){console.error(t)};function pv(t){this._internalRoot=t}Pm.prototype.render=pv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(De(409));Nm(t,e,null,null)};Pm.prototype.unmount=pv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Su(function(){Nm(null,t,null,null)}),e[fo]=null}};function Pm(t){this._internalRoot=t}Pm.prototype.unstable_scheduleHydration=function(t){if(t){var e=dx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qo.length&&e!==0&&e<Qo[n].priority;n++);Qo.splice(n,0,t),n===0&&px(t)}};function mv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cw(){}function WN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=V1(a);s.call(u)}}var a=DE(e,r,t,0,null,!1,!1,"",cw);return t._reactRootContainer=a,t[fo]=a.current,Gd(t.nodeType===8?t.parentNode:t),Su(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=V1(l);o.call(u)}}var l=dv(t,0,!1,null,null,!1,!1,"",cw);return t._reactRootContainer=l,t[fo]=l.current,Gd(t.nodeType===8?t.parentNode:t),Su(function(){Nm(e,l,n,r)}),l}function Lm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=V1(a);o.call(l)}}Nm(e,a,t,i)}else a=WN(n,e,t,i,r);return V1(a)}cx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cd(e.pendingLanes);n!==0&&(Dy(e,n|1),Di(e,tr()),!(Qt&6)&&(sh=tr()+500,Ml()))}break;case 13:Su(function(){var r=po(t,1);if(r!==null){var i=_i();Hs(r,t,1,i)}}),fv(t,1)}};Oy=function(t){if(t.tag===13){var e=po(t,134217728);if(e!==null){var n=_i();Hs(e,t,134217728,n)}fv(t,134217728)}};hx=function(t){if(t.tag===13){var e=pl(t),n=po(t,e);if(n!==null){var r=_i();Hs(n,t,e,r)}fv(t,e)}};dx=function(){return fn};fx=function(t,e){var n=fn;try{return fn=t,e()}finally{fn=n}};Z0=function(t,e,n){switch(e){case"input":if(H0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xm(r);if(!i)throw Error(De(90));$3(r),H0(r,i)}}}break;case"textarea":H3(t,n);break;case"select":e=n.value,e!=null&&Dc(t,!!n.multiple,e,!1)}};Z3=lv;ex=Su;var HN={usingClientEntryPoint:!1,Events:[Ef,Ac,xm,X3,J3,lv]},td={findFiberByHostInstance:lu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GN={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rx(t),t===null?null:t.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||$N,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sp.isDisabled&&Sp.supportsFiber)try{vm=Sp.inject(GN),xa=Sp}catch{}}as.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HN;as.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mv(e))throw Error(De(200));return qN(t,e,null,n)};as.createRoot=function(t,e){if(!mv(t))throw Error(De(299));var n=!1,r="",i=OE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=dv(t,1,!1,null,null,n,!1,r,i),t[fo]=e.current,Gd(t.nodeType===8?t.parentNode:t),new pv(e)};as.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(De(188)):(t=Object.keys(t).join(","),Error(De(268,t)));return t=rx(e),t=t===null?null:t.stateNode,t};as.flushSync=function(t){return Su(t)};as.hydrate=function(t,e,n){if(!Cm(e))throw Error(De(200));return Lm(null,t,e,!0,n)};as.hydrateRoot=function(t,e,n){if(!mv(t))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=OE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=DE(e,null,t,1,n??null,i,!1,s,a),t[fo]=e.current,Gd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Pm(e)};as.render=function(t,e,n){if(!Cm(e))throw Error(De(200));return Lm(null,t,e,!1,n)};as.unmountComponentAtNode=function(t){if(!Cm(t))throw Error(De(40));return t._reactRootContainer?(Su(function(){Lm(null,null,t,!1,function(){t._reactRootContainer=null,t[fo]=null})}),!0):!1};as.unstable_batchedUpdates=lv;as.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cm(n))throw Error(De(200));if(t==null||t._reactInternals===void 0)throw Error(De(38));return Lm(t,e,n,!1,r)};as.version="18.3.1-next-f1338f8080-20240426";function ME(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ME)}catch(t){console.error(t)}}ME(),M3.exports=as;var KN=M3.exports,hw=KN;V0.createRoot=hw.createRoot,V0.hydrateRoot=hw.hydrateRoot;const YN=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},FE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,m=(s&3)<<4|o>>4;let y=(o&15)<<2|u>>6,p=u&63;l||(p=64,a||(y=64)),r.push(n[d],n[m],n[y],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||m==null)throw new XN;const y=s<<2|o>>4;if(r.push(y),u!==64){const p=o<<4&240|u>>2;if(r.push(p),m!==64){const N=u<<6&192|m;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JN=function(t){const e=jE(t);return FE.encodeByteArray(e,!0)},z1=function(t){return JN(t).replace(/\./g,"")},VE=function(t){try{return FE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=()=>ZN().__FIREBASE_DEFAULTS__,tP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VE(t[1]);return e&&JSON.parse(e)},Rm=()=>{try{return YN()||eP()||tP()||nP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zE=t=>{var e,n;return(n=(e=Rm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},rP=t=>{const e=zE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},UE=()=>{var t;return(t=Rm())==null?void 0:t.config},BE=t=>{var e;return(e=Rm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t},o="";return[z1(JSON.stringify(n)),z1(JSON.stringify(a)),o].join(".")}const Nd={};function aP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nd))Nd[e]?t.emulator.push(e):t.prod.push(e);return t}function oP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let dw=!1;function $E(t,e){if(typeof window>"u"||typeof document>"u"||!bh(window.location.host)||Nd[t]===e||Nd[t]||dw)return;Nd[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=aP().prod.length>0;function a(){const y=document.getElementById(r);y&&y.remove()}function o(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function l(y,p){y.setAttribute("width","24"),y.setAttribute("id",p),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function u(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{dw=!0,a()},y}function d(y,p){y.setAttribute("id",p),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=oP(r),p=n("text"),N=document.getElementById(p)||document.createElement("span"),L=n("learnmore"),V=document.getElementById(L)||document.createElement("a"),E=n("preprendIcon"),C=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const k=y.element;o(k),d(V,L);const F=u();l(C,E),k.append(C,N,V,F),document.body.appendChild(k)}s?(N.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ni())}function uP(){var e;const t=(e=Rm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fP(){const t=ni();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pP(){return!uP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mP(){try{return typeof indexedDB=="object"}catch{return!1}}function gP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="FirebaseError";class bo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yP,Object.setPrototypeOf(this,bo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Af.prototype.create)}}class Af{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?vP(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new bo(i,o,r)}}function vP(t,e){return t.replace(_P,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _P=/\{\$([^}]+)}/g;function wP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Au(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(fw(s)&&fw(a)){if(!Au(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function fd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bP(t,e){const n=new xP(t,e);return n.subscribe.bind(n)}class xP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gg),i.error===void 0&&(i.error=Gg),i.complete===void 0&&(i.complete=Gg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t){return t&&t._delegate?t._delegate:t}class ku{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kP(e))try{this.getOrInitializeService({instanceIdentifier:iu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=iu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=iu){return this.instances.has(e)}getOptions(e=iu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=iu){return this.component?this.component.multipleInstances?e:iu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AP(t){return t===iu?void 0:t}function kP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ft||(Ft={}));const IP={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},NP=Ft.INFO,PP={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},CP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=PP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gv{constructor(e){this.name=e,this._logLevel=NP,this._logHandler=CP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...e),this._logHandler(this,Ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...e),this._logHandler(this,Ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...e),this._logHandler(this,Ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...e),this._logHandler(this,Ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...e),this._logHandler(this,Ft.ERROR,...e)}}const LP=(t,e)=>e.some(n=>t instanceof n);let pw,mw;function RP(){return pw||(pw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DP(){return mw||(mw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WE=new WeakMap,L2=new WeakMap,HE=new WeakMap,Kg=new WeakMap,yv=new WeakMap;function OP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(gl(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&WE.set(n,t)}).catch(()=>{}),yv.set(e,t),e}function MP(t){if(L2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});L2.set(t,e)}let R2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return L2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jP(t){R2=t(R2)}function FP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yg(this),e,...n);return HE.set(r,e.sort?e.sort():[e]),gl(r)}:DP().includes(t)?function(...e){return t.apply(Yg(this),e),gl(WE.get(this))}:function(...e){return gl(t.apply(Yg(this),e))}}function VP(t){return typeof t=="function"?FP(t):(t instanceof IDBTransaction&&MP(t),LP(t,RP())?new Proxy(t,R2):t)}function gl(t){if(t instanceof IDBRequest)return OP(t);if(Kg.has(t))return Kg.get(t);const e=VP(t);return e!==t&&(Kg.set(t,e),yv.set(e,t)),e}const Yg=t=>yv.get(t);function zP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=gl(a);return r&&a.addEventListener("upgradeneeded",l=>{r(gl(a.result),l.oldVersion,l.newVersion,gl(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const UP=["get","getKey","getAll","getAllKeys","count"],BP=["put","add","delete","clear"],Qg=new Map;function gw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qg.get(e))return Qg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=BP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UP.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return Qg.set(e,s),s}jP(t=>({...t,get:(e,n,r)=>gw(e,n)||t.get(e,n,r),has:(e,n)=>!!gw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($P(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $P(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const D2="@firebase/app",yw="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new gv("@firebase/app"),WP="@firebase/app-compat",HP="@firebase/analytics-compat",GP="@firebase/analytics",KP="@firebase/app-check-compat",YP="@firebase/app-check",QP="@firebase/auth",XP="@firebase/auth-compat",JP="@firebase/database",ZP="@firebase/data-connect",eC="@firebase/database-compat",tC="@firebase/functions",nC="@firebase/functions-compat",rC="@firebase/installations",iC="@firebase/installations-compat",sC="@firebase/messaging",aC="@firebase/messaging-compat",oC="@firebase/performance",lC="@firebase/performance-compat",uC="@firebase/remote-config",cC="@firebase/remote-config-compat",hC="@firebase/storage",dC="@firebase/storage-compat",fC="@firebase/firestore",pC="@firebase/ai",mC="@firebase/firestore-compat",gC="firebase",yC="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="[DEFAULT]",vC={[D2]:"fire-core",[WP]:"fire-core-compat",[GP]:"fire-analytics",[HP]:"fire-analytics-compat",[YP]:"fire-app-check",[KP]:"fire-app-check-compat",[QP]:"fire-auth",[XP]:"fire-auth-compat",[JP]:"fire-rtdb",[ZP]:"fire-data-connect",[eC]:"fire-rtdb-compat",[tC]:"fire-fn",[nC]:"fire-fn-compat",[rC]:"fire-iid",[iC]:"fire-iid-compat",[sC]:"fire-fcm",[aC]:"fire-fcm-compat",[oC]:"fire-perf",[lC]:"fire-perf-compat",[uC]:"fire-rc",[cC]:"fire-rc-compat",[hC]:"fire-gcs",[dC]:"fire-gcs-compat",[fC]:"fire-fst",[mC]:"fire-fst-compat",[pC]:"fire-vertex","fire-js":"fire-js",[gC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=new Map,_C=new Map,M2=new Map;function vw(t,e){try{t.container.addComponent(e)}catch(n){go.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ah(t){const e=t.name;if(M2.has(e))return go.debug(`There were multiple attempts to register component ${e}.`),!1;M2.set(e,t);for(const n of U1.values())vw(n,t);for(const n of _C.values())vw(n,t);return!0}function vv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yl=new Af("app","Firebase",wC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ku("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=yC;function GE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:O2,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw yl.create("bad-app-name",{appName:String(i)});if(n||(n=UE()),!n)throw yl.create("no-options");const s=U1.get(i);if(s){if(Au(n,s.options)&&Au(r,s.config))return s;throw yl.create("duplicate-app",{appName:i})}const a=new TP(i);for(const l of M2.values())a.addComponent(l);const o=new bC(n,r,a);return U1.set(i,o),o}function KE(t=O2){const e=U1.get(t);if(!e&&t===O2&&UE())return GE();if(!e)throw yl.create("no-app",{appName:t});return e}function vl(t,e,n){let r=vC[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),go.warn(a.join(" "));return}ah(new ku(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="firebase-heartbeat-database",EC=1,nf="firebase-heartbeat-store";let Xg=null;function YE(){return Xg||(Xg=zP(xC,EC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nf)}catch(n){console.warn(n)}}}}).catch(t=>{throw yl.create("idb-open",{originalErrorMessage:t.message})})),Xg}async function SC(t){try{const n=(await YE()).transaction(nf),r=await n.objectStore(nf).get(QE(t));return await n.done,r}catch(e){if(e instanceof bo)go.warn(e.message);else{const n=yl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});go.warn(n.message)}}}async function _w(t,e){try{const r=(await YE()).transaction(nf,"readwrite");await r.objectStore(nf).put(e,QE(t)),await r.done}catch(n){if(n instanceof bo)go.warn(n.message);else{const r=yl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});go.warn(r.message)}}}function QE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=1024,kC=30;class TC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ww();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>kC){const a=PC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){go.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ww(),{heartbeatsToSend:r,unsentEntries:i}=IC(this._heartbeatsCache.heartbeats),s=z1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return go.warn(n),""}}}function ww(){return new Date().toISOString().substring(0,10)}function IC(t,e=AC){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),bw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mP()?gP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _w(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _w(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function bw(t){return z1(JSON.stringify({version:2,heartbeats:t})).length}function PC(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t){ah(new ku("platform-logger",e=>new qP(e),"PRIVATE")),ah(new ku("heartbeat",e=>new TC(e),"PRIVATE")),vl(D2,yw,t),vl(D2,yw,"esm2020"),vl("fire-js","")}CC("");var LC="firebase",RC="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vl(LC,RC,"app");function XE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DC=XE,JE=new Af("auth","Firebase",XE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=new gv("@firebase/auth");function OC(t,...e){B1.logLevel<=Ft.WARN&&B1.warn(`Auth (${xh}): ${t}`,...e)}function Zp(t,...e){B1.logLevel<=Ft.ERROR&&B1.error(`Auth (${xh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,...e){throw _v(t,...e)}function Sa(t,...e){return _v(t,...e)}function ZE(t,e,n){const r={...DC(),[e]:n};return new Af("auth","Firebase",r).create(e,{appName:t.name})}function uo(t){return ZE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _v(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JE.create(t,...e)}function ft(t,e,...n){if(!t)throw _v(e,...n)}function ao(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zp(e),new Error(e)}function yo(t,e){t||ao(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function MC(){return xw()==="http:"||xw()==="https:"}function xw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MC()||hP()||"connection"in navigator)?navigator.onLine:!0}function FC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.shortDelay=e,this.longDelay=n,yo(n>e,"Short delay should be less than long delay!"),this.isMobile=lP()||dP()}get(){return jC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t,e){yo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ao("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ao("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ao("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UC=new Tf(3e4,6e4);function jl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fl(t,e,n,r,i={}){return tS(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=kf({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return cP()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&bh(t.emulatorConfig.host)&&(u.credentials="include"),eS.fetch()(await nS(t,t.config.apiHost,n,o),u)})}async function tS(t,e,n){t._canInitEmulator=!1;const r={...VC,...e};try{const i=new qC(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Ap(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ap(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Ap(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Ap(t,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ZE(t,d,u);Ys(t,d)}}catch(i){if(i instanceof bo)throw i;Ys(t,"network-request-failed",{message:String(i)})}}async function If(t,e,n,r,i={}){const s=await Fl(t,e,n,r,i);return"mfaPendingCredential"in s&&Ys(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function nS(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?wv(t.config,i):`${t.config.apiScheme}://${i}`;return zC.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function BC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sa(this.auth,"network-request-failed")),UC.get())})}}function Ap(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sa(t,e,r);return i.customData._tokenResponse=n,i}function Ew(t){return t!==void 0&&t.enterprise!==void 0}class $C{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WC(t,e){return Fl(t,"GET","/v2/recaptchaConfig",jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(t,e){return Fl(t,"POST","/v1/accounts:delete",e)}async function q1(t,e){return Fl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GC(t,e=!1){const n=sr(t),r=await n.getIdToken(e),i=bv(r);ft(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Pd(Jg(i.auth_time)),issuedAtTime:Pd(Jg(i.iat)),expirationTime:Pd(Jg(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Jg(t){return Number(t)*1e3}function bv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zp("JWT malformed, contained fewer than 3 sections"),null;try{const i=VE(n);return i?JSON.parse(i):(Zp("Failed to decode base64 JWT payload"),null)}catch(i){return Zp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Sw(t){const e=bv(t);return ft(e,"internal-error"),ft(typeof e.exp<"u","internal-error"),ft(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof bo&&KC(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function KC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pd(this.lastLoginAt),this.creationTime=Pd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(t){var m;const e=t.auth,n=await t.getIdToken(),r=await rf(t,q1(e,{idToken:n}));ft(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?rS(i.providerUserInfo):[],a=XC(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new F2(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function QC(t){const e=sr(t);await $1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XC(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(t,e){const n=await tS(t,{},async()=>{const r=kf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await nS(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&bh(t.emulatorConfig.host)&&(l.credentials="include"),eS.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZC(t,e){return Fl(t,"POST","/v2/accounts:revokeToken",jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ft(e.idToken,"internal-error"),ft(typeof e.idToken<"u","internal-error"),ft(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ft(e.length!==0,"internal-error");const n=Sw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ft(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await JC(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new zc;return r&&(ft(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ft(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ft(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zc,this.toJSON())}_performRefresh(){return ao("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t,e){ft(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $s{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new YC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new F2(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await rf(this,this.stsTokenManager.getToken(this.auth,e));return ft(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GC(this,e)}reload(){return QC(this)}_assign(e){this!==e&&(ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $s({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xs(this.auth.app))return Promise.reject(uo(this.auth));const e=await this.getIdToken();return await rf(this,HC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:m,emailVerified:y,isAnonymous:p,providerData:N,stsTokenManager:L}=n;ft(m&&L,e,"internal-error");const V=zc.fromJSON(this.name,L);ft(typeof m=="string",e,"internal-error"),$o(r,e.name),$o(i,e.name),ft(typeof y=="boolean",e,"internal-error"),ft(typeof p=="boolean",e,"internal-error"),$o(s,e.name),$o(a,e.name),$o(o,e.name),$o(l,e.name),$o(u,e.name),$o(d,e.name);const E=new $s({uid:m,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:V,createdAt:u,lastLoginAt:d});return N&&Array.isArray(N)&&(E.providerData=N.map(C=>({...C}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new zc;i.updateFromServerResponse(n);const s=new $s({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $1(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ft(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?rS(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new zc;o.updateFromIdToken(r);const l=new $s({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new F2(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new Map;function oo(t){yo(t instanceof Function,"Expected a class definition");let e=Aw.get(t);return e?(yo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Aw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iS.type="NONE";const kw=iS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t,e,n){return`firebase:${t}:${e}:${n}`}class Uc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=e1(this.userKey,i.apiKey,s),this.fullPersistenceKey=e1("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await q1(this.auth,{idToken:e}).catch(()=>{});return n?$s._fromGetAccountInfoResponse(this.auth,n,e):null}return $s._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Uc(oo(kw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||oo(kw);const a=e1(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const d=await u._get(a);if(d){let m;if(typeof d=="string"){const y=await q1(e,{idToken:d}).catch(()=>{});if(!y)break;m=await $s._fromGetAccountInfoResponse(e,y,d)}else m=$s._fromJSON(e,d);u!==s&&(o=m),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Uc(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Uc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cS(e))return"Blackberry";if(hS(e))return"Webos";if(aS(e))return"Safari";if((e.includes("chrome/")||oS(e))&&!e.includes("edge/"))return"Chrome";if(uS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sS(t=ni()){return/firefox\//i.test(t)}function aS(t=ni()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oS(t=ni()){return/crios\//i.test(t)}function lS(t=ni()){return/iemobile/i.test(t)}function uS(t=ni()){return/android/i.test(t)}function cS(t=ni()){return/blackberry/i.test(t)}function hS(t=ni()){return/webos/i.test(t)}function xv(t=ni()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function e8(t=ni()){var e;return xv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function t8(){return fP()&&document.documentMode===10}function dS(t=ni()){return xv(t)||uS(t)||hS(t)||cS(t)||/windows phone/i.test(t)||lS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t,e=[]){let n;switch(t){case"Browser":n=Tw(ni());break;case"Worker":n=`${Tw(ni())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r8(t,e={}){return Fl(t,"GET","/v2/passwordPolicy",jl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=6;class s8{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??i8,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Iw(this),this.idTokenSubscription=new Iw(this),this.beforeStateQueue=new n8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oo(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Uc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await q1(this,{idToken:e}),r=await $s._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(xs(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $1(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xs(this.app))return Promise.reject(uo(this));const n=e?sr(e):null;return n&&ft(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xs(this.app)?Promise.reject(uo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xs(this.app)?Promise.reject(uo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r8(this),n=new s8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Af("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oo(e)||this._popupRedirectResolver;ft(n,this,"argument-error"),this.redirectPersistenceManager=await Uc.create(this,[oo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ft(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(xs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&OC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Vu(t){return sr(t)}class Iw{constructor(e){this.auth=e,this.observer=null,this.addObserver=bP(n=>this.observer=n)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o8(t){Dm=t}function pS(t){return Dm.loadJS(t)}function l8(){return Dm.recaptchaEnterpriseScript}function u8(){return Dm.gapiScript}function c8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class h8{constructor(){this.enterprise=new d8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class d8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const f8="recaptcha-enterprise",mS="NO_RECAPTCHA";class p8{constructor(e){this.type=f8,this.auth=Vu(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{WC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new $C(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;Ew(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(mS)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new h8().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&Ew(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=l8();l.length!==0&&(l+=o),pS(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function nd(t,e,n,r=!1,i=!1){const s=new p8(t);let a;if(i)a=mS;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function V2(t,e,n,r,i){var s,a;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await nd(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await nd(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const o=await nd(t,e,n);return r(t,o).catch(async l=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await nd(t,e,n,!1,!0);return r(t,d)}return Promise.reject(l)})}else{const o=await nd(t,e,n,!1,!0);return r(t,o)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t,e){const n=vv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Au(s,e??{}))return i;Ys(i,"already-initialized")}return n.initialize({options:e})}function g8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function y8(t,e,n){const r=Vu(t);ft(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=gS(e),{host:a,port:o}=v8(e),l=o===null?"":`:${o}`,u={url:`${s}//${a}${l}/`},d=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ft(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ft(Au(u,r.config.emulator)&&Au(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,bh(a)?(qE(`${s}//${a}${l}`),$E("Auth",!0)):i||_8()}function gS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function v8(t){const e=gS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Nw(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:Nw(a)}}}function Nw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ao("not implemented")}_getIdTokenResponse(e){return ao("not implemented")}_linkToIdToken(e,n){return ao("not implemented")}_getReauthenticationResolver(e){return ao("not implemented")}}async function w8(t,e){return Fl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b8(t,e){return If(t,"POST","/v1/accounts:signInWithPassword",jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x8(t,e){return If(t,"POST","/v1/accounts:signInWithEmailLink",jl(t,e))}async function E8(t,e){return If(t,"POST","/v1/accounts:signInWithEmailLink",jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends Ev{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new sf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V2(e,n,"signInWithPassword",b8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return x8(e,{email:this._email,oobCode:this._password});default:Ys(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V2(e,r,"signUpPassword",w8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return E8(e,{idToken:n,email:this._email,oobCode:this._password});default:Ys(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t,e){return If(t,"POST","/v1/accounts:signInWithIdp",jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8="http://localhost";class Tu extends Ev{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Tu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Tu(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Bc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bc(e,n)}buildRequest(){const e={requestUri:S8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k8(t){const e=dd(fd(t)).link,n=e?dd(fd(e)).deep_link_id:null,r=dd(fd(t)).deep_link_id;return(r?dd(fd(r)).link:null)||r||n||e||t}class Sv{constructor(e){const n=dd(fd(e)),r=n.apiKey??null,i=n.oobCode??null,s=A8(n.mode??null);ft(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=k8(e);try{return new Sv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this.providerId=Eh.PROVIDER_ID}static credential(e,n){return sf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sv.parseLink(n);return ft(r,"argument-error"),sf._fromEmailAndCode(e,r.code,r.tenantId)}}Eh.PROVIDER_ID="password";Eh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends yS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends Nf{constructor(){super("facebook.com")}static credential(e){return Tu._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jo.credentialFromTaggedObject(e)}static credentialFromError(e){return Jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jo.credential(e.oauthAccessToken)}catch{return null}}}Jo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Nf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Tu._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zo.credential(n,r)}catch{return null}}}Zo.GOOGLE_SIGN_IN_METHOD="google.com";Zo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends Nf{constructor(){super("github.com")}static credential(e){return Tu._fromParams({providerId:el.PROVIDER_ID,signInMethod:el.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return el.credentialFromTaggedObject(e)}static credentialFromError(e){return el.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return el.credential(e.oauthAccessToken)}catch{return null}}}el.GITHUB_SIGN_IN_METHOD="github.com";el.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends Nf{constructor(){super("twitter.com")}static credential(e,n){return Tu._fromParams({providerId:tl.PROVIDER_ID,signInMethod:tl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tl.credentialFromTaggedObject(e)}static credentialFromError(e){return tl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return tl.credential(n,r)}catch{return null}}}tl.TWITTER_SIGN_IN_METHOD="twitter.com";tl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T8(t,e){return If(t,"POST","/v1/accounts:signUp",jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await $s._fromIdTokenResponse(e,r,i),a=Pw(r);return new Iu({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Pw(r);return new Iu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Pw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1 extends bo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,W1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new W1(e,n,r,i)}}function vS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?W1._fromErrorAndOperation(t,s,e,r):s})}async function I8(t,e,n=!1){const r=await rf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Iu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N8(t,e,n=!1){const{auth:r}=t;if(xs(r.app))return Promise.reject(uo(r));const i="reauthenticate";try{const s=await rf(t,vS(r,i,e,t),n);ft(s.idToken,r,"internal-error");const a=bv(s.idToken);ft(a,r,"internal-error");const{sub:o}=a;return ft(t.uid===o,r,"user-mismatch"),Iu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ys(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(t,e,n=!1){if(xs(t.app))return Promise.reject(uo(t));const r="signIn",i=await vS(t,r,e),s=await Iu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function P8(t,e){return _S(Vu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(t){const e=Vu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function C8(t,e,n){if(xs(t.app))return Promise.reject(uo(t));const r=Vu(t),a=await V2(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",T8,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&wS(t),l}),o=await Iu._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function L8(t,e,n){return xs(t.app)?Promise.reject(uo(t)):P8(sr(t),Eh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wS(t),r})}function R8(t,e,n,r){return sr(t).onIdTokenChanged(e,n,r)}function D8(t,e,n){return sr(t).beforeAuthStateChanged(e,n)}function O8(t,e,n,r){return sr(t).onAuthStateChanged(e,n,r)}function M8(t){return sr(t).signOut()}const H1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(H1,"1"),this.storage.removeItem(H1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=1e3,F8=10;class xS extends bS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);t8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,F8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},j8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xS.type="LOCAL";const V8=xS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends bS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ES.type="SESSION";const SS=ES;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Om(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async u=>u(n.origin,s)),l=await z8(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Om.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=Av("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(y.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(){return window}function B8(t){Aa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){return typeof Aa().WorkerGlobalScope<"u"&&typeof Aa().importScripts=="function"}async function q8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function W8(){return AS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firebaseLocalStorageDb",H8=1,G1="firebaseLocalStorage",TS="fbase_key";class Pf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mm(t,e){return t.transaction([G1],e?"readwrite":"readonly").objectStore(G1)}function G8(){const t=indexedDB.deleteDatabase(kS);return new Pf(t).toPromise()}function z2(){const t=indexedDB.open(kS,H8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(G1,{keyPath:TS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(G1)?e(r):(r.close(),await G8(),e(await z2()))})})}async function Cw(t,e,n){const r=Mm(t,!0).put({[TS]:e,value:n});return new Pf(r).toPromise()}async function K8(t,e){const n=Mm(t,!1).get(e),r=await new Pf(n).toPromise();return r===void 0?null:r.value}function Lw(t,e){const n=Mm(t,!0).delete(e);return new Pf(n).toPromise()}const Y8=800,Q8=3;class IS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await z2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Q8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Om._getInstance(W8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await q8(),!this.activeServiceWorker)return;this.sender=new U8(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await z2();return await Cw(e,H1,"1"),await Lw(e,H1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Cw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>K8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Mm(i,!1).getAll();return new Pf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IS.type="LOCAL";const X8=IS;new Tf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(t,e){return e?oo(e):(ft(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends Ev{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Z8(t){return _S(t.auth,new kv(t),t.bypassAuthState)}function eL(t){const{auth:e,user:n}=t;return ft(n,e,"internal-error"),N8(n,new kv(t),t.bypassAuthState)}async function tL(t){const{auth:e,user:n}=t;return ft(n,e,"internal-error"),I8(n,new kv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Z8;case"linkViaPopup":case"linkViaRedirect":return tL;case"reauthViaPopup":case"reauthViaRedirect":return eL;default:Ys(this.auth,"internal-error")}}resolve(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=new Tf(2e3,1e4);class Lc extends NS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Lc.currentPopupAction&&Lc.currentPopupAction.cancel(),Lc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ft(e,this.auth,"internal-error"),e}async onExecution(){yo(this.filter.length===1,"Popup operations only handle one event");const e=Av();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Sa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nL.get())};e()}}Lc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="pendingRedirect",t1=new Map;class iL extends NS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=t1.get(this.auth._key());if(!e){try{const r=await sL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}t1.set(this.auth._key(),e)}return this.bypassAuthState||t1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sL(t,e){const n=lL(e),r=oL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function aL(t,e){t1.set(t._key(),e)}function oL(t){return oo(t._redirectPersistence)}function lL(t){return e1(rL,t.config.apiKey,t.name)}async function uL(t,e,n=!1){if(xs(t.app))return Promise.reject(uo(t));const r=Vu(t),i=J8(r,e),a=await new iL(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=10*60*1e3;class hL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PS(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sa(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rw(e))}saveEventToCache(e){this.cachedEventUids.add(Rw(e)),this.lastProcessedEventTime=Date.now()}}function Rw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(t,e={}){return Fl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mL=/^https?/;async function gL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fL(t);for(const n of e)try{if(yL(n))return}catch{}Ys(t,"unauthorized-domain")}function yL(t){const e=j2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!mL.test(n))return!1;if(pL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=new Tf(3e4,6e4);function Dw(){const t=Aa().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _L(t){return new Promise((e,n)=>{var i,s,a;function r(){Dw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dw(),n(Sa(t,"network-request-failed"))},timeout:vL.get()})}if((s=(i=Aa().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=Aa().gapi)!=null&&a.load)r();else{const o=c8("iframefcb");return Aa()[o]=()=>{gapi.load?r():n(Sa(t,"network-request-failed"))},pS(`${u8()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw n1=null,e})}let n1=null;function wL(t){return n1=n1||_L(t),n1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=new Tf(5e3,15e3),xL="__/auth/iframe",EL="emulator/auth/iframe",SL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kL(t){const e=t.config;ft(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wv(e,EL):`https://${t.config.authDomain}/${xL}`,r={apiKey:e.apiKey,appName:t.name,v:xh},i=AL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${kf(r).slice(1)}`}async function TL(t){const e=await wL(t),n=Aa().gapi;return ft(n,t,"internal-error"),e.open({where:document.body,url:kL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Sa(t,"network-request-failed"),o=Aa().setTimeout(()=>{s(a)},bL.get());function l(){Aa().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NL=500,PL=600,CL="_blank",LL="http://localhost";class Ow{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RL(t,e,n,r=NL,i=PL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...IL,width:r.toString(),height:i.toString(),top:s,left:a},u=ni().toLowerCase();n&&(o=oS(u)?CL:n),sS(u)&&(e=e||LL,l.scrollbars="yes");const d=Object.entries(l).reduce((y,[p,N])=>`${y}${p}=${N},`,"");if(e8(u)&&o!=="_self")return DL(e||"",o),new Ow(null);const m=window.open(e||"",o,d);ft(m,t,"popup-blocked");try{m.focus()}catch{}return new Ow(m)}function DL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="__/auth/handler",ML="emulator/auth/handler",jL=encodeURIComponent("fac");async function Mw(t,e,n,r,i,s){ft(t.config.authDomain,t,"auth-domain-config-required"),ft(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xh,eventId:i};if(e instanceof yS){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",wP(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries(s||{}))a[d]=m}if(e instanceof Nf){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),u=l?`#${jL}=${encodeURIComponent(l)}`:"";return`${FL(t)}?${kf(o).slice(1)}${u}`}function FL({config:t}){return t.emulator?wv(t,ML):`https://${t.authDomain}/${OL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="webStorageSupport";class VL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SS,this._completeRedirectFn=uL,this._overrideRedirectResult=aL}async _openPopup(e,n,r,i){var a;yo((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await Mw(e,n,r,j2(),i);return RL(e,s,Av())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Mw(e,n,r,j2(),i);return B8(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(yo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TL(e),r=new hL(e);return n.register("authEvent",i=>(ft(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zg,{type:Zg},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[Zg];s!==void 0&&n(!!s),Ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dS()||aS()||xv()}}const zL=VL;var jw="@firebase/auth",Fw="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qL(t){ah(new ku("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;ft(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fS(t)},u=new a8(r,i,s,l);return g8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ah(new ku("auth-internal",e=>{const n=Vu(e.getProvider("auth").getImmediate());return(r=>new UL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vl(jw,Fw,BL(t)),vl(jw,Fw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=5*60,WL=BE("authIdTokenMaxAge")||$L;let Vw=null;const HL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WL)return;const i=n==null?void 0:n.token;Vw!==i&&(Vw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function GL(t=KE()){const e=vv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=m8(t,{popupRedirectResolver:zL,persistence:[X8,V8,SS]}),r=BE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=HL(s.toString());D8(n,a,()=>a(n.currentUser)),R8(n,o=>a(o))}}const i=zE("auth");return i&&y8(n,`http://${i}`),n}function KL(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}o8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Sa("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",KL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qL("Browser");var zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _l,CS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,b){function A(){}A.prototype=b.prototype,j.F=b.prototype,j.prototype=new A,j.prototype.constructor=j,j.D=function(D,x,I){for(var P=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)P[Z-2]=arguments[Z];return b.prototype[x].apply(D,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,b,A){A||(A=0);const D=Array(16);if(typeof b=="string")for(var x=0;x<16;++x)D[x]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(x=0;x<16;++x)D[x]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=j.g[0],A=j.g[1],x=j.g[2];let I=j.g[3],P;P=b+(I^A&(x^I))+D[0]+3614090360&4294967295,b=A+(P<<7&4294967295|P>>>25),P=I+(x^b&(A^x))+D[1]+3905402710&4294967295,I=b+(P<<12&4294967295|P>>>20),P=x+(A^I&(b^A))+D[2]+606105819&4294967295,x=I+(P<<17&4294967295|P>>>15),P=A+(b^x&(I^b))+D[3]+3250441966&4294967295,A=x+(P<<22&4294967295|P>>>10),P=b+(I^A&(x^I))+D[4]+4118548399&4294967295,b=A+(P<<7&4294967295|P>>>25),P=I+(x^b&(A^x))+D[5]+1200080426&4294967295,I=b+(P<<12&4294967295|P>>>20),P=x+(A^I&(b^A))+D[6]+2821735955&4294967295,x=I+(P<<17&4294967295|P>>>15),P=A+(b^x&(I^b))+D[7]+4249261313&4294967295,A=x+(P<<22&4294967295|P>>>10),P=b+(I^A&(x^I))+D[8]+1770035416&4294967295,b=A+(P<<7&4294967295|P>>>25),P=I+(x^b&(A^x))+D[9]+2336552879&4294967295,I=b+(P<<12&4294967295|P>>>20),P=x+(A^I&(b^A))+D[10]+4294925233&4294967295,x=I+(P<<17&4294967295|P>>>15),P=A+(b^x&(I^b))+D[11]+2304563134&4294967295,A=x+(P<<22&4294967295|P>>>10),P=b+(I^A&(x^I))+D[12]+1804603682&4294967295,b=A+(P<<7&4294967295|P>>>25),P=I+(x^b&(A^x))+D[13]+4254626195&4294967295,I=b+(P<<12&4294967295|P>>>20),P=x+(A^I&(b^A))+D[14]+2792965006&4294967295,x=I+(P<<17&4294967295|P>>>15),P=A+(b^x&(I^b))+D[15]+1236535329&4294967295,A=x+(P<<22&4294967295|P>>>10),P=b+(x^I&(A^x))+D[1]+4129170786&4294967295,b=A+(P<<5&4294967295|P>>>27),P=I+(A^x&(b^A))+D[6]+3225465664&4294967295,I=b+(P<<9&4294967295|P>>>23),P=x+(b^A&(I^b))+D[11]+643717713&4294967295,x=I+(P<<14&4294967295|P>>>18),P=A+(I^b&(x^I))+D[0]+3921069994&4294967295,A=x+(P<<20&4294967295|P>>>12),P=b+(x^I&(A^x))+D[5]+3593408605&4294967295,b=A+(P<<5&4294967295|P>>>27),P=I+(A^x&(b^A))+D[10]+38016083&4294967295,I=b+(P<<9&4294967295|P>>>23),P=x+(b^A&(I^b))+D[15]+3634488961&4294967295,x=I+(P<<14&4294967295|P>>>18),P=A+(I^b&(x^I))+D[4]+3889429448&4294967295,A=x+(P<<20&4294967295|P>>>12),P=b+(x^I&(A^x))+D[9]+568446438&4294967295,b=A+(P<<5&4294967295|P>>>27),P=I+(A^x&(b^A))+D[14]+3275163606&4294967295,I=b+(P<<9&4294967295|P>>>23),P=x+(b^A&(I^b))+D[3]+4107603335&4294967295,x=I+(P<<14&4294967295|P>>>18),P=A+(I^b&(x^I))+D[8]+1163531501&4294967295,A=x+(P<<20&4294967295|P>>>12),P=b+(x^I&(A^x))+D[13]+2850285829&4294967295,b=A+(P<<5&4294967295|P>>>27),P=I+(A^x&(b^A))+D[2]+4243563512&4294967295,I=b+(P<<9&4294967295|P>>>23),P=x+(b^A&(I^b))+D[7]+1735328473&4294967295,x=I+(P<<14&4294967295|P>>>18),P=A+(I^b&(x^I))+D[12]+2368359562&4294967295,A=x+(P<<20&4294967295|P>>>12),P=b+(A^x^I)+D[5]+4294588738&4294967295,b=A+(P<<4&4294967295|P>>>28),P=I+(b^A^x)+D[8]+2272392833&4294967295,I=b+(P<<11&4294967295|P>>>21),P=x+(I^b^A)+D[11]+1839030562&4294967295,x=I+(P<<16&4294967295|P>>>16),P=A+(x^I^b)+D[14]+4259657740&4294967295,A=x+(P<<23&4294967295|P>>>9),P=b+(A^x^I)+D[1]+2763975236&4294967295,b=A+(P<<4&4294967295|P>>>28),P=I+(b^A^x)+D[4]+1272893353&4294967295,I=b+(P<<11&4294967295|P>>>21),P=x+(I^b^A)+D[7]+4139469664&4294967295,x=I+(P<<16&4294967295|P>>>16),P=A+(x^I^b)+D[10]+3200236656&4294967295,A=x+(P<<23&4294967295|P>>>9),P=b+(A^x^I)+D[13]+681279174&4294967295,b=A+(P<<4&4294967295|P>>>28),P=I+(b^A^x)+D[0]+3936430074&4294967295,I=b+(P<<11&4294967295|P>>>21),P=x+(I^b^A)+D[3]+3572445317&4294967295,x=I+(P<<16&4294967295|P>>>16),P=A+(x^I^b)+D[6]+76029189&4294967295,A=x+(P<<23&4294967295|P>>>9),P=b+(A^x^I)+D[9]+3654602809&4294967295,b=A+(P<<4&4294967295|P>>>28),P=I+(b^A^x)+D[12]+3873151461&4294967295,I=b+(P<<11&4294967295|P>>>21),P=x+(I^b^A)+D[15]+530742520&4294967295,x=I+(P<<16&4294967295|P>>>16),P=A+(x^I^b)+D[2]+3299628645&4294967295,A=x+(P<<23&4294967295|P>>>9),P=b+(x^(A|~I))+D[0]+4096336452&4294967295,b=A+(P<<6&4294967295|P>>>26),P=I+(A^(b|~x))+D[7]+1126891415&4294967295,I=b+(P<<10&4294967295|P>>>22),P=x+(b^(I|~A))+D[14]+2878612391&4294967295,x=I+(P<<15&4294967295|P>>>17),P=A+(I^(x|~b))+D[5]+4237533241&4294967295,A=x+(P<<21&4294967295|P>>>11),P=b+(x^(A|~I))+D[12]+1700485571&4294967295,b=A+(P<<6&4294967295|P>>>26),P=I+(A^(b|~x))+D[3]+2399980690&4294967295,I=b+(P<<10&4294967295|P>>>22),P=x+(b^(I|~A))+D[10]+4293915773&4294967295,x=I+(P<<15&4294967295|P>>>17),P=A+(I^(x|~b))+D[1]+2240044497&4294967295,A=x+(P<<21&4294967295|P>>>11),P=b+(x^(A|~I))+D[8]+1873313359&4294967295,b=A+(P<<6&4294967295|P>>>26),P=I+(A^(b|~x))+D[15]+4264355552&4294967295,I=b+(P<<10&4294967295|P>>>22),P=x+(b^(I|~A))+D[6]+2734768916&4294967295,x=I+(P<<15&4294967295|P>>>17),P=A+(I^(x|~b))+D[13]+1309151649&4294967295,A=x+(P<<21&4294967295|P>>>11),P=b+(x^(A|~I))+D[4]+4149444226&4294967295,b=A+(P<<6&4294967295|P>>>26),P=I+(A^(b|~x))+D[11]+3174756917&4294967295,I=b+(P<<10&4294967295|P>>>22),P=x+(b^(I|~A))+D[2]+718787259&4294967295,x=I+(P<<15&4294967295|P>>>17),P=A+(I^(x|~b))+D[9]+3951481745&4294967295,j.g[0]=j.g[0]+b&4294967295,j.g[1]=j.g[1]+(x+(P<<21&4294967295|P>>>11))&4294967295,j.g[2]=j.g[2]+x&4294967295,j.g[3]=j.g[3]+I&4294967295}r.prototype.v=function(j,b){b===void 0&&(b=j.length);const A=b-this.blockSize,D=this.C;let x=this.h,I=0;for(;I<b;){if(x==0)for(;I<=A;)i(this,j,I),I+=this.blockSize;if(typeof j=="string"){for(;I<b;)if(D[x++]=j.charCodeAt(I++),x==this.blockSize){i(this,D),x=0;break}}else for(;I<b;)if(D[x++]=j[I++],x==this.blockSize){i(this,D),x=0;break}}this.h=x,this.o+=b},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var b=1;b<j.length-8;++b)j[b]=0;b=this.o*8;for(var A=j.length-8;A<j.length;++A)j[A]=b&255,b/=256;for(this.v(j),j=Array(16),b=0,A=0;A<4;++A)for(let D=0;D<32;D+=8)j[b++]=this.g[A]>>>D&255;return j};function s(j,b){var A=o;return Object.prototype.hasOwnProperty.call(A,j)?A[j]:A[j]=b(j)}function a(j,b){this.h=b;const A=[];let D=!0;for(let x=j.length-1;x>=0;x--){const I=j[x]|0;D&&I==b||(A[x]=I,D=!1)}this.g=A}var o={};function l(j){return-128<=j&&j<128?s(j,function(b){return new a([b|0],b<0?-1:0)}):new a([j|0],j<0?-1:0)}function u(j){if(isNaN(j)||!isFinite(j))return m;if(j<0)return V(u(-j));const b=[];let A=1;for(let D=0;j>=A;D++)b[D]=j/A|0,A*=4294967296;return new a(b,0)}function d(j,b){if(j.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(j.charAt(0)=="-")return V(d(j.substring(1),b));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=u(Math.pow(b,8));let D=m;for(let I=0;I<j.length;I+=8){var x=Math.min(8,j.length-I);const P=parseInt(j.substring(I,I+x),b);x<8?(x=u(Math.pow(b,x)),D=D.j(x).add(u(P))):(D=D.j(A),D=D.add(u(P)))}return D}var m=l(0),y=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(L(this))return-V(this).m();let j=0,b=1;for(let A=0;A<this.g.length;A++){const D=this.i(A);j+=(D>=0?D:4294967296+D)*b,b*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(N(this))return"0";if(L(this))return"-"+V(this).toString(j);const b=u(Math.pow(j,6));var A=this;let D="";for(;;){const x=F(A,b).g;A=E(A,x.j(b));let I=((A.g.length>0?A.g[0]:A.h)>>>0).toString(j);if(A=x,N(A))return I+D;for(;I.length<6;)I="0"+I;D=I+D}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function N(j){if(j.h!=0)return!1;for(let b=0;b<j.g.length;b++)if(j.g[b]!=0)return!1;return!0}function L(j){return j.h==-1}t.l=function(j){return j=E(this,j),L(j)?-1:N(j)?0:1};function V(j){const b=j.g.length,A=[];for(let D=0;D<b;D++)A[D]=~j.g[D];return new a(A,~j.h).add(y)}t.abs=function(){return L(this)?V(this):this},t.add=function(j){const b=Math.max(this.g.length,j.g.length),A=[];let D=0;for(let x=0;x<=b;x++){let I=D+(this.i(x)&65535)+(j.i(x)&65535),P=(I>>>16)+(this.i(x)>>>16)+(j.i(x)>>>16);D=P>>>16,I&=65535,P&=65535,A[x]=P<<16|I}return new a(A,A[A.length-1]&-2147483648?-1:0)};function E(j,b){return j.add(V(b))}t.j=function(j){if(N(this)||N(j))return m;if(L(this))return L(j)?V(this).j(V(j)):V(V(this).j(j));if(L(j))return V(this.j(V(j)));if(this.l(p)<0&&j.l(p)<0)return u(this.m()*j.m());const b=this.g.length+j.g.length,A=[];for(var D=0;D<2*b;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(let x=0;x<j.g.length;x++){const I=this.i(D)>>>16,P=this.i(D)&65535,Z=j.i(x)>>>16,ue=j.i(x)&65535;A[2*D+2*x]+=P*ue,C(A,2*D+2*x),A[2*D+2*x+1]+=I*ue,C(A,2*D+2*x+1),A[2*D+2*x+1]+=P*Z,C(A,2*D+2*x+1),A[2*D+2*x+2]+=I*Z,C(A,2*D+2*x+2)}for(j=0;j<b;j++)A[j]=A[2*j+1]<<16|A[2*j];for(j=b;j<2*b;j++)A[j]=0;return new a(A,0)};function C(j,b){for(;(j[b]&65535)!=j[b];)j[b+1]+=j[b]>>>16,j[b]&=65535,b++}function k(j,b){this.g=j,this.h=b}function F(j,b){if(N(b))throw Error("division by zero");if(N(j))return new k(m,m);if(L(j))return b=F(V(j),b),new k(V(b.g),V(b.h));if(L(b))return b=F(j,V(b)),new k(V(b.g),b.h);if(j.g.length>30){if(L(j)||L(b))throw Error("slowDivide_ only works with positive integers.");for(var A=y,D=b;D.l(j)<=0;)A=J(A),D=J(D);var x=ne(A,1),I=ne(D,1);for(D=ne(D,2),A=ne(A,2);!N(D);){var P=I.add(D);P.l(j)<=0&&(x=x.add(A),I=P),D=ne(D,1),A=ne(A,1)}return b=E(j,x.j(b)),new k(x,b)}for(x=m;j.l(b)>=0;){for(A=Math.max(1,Math.floor(j.m()/b.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),I=u(A),P=I.j(b);L(P)||P.l(j)>0;)A-=D,I=u(A),P=I.j(b);N(I)&&(I=y),x=x.add(I),j=E(j,P)}return new k(x,j)}t.B=function(j){return F(this,j).h},t.and=function(j){const b=Math.max(this.g.length,j.g.length),A=[];for(let D=0;D<b;D++)A[D]=this.i(D)&j.i(D);return new a(A,this.h&j.h)},t.or=function(j){const b=Math.max(this.g.length,j.g.length),A=[];for(let D=0;D<b;D++)A[D]=this.i(D)|j.i(D);return new a(A,this.h|j.h)},t.xor=function(j){const b=Math.max(this.g.length,j.g.length),A=[];for(let D=0;D<b;D++)A[D]=this.i(D)^j.i(D);return new a(A,this.h^j.h)};function J(j){const b=j.g.length+1,A=[];for(let D=0;D<b;D++)A[D]=j.i(D)<<1|j.i(D-1)>>>31;return new a(A,j.h)}function ne(j,b){const A=b>>5;b%=32;const D=j.g.length-A,x=[];for(let I=0;I<D;I++)x[I]=b>0?j.i(I+A)>>>b|j.i(I+A+1)<<32-b:j.i(I+A);return new a(x,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,CS=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,_l=a}).apply(typeof zw<"u"?zw:typeof self<"u"?self:typeof window<"u"?window:{});var kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LS,pd,RS,r1,U2,DS,OS,MS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof kp=="object"&&kp];for(var w=0;w<h.length;++w){var T=h[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(h,w){if(w)e:{var T=r;h=h.split(".");for(var q=0;q<h.length-1;q++){var fe=h[q];if(!(fe in T))break e;T=T[fe]}h=h[h.length-1],q=T[h],w=w(q),w!=q&&w!=null&&e(T,h,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(w){var T=[],q;for(q in w)Object.prototype.hasOwnProperty.call(w,q)&&T.push([q,w[q]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function o(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function l(h,w,T){return h.call.apply(h.bind,arguments)}function u(h,w,T){return u=l,u.apply(null,arguments)}function d(h,w){var T=Array.prototype.slice.call(arguments,1);return function(){var q=T.slice();return q.push.apply(q,arguments),h.apply(this,q)}}function m(h,w){function T(){}T.prototype=w.prototype,h.Z=w.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(q,fe,_e){for(var Oe=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)Oe[vt-2]=arguments[vt];return w.prototype[fe].apply(q,Oe)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const w=h.length;if(w>0){const T=Array(w);for(let q=0;q<w;q++)T[q]=h[q];return T}return[]}function N(h,w){for(let q=1;q<arguments.length;q++){const fe=arguments[q];var T=typeof fe;if(T=T!="object"?T:fe?Array.isArray(fe)?"array":T:"null",T=="array"||T=="object"&&typeof fe.length=="number"){T=h.length||0;const _e=fe.length||0;h.length=T+_e;for(let Oe=0;Oe<_e;Oe++)h[T+Oe]=fe[Oe]}else h.push(fe)}}class L{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function V(h){a.setTimeout(()=>{throw h},0)}function E(){var h=j;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class C{constructor(){this.h=this.g=null}add(w,T){const q=k.get();q.set(w,T),this.h?this.h.next=q:this.g=q,this.h=q}}var k=new L(()=>new F,h=>h.reset());class F{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ne=!1,j=new C,b=()=>{const h=Promise.resolve(void 0);J=()=>{h.then(A)}};function A(){for(var h;h=E();){try{h.h.call(h.g)}catch(T){V(T)}var w=k;w.j(h),w.h<100&&(w.h++,h.next=w.g,w.g=h)}ne=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};a.addEventListener("test",T,w),a.removeEventListener("test",T,w)}catch{}return h}();function P(h){return/^[\s\xa0]*$/.test(h)}function Z(h,w){x.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,w)}m(Z,x),Z.prototype.init=function(h,w){const T=this.type=h.type,q=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget,w||(T=="mouseover"?w=h.fromElement:T=="mouseout"&&(w=h.toElement)),this.relatedTarget=w,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),we=0;function ae(h,w,T,q,fe){this.listener=h,this.proxy=null,this.src=w,this.type=T,this.capture=!!q,this.ha=fe,this.key=++we,this.da=this.fa=!1}function ee(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function X(h,w,T){for(const q in h)w.call(T,h[q],q,h)}function he(h,w){for(const T in h)w.call(void 0,h[T],T,h)}function pe(h){const w={};for(const T in h)w[T]=h[T];return w}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(h,w){let T,q;for(let fe=1;fe<arguments.length;fe++){q=arguments[fe];for(T in q)h[T]=q[T];for(let _e=0;_e<M.length;_e++)T=M[_e],Object.prototype.hasOwnProperty.call(q,T)&&(h[T]=q[T])}}function te(h){this.src=h,this.g={},this.h=0}te.prototype.add=function(h,w,T,q,fe){const _e=h.toString();h=this.g[_e],h||(h=this.g[_e]=[],this.h++);const Oe=se(h,w,q,fe);return Oe>-1?(w=h[Oe],T||(w.fa=!1)):(w=new ae(w,this.src,_e,!!q,fe),w.fa=T,h.push(w)),w};function re(h,w){const T=w.type;if(T in h.g){var q=h.g[T],fe=Array.prototype.indexOf.call(q,w,void 0),_e;(_e=fe>=0)&&Array.prototype.splice.call(q,fe,1),_e&&(ee(w),h.g[T].length==0&&(delete h.g[T],h.h--))}}function se(h,w,T,q){for(let fe=0;fe<h.length;++fe){const _e=h[fe];if(!_e.da&&_e.listener==w&&_e.capture==!!T&&_e.ha==q)return fe}return-1}var B="closure_lm_"+(Math.random()*1e6|0),oe={};function ye(h,w,T,q,fe){if(q&&q.once)return je(h,w,T,q,fe);if(Array.isArray(w)){for(let _e=0;_e<w.length;_e++)ye(h,w[_e],T,q,fe);return null}return T=Pe(T),h&&h[ue]?h.J(w,T,o(q)?!!q.capture:!!q,fe):be(h,w,T,!1,q,fe)}function be(h,w,T,q,fe,_e){if(!w)throw Error("Invalid event type");const Oe=o(fe)?!!fe.capture:!!fe;let vt=St(h);if(vt||(h[B]=vt=new te(h)),T=vt.add(w,T,q,Oe,_e),T.proxy)return T;if(q=Ce(),T.proxy=q,q.src=h,q.listener=T,h.addEventListener)I||(fe=Oe),fe===void 0&&(fe=!1),h.addEventListener(w.toString(),q,fe);else if(h.attachEvent)h.attachEvent(H(w.toString()),q);else if(h.addListener&&h.removeListener)h.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ce(){function h(T){return w.call(h.src,h.listener,T)}const w=Fe;return h}function je(h,w,T,q,fe){if(Array.isArray(w)){for(let _e=0;_e<w.length;_e++)je(h,w[_e],T,q,fe);return null}return T=Pe(T),h&&h[ue]?h.K(w,T,o(q)?!!q.capture:!!q,fe):be(h,w,T,!0,q,fe)}function Re(h,w,T,q,fe){if(Array.isArray(w))for(var _e=0;_e<w.length;_e++)Re(h,w[_e],T,q,fe);else q=o(q)?!!q.capture:!!q,T=Pe(T),h&&h[ue]?(h=h.i,_e=String(w).toString(),_e in h.g&&(w=h.g[_e],T=se(w,T,q,fe),T>-1&&(ee(w[T]),Array.prototype.splice.call(w,T,1),w.length==0&&(delete h.g[_e],h.h--)))):h&&(h=St(h))&&(w=h.g[w.toString()],h=-1,w&&(h=se(w,T,q,fe)),(T=h>-1?w[h]:null)&&Ue(T))}function Ue(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[ue])re(w.i,h);else{var T=h.type,q=h.proxy;w.removeEventListener?w.removeEventListener(T,q,h.capture):w.detachEvent?w.detachEvent(H(T),q):w.addListener&&w.removeListener&&w.removeListener(q),(T=St(w))?(re(T,h),T.h==0&&(T.src=null,w[B]=null)):ee(h)}}}function H(h){return h in oe?oe[h]:oe[h]="on"+h}function Fe(h,w){if(h.da)h=!0;else{w=new Z(w,this);const T=h.listener,q=h.ha||h.src;h.fa&&Ue(h),h=T.call(q,w)}return h}function St(h){return h=h[B],h instanceof te?h:null}var ot="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pe(h){return typeof h=="function"?h:(h[ot]||(h[ot]=function(w){return h.handleEvent(w)}),h[ot])}function qe(){D.call(this),this.i=new te(this),this.M=this,this.G=null}m(qe,D),qe.prototype[ue]=!0,qe.prototype.removeEventListener=function(h,w,T,q){Re(this,h,w,T,q)};function Ve(h,w){var T,q=h.G;if(q)for(T=[];q;q=q.G)T.push(q);if(h=h.M,q=w.type||w,typeof w=="string")w=new x(w,h);else if(w instanceof x)w.target=w.target||h;else{var fe=w;w=new x(q,h),G(w,fe)}fe=!0;let _e,Oe;if(T)for(Oe=T.length-1;Oe>=0;Oe--)_e=w.g=T[Oe],fe=rt(_e,q,!0,w)&&fe;if(_e=w.g=h,fe=rt(_e,q,!0,w)&&fe,fe=rt(_e,q,!1,w)&&fe,T)for(Oe=0;Oe<T.length;Oe++)_e=w.g=T[Oe],fe=rt(_e,q,!1,w)&&fe}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var h=this.i;for(const w in h.g){const T=h.g[w];for(let q=0;q<T.length;q++)ee(T[q]);delete h.g[w],h.h--}}this.G=null},qe.prototype.J=function(h,w,T,q){return this.i.add(String(h),w,!1,T,q)},qe.prototype.K=function(h,w,T,q){return this.i.add(String(h),w,!0,T,q)};function rt(h,w,T,q){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();let fe=!0;for(let _e=0;_e<w.length;++_e){const Oe=w[_e];if(Oe&&!Oe.da&&Oe.capture==T){const vt=Oe.listener,mn=Oe.ha||Oe.src;Oe.fa&&re(h.i,Oe),fe=vt.call(mn,q)!==!1&&fe}}return fe&&!q.defaultPrevented}function at(h,w){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:a.setTimeout(h,w||0)}function Ht(h){h.g=at(()=>{h.g=null,h.i&&(h.i=!1,Ht(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Dt extends D{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ht(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ht(h){D.call(this),this.h=h,this.g={}}m(ht,D);var Ot=[];function Rt(h){X(h.g,function(w,T){this.g.hasOwnProperty(T)&&Ue(w)},h),h.g={}}ht.prototype.N=function(){ht.Z.N.call(this),Rt(this)},ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qe=a.JSON.stringify,At=a.JSON.parse,tt=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Dn(){}function jt(){}var xt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function It(){x.call(this,"d")}m(It,x);function pn(){x.call(this,"c")}m(pn,x);var Je={},on=null;function ut(){return on=on||new qe}Je.Ia="serverreachability";function wt(h){x.call(this,Je.Ia,h)}m(wt,x);function tn(h){const w=ut();Ve(w,new wt(w))}Je.STAT_EVENT="statevent";function Pt(h,w){x.call(this,Je.STAT_EVENT,h),this.stat=w}m(Pt,x);function We(h){const w=ut();Ve(w,new Pt(w,h))}Je.Ja="timingevent";function Gt(h,w){x.call(this,Je.Ja,h),this.size=w}m(Gt,x);function ji(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},w)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Ps(h,w,T,q,fe,_e){h.info(function(){if(h.g)if(_e){var Oe="",vt=_e.split("&");for(let Ut=0;Ut<vt.length;Ut++){var mn=vt[Ut].split("=");if(mn.length>1){const bn=mn[0];mn=mn[1];const hr=bn.split("_");Oe=hr.length>=2&&hr[1]=="type"?Oe+(bn+"="+mn+"&"):Oe+(bn+"=redacted&")}}}else Oe=null;else Oe=_e;return"XMLHTTP REQ ("+q+") [attempt "+fe+"]: "+w+`
`+T+`
`+Oe})}function ls(h,w,T,q,fe,_e,Oe){h.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+fe+"]: "+w+`
`+T+`
`+_e+" "+Oe})}function it(h,w,T,q){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ls(h,T)+(q?" "+q:"")})}function Cs(h,w){h.info(function(){return"TIMEOUT: "+w})}$n.prototype.info=function(){};function Ls(h,w){if(!h.g)return w;if(!w)return null;try{const _e=JSON.parse(w);if(_e){for(h=0;h<_e.length;h++)if(Array.isArray(_e[h])){var T=_e[h];if(!(T.length<2)){var q=T[1];if(Array.isArray(q)&&!(q.length<1)){var fe=q[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(let Oe=1;Oe<q.length;Oe++)q[Oe]=""}}}}return Qe(_e)}catch{return w}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ri={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},kn;function Wn(){}m(Wn,Dn),Wn.prototype.g=function(){return new XMLHttpRequest},kn=new Wn;function jn(h){return encodeURIComponent(String(h))}function Ra(h){var w=1;h=h.split(":");const T=[];for(;w>0&&h.length;)T.push(h.shift()),w--;return h.length&&T.push(h.join(":")),T}function Nr(h,w,T,q){this.j=h,this.i=w,this.l=T,this.S=q||1,this.V=new ht(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xi}function xi(){this.i=null,this.g="",this.h=!1}var Fi={},ii={};function si(h,w,T){h.M=1,h.A=Pr(Xt(w)),h.u=T,h.R=!0,ai(h,null)}function ai(h,w){h.F=Date.now(),Rs(h),h.B=Xt(h.A);var T=h.B,q=h.S;Array.isArray(q)||(q=[String(q)]),ko(T.i,"t",q),h.C=0,T=h.j.L,h.h=new xi,h.g=Xe(h.j,T?w:null,!h.u),h.P>0&&(h.O=new Dt(u(h.Y,h,h.g),h.P)),w=h.V,T=h.g,q=h.ba;var fe="readystatechange";Array.isArray(fe)||(fe&&(Ot[0]=fe.toString()),fe=Ot);for(let _e=0;_e<fe.length;_e++){const Oe=ye(T,fe[_e],q||w.handleEvent,!1,w.h||w);if(!Oe)break;w.g[Oe.key]=Oe}w=h.J?pe(h.J):{},h.u?(h.v||(h.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,w)):(h.v="GET",h.g.ea(h.B,h.v,null,w)),tn(),Ps(h.i,h.v,h.B,h.l,h.S,h.u)}Nr.prototype.ba=function(h){h=h.target;const w=this.O;w&&Ei(h)==3?w.j():this.Y(h)},Nr.prototype.Y=function(h){try{if(h==this.g)e:{const vt=Ei(this.g),mn=this.g.ya(),Ut=this.g.ca();if(!(vt<3)&&(vt!=3||this.g&&(this.h.h||this.g.la()||Yl(this.g)))){this.K||vt!=4||mn==7||(mn==8||Ut<=0?tn(3):tn(2)),ta(this);var w=this.g.ca();this.X=w;var T=Da(this);if(this.o=w==200,ls(this.i,this.v,this.B,this.l,this.S,vt,w),this.o){if(this.U&&!this.L){t:{if(this.g){var q,fe=this.g;if((q=fe.g?fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(q)){var _e=q;break t}}_e=null}if(h=_e)it(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xo(this,h);else{this.o=!1,this.m=3,We(12),zi(this),ja(this);break e}}if(this.R){h=!0;let bn;for(;!this.K&&this.C<T.length;)if(bn=Oa(this,T),bn==ii){vt==4&&(this.m=4,We(14),h=!1),it(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==Fi){this.m=4,We(15),it(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else it(this.i,this.l,bn,null),xo(this,bn);if(Vi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||T.length!=0||this.h.h||(this.m=1,We(16),h=!1),this.o=this.o&&h,!h)it(this.i,this.l,T,"[Invalid Chunked Response]"),zi(this),ja(this);else if(T.length>0&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.aa&&!Oe.P&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),g(Oe),Oe.P=!0,We(11))}}else it(this.i,this.l,T,null),xo(this,T);vt==4&&zi(this),this.o&&!this.K&&(vt==4?ie(this.j,this):(this.o=!1,Rs(this)))}else Ds(this.g),w==400&&T.indexOf("Unknown SID")>0?(this.m=3,We(12)):(this.m=0,We(13)),zi(this),ja(this)}}}catch{}finally{}};function Da(h){if(!Vi(h))return h.g.la();const w=Yl(h.g);if(w==="")return"";let T="";const q=w.length,fe=Ei(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return zi(h),ja(h),"";h.h.i=new a.TextDecoder}for(let _e=0;_e<q;_e++)h.h.h=!0,T+=h.h.i.decode(w[_e],{stream:!(fe&&_e==q-1)});return w.length=0,h.h.g+=T,h.C=0,h.h.g}function Vi(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Oa(h,w){var T=h.C,q=w.indexOf(`
`,T);return q==-1?ii:(T=Number(w.substring(T,q)),isNaN(T)?Fi:(q+=1,q+T>w.length?ii:(w=w.slice(q,q+T),h.C=q+T,w)))}Nr.prototype.cancel=function(){this.K=!0,zi(this)};function Rs(h){h.T=Date.now()+h.H,Ma(h,h.H)}function Ma(h,w){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ji(u(h.aa,h),w)}function ta(h){h.D&&(a.clearTimeout(h.D),h.D=null)}Nr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Cs(this.i,this.B),this.M!=2&&(tn(),We(17)),zi(this),this.m=2,ja(this)):Ma(this,this.T-h)};function ja(h){h.j.I==0||h.K||ie(h.j,h)}function zi(h){ta(h);var w=h.O;w&&typeof w.dispose=="function"&&w.dispose(),h.O=null,Rt(h.V),h.g&&(w=h.g,h.g=null,w.abort(),w.dispose())}function xo(h,w){try{var T=h.j;if(T.I!=0&&(T.g==h||Fa(T.h,h))){if(!h.L&&Fa(T.h,h)&&T.I==3){try{var q=T.Ba.g.parse(w)}catch{q=null}if(Array.isArray(q)&&q.length==3){var fe=q;if(fe[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)K(T),ps(T);else break e;No(T),We(18)}}else T.xa=fe[1],0<T.xa-T.K&&fe[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=ji(u(T.Va,T),6e3));Ul(T.h)<=1&&T.ta&&(T.ta=void 0)}else xe(T,11)}else if((h.L||T.g==h)&&K(T),!P(w))for(fe=T.Ba.g.parse(w),w=0;w<fe.length;w++){let Ut=fe[w];const bn=Ut[0];if(!(bn<=T.K))if(T.K=bn,Ut=Ut[1],T.I==2)if(Ut[0]=="c"){T.M=Ut[1],T.ba=Ut[2];const hr=Ut[3];hr!=null&&(T.ka=hr,T.j.info("VER="+T.ka));const In=Ut[4];In!=null&&(T.za=In,T.j.info("SVER="+T.za));const Br=Ut[5];Br!=null&&typeof Br=="number"&&Br>0&&(q=1.5*Br,T.O=q,T.j.info("backChannelRequestTimeoutMs_="+q)),q=T;const qr=h.g;if(qr){const aa=qr.g?qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aa){var _e=q.h;_e.g||aa.indexOf("spdy")==-1&&aa.indexOf("quic")==-1&&aa.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(So(_e,_e.h),_e.h=null))}if(q.G){const $a=qr.g?qr.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(q.wa=$a,nn(q.J,q.G,$a))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),q=T;var Oe=h;if(q.na=He(q,q.L?q.ba:null,q.W),Oe.L){Bl(q.h,Oe);var vt=Oe,mn=q.O;mn&&(vt.H=mn),vt.D&&(ta(vt),Rs(vt)),q.g=Oe}else sa(q);T.i.length>0&&qa(T)}else Ut[0]!="stop"&&Ut[0]!="close"||xe(T,7);else T.I==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?xe(T,7):Ba(T):Ut[0]!="noop"&&T.l&&T.l.qa(Ut),T.A=0)}}tn(4)}catch{}}var Wu=class{constructor(h,w){this.g=h,this.map=w}};function oi(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ul(h){return h.h?1:h.g?h.g.size:0}function Fa(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function So(h,w){h.g?h.g.add(w):h.h=w}function Bl(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}oi.prototype.cancel=function(){if(this.i=ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ql(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const T of h.g.values())w=w.concat(T.G);return w}return p(h.i)}var Ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ao(h,w){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const q=h[T].indexOf("=");let fe,_e=null;q>=0?(fe=h[T].substring(0,q),_e=h[T].substring(q+1)):fe=h[T],w(fe,_e?decodeURIComponent(_e.replace(/\+/g," ")):"")}}}function us(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;h instanceof us?(this.l=h.l,na(this,h.j),this.o=h.o,this.g=h.g,Ur(this,h.u),this.h=h.h,ra(this,$l(h.i)),this.m=h.m):h&&(w=String(h).match(Ui))?(this.l=!1,na(this,w[1]||"",!0),this.o=Tn(w[2]||""),this.g=Tn(w[3]||"",!0),Ur(this,w[4]),this.h=Tn(w[5]||"",!0),ra(this,w[6]||"",!0),this.m=Tn(w[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}us.prototype.toString=function(){const h=[];var w=this.j;w&&h.push(li(w,Gu,!0),":");var T=this.g;return(T||w=="file")&&(h.push("//"),(w=this.o)&&h.push(li(w,Gu,!0),"@"),h.push(jn(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(li(T,T.charAt(0)=="/"?cs:Lh,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",li(T,Yu)),h.join("")},us.prototype.resolve=function(h){const w=Xt(this);let T=!!h.j;T?na(w,h.j):T=!!h.o,T?w.o=h.o:T=!!h.g,T?w.g=h.g:T=h.u!=null;var q=h.h;if(T)Ur(w,h.u);else if(T=!!h.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var fe=w.h.lastIndexOf("/");fe!=-1&&(q=w.h.slice(0,fe+1)+q)}if(fe=q,fe==".."||fe==".")q="";else if(fe.indexOf("./")!=-1||fe.indexOf("/.")!=-1){q=fe.lastIndexOf("/",0)==0,fe=fe.split("/");const _e=[];for(let Oe=0;Oe<fe.length;){const vt=fe[Oe++];vt=="."?q&&Oe==fe.length&&_e.push(""):vt==".."?((_e.length>1||_e.length==1&&_e[0]!="")&&_e.pop(),q&&Oe==fe.length&&_e.push("")):(_e.push(vt),q=!0)}q=_e.join("/")}else q=fe}return T?w.h=q:T=h.i.toString()!=="",T?ra(w,$l(h.i)):T=!!h.m,T&&(w.m=h.m),w};function Xt(h){return new us(h)}function na(h,w,T){h.j=T?Tn(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function Ur(h,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);h.u=w}else h.u=null}function ra(h,w,T){w instanceof hs?(h.i=w,Rh(h.i,h.l)):(T||(w=li(w,Ku)),h.i=new hs(w,h.l))}function nn(h,w,T){h.i.set(w,T)}function Pr(h){return nn(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Tn(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function li(h,w,T){return typeof h=="string"?(h=encodeURI(h).replace(w,Hu),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Hu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Gu=/[#\/\?@]/g,Lh=/[#\?:]/g,cs=/[#\?]/g,Ku=/[#\?@]/g,Yu=/#/g;function hs(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function ui(h){h.g||(h.g=new Map,h.h=0,h.i&&Ao(h.i,function(w,T){h.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=hs.prototype,t.add=function(h,w){ui(this),this.i=null,h=wr(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(w),this.h+=1,this};function Qu(h,w){ui(h),w=wr(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function Xu(h,w){return ui(h),w=wr(h,w),h.g.has(w)}t.forEach=function(h,w){ui(this),this.g.forEach(function(T,q){T.forEach(function(fe){h.call(w,fe,q,this)},this)},this)};function Ju(h,w){ui(h);let T=[];if(typeof w=="string")Xu(h,w)&&(T=T.concat(h.g.get(wr(h,w))));else for(h=Array.from(h.g.values()),w=0;w<h.length;w++)T=T.concat(h[w]);return T}t.set=function(h,w){return ui(this),this.i=null,h=wr(this,h),Xu(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=Ju(this,h),h.length>0?String(h[0]):w):w};function ko(h,w,T){Qu(h,w),T.length>0&&(h.i=null,h.g.set(wr(h,w),p(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(let q=0;q<w.length;q++){var T=w[q];const fe=jn(T);T=Ju(this,T);for(let _e=0;_e<T.length;_e++){let Oe=fe;T[_e]!==""&&(Oe+="="+jn(T[_e])),h.push(Oe)}}return this.i=h.join("&")};function $l(h){const w=new hs;return w.i=h.i,h.g&&(w.g=new Map(h.g),w.h=h.h),w}function wr(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function Rh(h,w){w&&!h.j&&(ui(h),h.i=null,h.g.forEach(function(T,q){const fe=q.toLowerCase();q!=fe&&(Qu(this,q),ko(this,fe,T))},h)),h.j=w}function Va(h,w){const T=new $n;if(a.Image){const q=new Image;q.onload=d(ds,T,"TestLoadImage: loaded",!0,w,q),q.onerror=d(ds,T,"TestLoadImage: error",!1,w,q),q.onabort=d(ds,T,"TestLoadImage: abort",!1,w,q),q.ontimeout=d(ds,T,"TestLoadImage: timeout",!1,w,q),a.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=h}else w(!1)}function Wl(h,w){const T=new $n,q=new AbortController,fe=setTimeout(()=>{q.abort(),ds(T,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:q.signal}).then(_e=>{clearTimeout(fe),_e.ok?ds(T,"TestPingServer: ok",!0,w):ds(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(fe),ds(T,"TestPingServer: error",!1,w)})}function ds(h,w,T,q,fe){try{fe&&(fe.onload=null,fe.onerror=null,fe.onabort=null,fe.ontimeout=null),q(T)}catch{}}function mt(){this.g=new tt}function Hl(h){this.i=h.Sb||null,this.h=h.ab||!1}m(Hl,Dn),Hl.prototype.g=function(){return new To(this.i,this.h)};function To(h,w){qe.call(this),this.H=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(To,qe),t=To.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=w,this.readyState=1,hi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(w.body=h),(this.H||a).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zu(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zu(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?ci(this):hi(this),this.readyState==3&&Zu(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,ci(this))},t.Na=function(h){this.g&&(this.response=h,ci(this))},t.ga=function(){this.g&&ci(this)};function ci(h){h.readyState=4,h.l=null,h.j=null,h.B=null,hi(h)}t.setRequestHeader=function(h,w){this.A.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=w.next();return h.join(`\r
`)};function hi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(To.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ec(h){let w="";return X(h,function(T,q){w+=q,w+=":",w+=T,w+=`\r
`}),w}function Gl(h,w,T){e:{for(q in T){var q=!1;break e}q=!0}q||(T=ec(T),typeof h=="string"?T!=null&&jn(T):nn(h,w,T))}function ln(h){qe.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(ln,qe);var Kl=/^https?$/i,za=["POST","PUT"];t=ln.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,w,T,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kn.g(),this.g.onreadystatechange=y(u(this.Ca,this));try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(_e){tc(this,_e);return}if(h=T||"",T=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var fe in q)T.set(fe,q[fe]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const _e of q.keys())T.set(_e,q.get(_e));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(T.keys()).find(_e=>_e.toLowerCase()=="content-type"),fe=a.FormData&&h instanceof a.FormData,!(Array.prototype.indexOf.call(za,w,void 0)>=0)||q||fe||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,Oe]of T)this.g.setRequestHeader(_e,Oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(_e){tc(this,_e)}};function tc(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.o=5,fs(h),ia(h)}function fs(h){h.A||(h.A=!0,Ve(h,"complete"),Ve(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ve(this,"complete"),Ve(this,"abort"),ia(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ia(this,!0)),ln.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?nc(this):this.Xa())},t.Xa=function(){nc(this)};function nc(h){if(h.h&&typeof s<"u"){if(h.v&&Ei(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ve(h,"readystatechange"),Ei(h)==4){h.h=!1;try{const _e=h.ca();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var q;if(q=_e===0){let Oe=String(h.D).match(Ui)[1]||null;!Oe&&a.self&&a.self.location&&(Oe=a.self.location.protocol.slice(0,-1)),q=!Kl.test(Oe?Oe.toLowerCase():"")}T=q}if(T)Ve(h,"complete"),Ve(h,"success");else{h.o=6;try{var fe=Ei(h)>2?h.g.statusText:""}catch{fe=""}h.l=fe+" ["+h.ca()+"]",fs(h)}}finally{ia(h)}}}}function ia(h,w){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,w||Ve(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ei(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Ei(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),At(w)}};function Yl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ds(h){const w={};h=(h.g&&Ei(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<h.length;q++){if(P(h[q]))continue;var T=Ra(h[q]);const fe=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const _e=w[fe]||[];w[fe]=_e,_e.push(T)}he(w,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(h,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||w}function Ua(h){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Os("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Os("baseRetryDelayMs",5e3,h),this.Za=Os("retryDelaySeedMs",1e4,h),this.Ta=Os("forwardChannelMaxRetries",2,h),this.va=Os("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new oi(h&&h.concurrentRequestLimit),this.Ba=new mt,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ua.prototype,t.ka=8,t.I=1,t.connect=function(h,w,T,q){We(0),this.W=h,this.H=w||{},T&&q!==void 0&&(this.H.OSID=T,this.H.OAID=q),this.F=this.X,this.J=He(this,null,this.W),qa(this)};function Ba(h){if(Io(h),h.I==3){var w=h.V++,T=Xt(h.J);if(nn(T,"SID",h.M),nn(T,"RID",w),nn(T,"TYPE","terminate"),di(h,T),w=new Nr(h,h.j,w),w.M=2,w.A=Pr(Xt(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(w.A.toString(),"")}catch{}!T&&a.Image&&(new Image().src=w.A,T=!0),T||(w.g=Xe(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Rs(w)}Ie(h)}function ps(h){h.g&&(g(h),h.g.cancel(),h.g=null)}function Io(h){ps(h),h.v&&(a.clearTimeout(h.v),h.v=null),K(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&a.clearTimeout(h.m),h.m=null)}function qa(h){if(!Eo(h.h)&&!h.m){h.m=!0;var w=h.Ea;J||b(),ne||(J(),ne=!0),j.add(w,h),h.D=0}}function rc(h,w){return Ul(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=w.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ji(u(h.Ea,h,w),de(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const fe=new Nr(this,this.j,h);let _e=this.o;if(this.U&&(_e?(_e=pe(_e),G(_e,this.U)):_e=this.U),this.u!==null||this.R||(fe.J=_e,_e=null),this.S)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var q=this.i[T];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(w+=q,w>4096){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=Ql(this,fe,w),T=Xt(this.J),nn(T,"RID",h),nn(T,"CVER",22),this.G&&nn(T,"X-HTTP-Session-Id",this.G),di(this,T),_e&&(this.R?w="headers="+jn(ec(_e))+"&"+w:this.u&&Gl(T,this.u,_e)),So(this.h,fe),this.Ra&&nn(T,"TYPE","init"),this.S?(nn(T,"$req",w),nn(T,"SID","null"),fe.U=!0,si(fe,T,null)):si(fe,T,w),this.I=2}}else this.I==3&&(h?ms(this,h):this.i.length==0||Eo(this.h)||ms(this))};function ms(h,w){var T;w?T=w.l:T=h.V++;const q=Xt(h.J);nn(q,"SID",h.M),nn(q,"RID",T),nn(q,"AID",h.K),di(h,q),h.u&&h.o&&Gl(q,h.u,h.o),T=new Nr(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),w&&(h.i=w.G.concat(h.i)),w=Ql(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),So(h.h,T),si(T,q,w)}function di(h,w){h.H&&X(h.H,function(T,q){nn(w,q,T)}),h.l&&X({},function(T,q){nn(w,q,T)})}function Ql(h,w,T){T=Math.min(h.i.length,T);const q=h.l?u(h.l.Ka,h.l,h):null;e:{var fe=h.i;let vt=-1;for(;;){const mn=["count="+T];vt==-1?T>0?(vt=fe[0].g,mn.push("ofs="+vt)):vt=0:mn.push("ofs="+vt);let Ut=!0;for(let bn=0;bn<T;bn++){var _e=fe[bn].g;const hr=fe[bn].map;if(_e-=vt,_e<0)vt=Math.max(0,fe[bn].g-100),Ut=!1;else try{_e="req"+_e+"_"||"";try{var Oe=hr instanceof Map?hr:Object.entries(hr);for(const[In,Br]of Oe){let qr=Br;o(Br)&&(qr=Qe(Br)),mn.push(_e+In+"="+encodeURIComponent(qr))}}catch(In){throw mn.push(_e+"type="+encodeURIComponent("_badmap")),In}}catch{q&&q(hr)}}if(Ut){Oe=mn.join("&");break e}}Oe=void 0}return h=h.i.splice(0,T),w.G=h,Oe}function sa(h){if(!h.g&&!h.v){h.Y=1;var w=h.Da;J||b(),ne||(J(),ne=!0),j.add(w,h),h.A=0}}function No(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ji(u(h.Da,h),de(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,R(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ji(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,We(10),ps(this),R(this))};function g(h){h.B!=null&&(a.clearTimeout(h.B),h.B=null)}function R(h){h.g=new Nr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var w=Xt(h.na);nn(w,"RID","rpc"),nn(w,"SID",h.M),nn(w,"AID",h.K),nn(w,"CI",h.F?"0":"1"),!h.F&&h.ia&&nn(w,"TO",h.ia),nn(w,"TYPE","xmlhttp"),di(h,w),h.u&&h.o&&Gl(w,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Pr(Xt(w)),T.u=null,T.R=!0,ai(T,h)}t.Va=function(){this.C!=null&&(this.C=null,ps(this),No(this),We(19))};function K(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function ie(h,w){var T=null;if(h.g==w){K(h),g(h),h.g=null;var q=2}else if(Fa(h.h,w))T=w.G,Bl(h.h,w),q=1;else return;if(h.I!=0){if(w.o)if(q==1){T=w.u?w.u.length:0,w=Date.now()-w.F;var fe=h.D;q=ut(),Ve(q,new Gt(q,T)),qa(h)}else sa(h);else if(fe=w.m,fe==3||fe==0&&w.X>0||!(q==1&&rc(h,w)||q==2&&No(h)))switch(T&&T.length>0&&(w=h.h,w.i=w.i.concat(T)),fe){case 1:xe(h,5);break;case 4:xe(h,10);break;case 3:xe(h,6);break;default:xe(h,2)}}}function de(h,w){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*w}function xe(h,w){if(h.j.info("Error code "+w),w==2){var T=u(h.bb,h),q=h.Ua;const fe=!q;q=new us(q||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||na(q,"https"),Pr(q),fe?Va(q.toString(),T):Wl(q.toString(),T)}else We(2);h.I=0,h.l&&h.l.pa(w),Ie(h),Io(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),We(2)):(this.j.info("Failed to ping google.com"),We(1))};function Ie(h){if(h.I=0,h.ja=[],h.l){const w=ql(h.h);(w.length!=0||h.i.length!=0)&&(N(h.ja,w),N(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function He(h,w,T){var q=T instanceof us?Xt(T):new us(T);if(q.g!="")w&&(q.g=w+"."+q.g),Ur(q,q.u);else{var fe=a.location;q=fe.protocol,w=w?w+"."+fe.hostname:fe.hostname,fe=+fe.port;const _e=new us(null);q&&na(_e,q),w&&(_e.g=w),fe&&Ur(_e,fe),T&&(_e.h=T),q=_e}return T=h.G,w=h.wa,T&&w&&nn(q,T,w),nn(q,"VER",h.ka),di(h,q),q}function Xe(h,w,T){if(w&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Aa&&!h.ma?new ln(new Hl({ab:T})):new ln(h.ma),w.Fa(h.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dt(){}t=dt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function gt(){}gt.prototype.g=function(h,w){return new yt(h,w)};function yt(h,w){qe.call(this),this.g=new Ua(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(h?h["X-WebChannel-Client-Profile"]=w.sa:h={"X-WebChannel-Client-Profile":w.sa}),this.g.U=h,(h=w&&w.Qb)&&!P(h)&&(this.g.u=h),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!P(w)&&(this.g.G=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new Kt(this)}m(yt,qe),yt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yt.prototype.close=function(){Ba(this.g)},yt.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Qe(h),h=T);w.i.push(new Wu(w.Ya++,h)),w.I==3&&qa(w)},yt.prototype.N=function(){this.g.l=null,delete this.j,Ba(this.g),delete this.g,yt.Z.N.call(this)};function wn(h){It.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const T in w){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}m(wn,It);function Fn(){pn.call(this),this.status=1}m(Fn,pn);function Kt(h){this.g=h}m(Kt,dt),Kt.prototype.ra=function(){Ve(this.g,"a")},Kt.prototype.qa=function(h){Ve(this.g,new wn(h))},Kt.prototype.pa=function(h){Ve(this.g,new Fn)},Kt.prototype.oa=function(){Ve(this.g,"b")},gt.prototype.createWebChannel=gt.prototype.g,yt.prototype.send=yt.prototype.o,yt.prototype.open=yt.prototype.m,yt.prototype.close=yt.prototype.close,MS=function(){return new gt},OS=function(){return ut()},DS=Je,U2={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,r1=Ir,ri.COMPLETE="complete",RS=ri,jt.EventType=xt,xt.OPEN="a",xt.CLOSE="b",xt.ERROR="c",xt.MESSAGE="d",qe.prototype.listen=qe.prototype.J,pd=jt,ln.prototype.listenOnce=ln.prototype.K,ln.prototype.getLastError=ln.prototype.Ha,ln.prototype.getLastErrorCode=ln.prototype.ya,ln.prototype.getStatus=ln.prototype.ca,ln.prototype.getResponseJson=ln.prototype.La,ln.prototype.getResponseText=ln.prototype.la,ln.prototype.send=ln.prototype.ea,ln.prototype.setWithCredentials=ln.prototype.Fa,LS=ln}).apply(typeof kp<"u"?kp:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jr.UNAUTHENTICATED=new Jr(null),Jr.GOOGLE_CREDENTIALS=new Jr("google-credentials-uid"),Jr.FIRST_PARTY=new Jr("first-party-uid"),Jr.MOCK_USER=new Jr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh="12.8.0";function YL(t){Sh=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new gv("@firebase/firestore");function pc(){return Nu.logLevel}function $e(t,...e){if(Nu.logLevel<=Ft.DEBUG){const n=e.map(Tv);Nu.debug(`Firestore (${Sh}): ${t}`,...n)}}function vo(t,...e){if(Nu.logLevel<=Ft.ERROR){const n=e.map(Tv);Nu.error(`Firestore (${Sh}): ${t}`,...n)}}function oh(t,...e){if(Nu.logLevel<=Ft.WARN){const n=e.map(Tv);Nu.warn(`Firestore (${Sh}): ${t}`,...n)}}function Tv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,jS(t,r,n)}function jS(t,e,n){let r=`FIRESTORE (${Sh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw vo(r),new Error(r)}function sn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||jS(e,i,r)}function Tt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends bo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jr.UNAUTHENTICATED))}shutdown(){}}class XL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JL{constructor(e){this.t=e,this.currentUser=Jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){sn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new yu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yu,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yu)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(sn(typeof r.accessToken=="string",31837,{l:r}),new FS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return sn(e===null||typeof e=="string",2055,{h:e}),new Jr(e)}}class ZL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class eR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ZL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){sn(this.o===void 0,3512);const r=s=>{s.error!=null&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,$e("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Uw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(sn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Uw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=nR(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Vt(t,e){return t<e?-1:t>e?1:0}function B2(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return e0(i)===e0(s)?Vt(i,s):e0(i)?1:-1}return Vt(t.length,e.length)}const rR=55296,iR=57343;function e0(t){const e=t.charCodeAt(0);return e>=rR&&e<=iR}function lh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="__name__";class pa{constructor(e,n,r){n===void 0?n=0:n>e.length&&pt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&pt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=pa.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Vt(e.length,n.length)}static compareSegments(e,n){const r=pa.isNumericId(e),i=pa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?pa.extractNumericId(e).compare(pa.extractNumericId(n)):B2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _l.fromString(e.substring(4,e.length-2))}}class En extends pa{construct(e,n,r){return new En(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new En(n)}static emptyPath(){return new En([])}}const sR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jr extends pa{construct(e,n,r){return new jr(e,n,r)}static isValidIdentifier(e){return sR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bw}static keyField(){return new jr([Bw])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Be(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Be(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Be(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new Be(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jr(n)}static emptyPath(){return new jr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.path=e}static fromPath(e){return new lt(En.fromString(e))}static fromName(e){return new lt(En.fromString(e).popFirst(5))}static empty(){return new lt(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&En.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return En.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new En(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t,e,n){if(!n)throw new Be(ke.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aR(t,e,n,r){if(e===!0&&r===!0)throw new Be(ke.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qw(t){if(!lt.isDocumentKey(t))throw new Be(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $w(t){if(lt.isDocumentKey(t))throw new Be(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function jm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pt(12329,{type:typeof t})}function co(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Be(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jm(t);throw new Be(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function oR(t,e){if(e<=0)throw new Be(ke.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cf(t,e){if(!zS(t))throw new Be(ke.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Be(ke.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=-62135596800,Hw=1e6;class Cn{static now(){return Cn.fromMillis(Date.now())}static fromDate(e){return Cn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Hw);return new Cn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Be(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Be(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ww)throw new Be(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hw}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Cn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cf(e,Cn._jsonSchema))return new Cn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ww;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Cn._jsonSchemaVersion="firestore/timestamp/1.0",Cn._jsonSchema={type:ur("string",Cn._jsonSchemaVersion),seconds:ur("number"),nanoseconds:ur("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new Cn(0,0))}static max(){return new Et(new Cn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=-1;function lR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Et.fromTimestamp(r===1e9?new Cn(n+1,0):new Cn(n,r));return new Tl(i,lt.empty(),e)}function uR(t){return new Tl(t.readTime,t.key,af)}class Tl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Tl(Et.min(),lt.empty(),af)}static max(){return new Tl(Et.max(),lt.empty(),af)}}function cR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=lt.comparator(t.documentKey,e.documentKey),n!==0?n:Vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(t){if(t.code!==ke.FAILED_PRECONDITION||t.message!==hR)throw t;$e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Te?n:Te.resolve(n)}catch(n){return Te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Te.reject(n)}static resolve(e){return new Te((n,r)=>{n(e)})}static reject(e){return new Te((n,r)=>{r(e)})}static waitFor(e){return new Te((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=Te.resolve(!1);for(const r of e)n=n.next(i=>i?Te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Te((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{a[u]=d,++o,o===s&&r(a)},d=>i(d))}})}static doWhile(e,n){return new Te((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function fR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=-1;function Vm(t){return t==null}function K1(t){return t===0&&1/t==-1/0}function pR(t){return typeof t=="number"&&Number.isInteger(t)&&!K1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="";function mR(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Gw(e)),e=gR(t.get(n),e);return Gw(e)}function gR(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case US:n+="";break;default:n+=s}}return n}function Gw(t){return t+US+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){this.comparator=e,this.root=n||Mr.EMPTY}insert(e,n){return new qn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mr.BLACK,null,null))}remove(e){return new qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tp(this.root,e,this.comparator,!0)}}class Tp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Mr.RED,this.left=i??Mr.EMPTY,this.right=s??Mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Mr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Mr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}Mr.EMPTY=null,Mr.RED=!0,Mr.BLACK=!1;Mr.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.comparator=e,this.data=new qn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yw(this.data.getIterator())}getIteratorFrom(e){return new Yw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _r(this.comparator);return n.data=e,n}}class Yw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.fields=e,e.sort(jr.comparator)}static empty(){return new es([])}unionWith(e){let n=new _r(jr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new es(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qS("Invalid base64 string: "+s):s}}(e);return new zr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new zr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zr.EMPTY_BYTE_STRING=new zr("");const yR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Il(t){if(sn(!!t,39018),typeof t=="string"){let e=0;const n=yR.exec(t);if(sn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:er(t.seconds),nanos:er(t.nanos)}}function er(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nl(t){return typeof t=="string"?zr.fromBase64String(t):zr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="server_timestamp",WS="__type__",HS="__previous_value__",GS="__local_write_time__";function Pv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[WS])==null?void 0:r.stringValue)===$S}function zm(t){const e=t.mapValue.fields[HS];return Pv(e)?zm(e):e}function of(t){const e=Il(t.mapValue.fields[GS].timestampValue);return new Cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n,r,i,s,a,o,l,u,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d,this.apiKey=m}}const Y1="(default)";class lf{constructor(e,n){this.projectId=e,this.database=n||Y1}static empty(){return new lf("","")}get isDefaultDatabase(){return this.database===Y1}isEqual(e){return e instanceof lf&&e.projectId===this.projectId&&e.database===this.database}}function _R(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Be(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lf(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="__type__",YS="__max__",Ip={mapValue:{fields:{__type__:{stringValue:YS}}}},QS="__vector__",Q1="value";function Pl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pv(t)?4:bR(t)?9007199254740991:wR(t)?10:11:pt(28295,{value:t})}function Ca(t,e){if(t===e)return!0;const n=Pl(t);if(n!==Pl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return of(t).isEqual(of(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Il(i.timestampValue),o=Il(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Nl(i.bytesValue).isEqual(Nl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return er(i.geoPointValue.latitude)===er(s.geoPointValue.latitude)&&er(i.geoPointValue.longitude)===er(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return er(i.integerValue)===er(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=er(i.doubleValue),o=er(s.doubleValue);return a===o?K1(a)===K1(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return lh(t.arrayValue.values||[],e.arrayValue.values||[],Ca);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(Kw(a)!==Kw(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Ca(a[l],o[l])))return!1;return!0}(t,e);default:return pt(52216,{left:t})}}function uf(t,e){return(t.values||[]).find(n=>Ca(n,e))!==void 0}function uh(t,e){if(t===e)return 0;const n=Pl(t),r=Pl(e);if(n!==r)return Vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=er(s.integerValue||s.doubleValue),l=er(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return Qw(t.timestampValue,e.timestampValue);case 4:return Qw(of(t),of(e));case 5:return B2(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Nl(s),l=Nl(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=Vt(o[u],l[u]);if(d!==0)return d}return Vt(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Vt(er(s.latitude),er(a.latitude));return o!==0?o:Vt(er(s.longitude),er(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Xw(t.arrayValue,e.arrayValue);case 10:return function(s,a){var y,p,N,L;const o=s.fields||{},l=a.fields||{},u=(y=o[Q1])==null?void 0:y.arrayValue,d=(p=l[Q1])==null?void 0:p.arrayValue,m=Vt(((N=u==null?void 0:u.values)==null?void 0:N.length)||0,((L=d==null?void 0:d.values)==null?void 0:L.length)||0);return m!==0?m:Xw(u,d)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Ip.mapValue&&a===Ip.mapValue)return 0;if(s===Ip.mapValue)return 1;if(a===Ip.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let m=0;m<l.length&&m<d.length;++m){const y=B2(l[m],d[m]);if(y!==0)return y;const p=uh(o[l[m]],u[d[m]]);if(p!==0)return p}return Vt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw pt(23264,{he:n})}}function Qw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Vt(t,e);const n=Il(t),r=Il(e),i=Vt(n.seconds,r.seconds);return i!==0?i:Vt(n.nanos,r.nanos)}function Xw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=uh(n[i],r[i]);if(s)return s}return Vt(n.length,r.length)}function ch(t){return q2(t)}function q2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Il(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Nl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return lt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=q2(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${q2(n.fields[a])}`;return i+"}"}(t.mapValue):pt(61005,{value:t})}function i1(t){switch(Pl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zm(t);return e?16+i1(e):16;case 5:return 2*t.stringValue.length;case 6:return Nl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+i1(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Vl(r.fields,(s,a)=>{i+=s.length+i1(a)}),i}(t.mapValue);default:throw pt(13486,{value:t})}}function Jw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $2(t){return!!t&&"integerValue"in t}function Cv(t){return!!t&&"arrayValue"in t}function Zw(t){return!!t&&"nullValue"in t}function eb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function s1(t){return!!t&&"mapValue"in t}function wR(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[KS])==null?void 0:r.stringValue)===QS}function Cd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Vl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cd(t.arrayValue.values[n]);return e}return{...t}}function bR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===YS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.value=e}static empty(){return new Ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!s1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cd(n)}setAll(e){let n=jr.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Cd(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());s1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ca(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];s1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ni(Cd(this.value))}}function XS(t){const e=[];return Vl(t.fields,(n,r)=>{const i=new jr([n]);if(s1(r)){const s=XS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new es(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new ei(e,0,Et.min(),Et.min(),Et.min(),Ni.empty(),0)}static newFoundDocument(e,n,r,i){return new ei(e,1,n,Et.min(),r,i,0)}static newNoDocument(e,n){return new ei(e,2,n,Et.min(),Et.min(),Ni.empty(),0)}static newUnknownDocument(e,n){return new ei(e,3,n,Et.min(),Et.min(),Ni.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ei(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n){this.position=e,this.inclusive=n}}function tb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=lt.comparator(lt.fromName(a.referenceValue),n.key):r=uh(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function nb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ca(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n="asc"){this.field=e,this.dir=n}}function xR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{}class lr extends JS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SR(e,n,r):n==="array-contains"?new TR(e,r):n==="in"?new IR(e,r):n==="not-in"?new NR(e,r):n==="array-contains-any"?new PR(e,r):new lr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AR(e,r):new kR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(uh(n,this.value)):n!==null&&Pl(this.value)===Pl(n)&&this.matchesComparison(uh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qs extends JS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qs(e,n)}matches(e){return ZS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZS(t){return t.op==="and"}function eA(t){return ER(t)&&ZS(t)}function ER(t){for(const e of t.filters)if(e instanceof Qs)return!1;return!0}function W2(t){if(t instanceof lr)return t.field.canonicalString()+t.op.toString()+ch(t.value);if(eA(t))return t.filters.map(e=>W2(e)).join(",");{const e=t.filters.map(n=>W2(n)).join(",");return`${t.op}(${e})`}}function tA(t,e){return t instanceof lr?function(r,i){return i instanceof lr&&r.op===i.op&&r.field.isEqual(i.field)&&Ca(r.value,i.value)}(t,e):t instanceof Qs?function(r,i){return i instanceof Qs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&tA(a,i.filters[o]),!0):!1}(t,e):void pt(19439)}function nA(t){return t instanceof lr?function(n){return`${n.field.canonicalString()} ${n.op} ${ch(n.value)}`}(t):t instanceof Qs?function(n){return n.op.toString()+" {"+n.getFilters().map(nA).join(" ,")+"}"}(t):"Filter"}class SR extends lr{constructor(e,n,r){super(e,n,r),this.key=lt.fromName(r.referenceValue)}matches(e){const n=lt.comparator(e.key,this.key);return this.matchesComparison(n)}}class AR extends lr{constructor(e,n){super(e,"in",n),this.keys=rA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kR extends lr{constructor(e,n){super(e,"not-in",n),this.keys=rA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>lt.fromName(r.referenceValue))}class TR extends lr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cv(n)&&uf(n.arrayValue,this.value)}}class IR extends lr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uf(this.value.arrayValue,n)}}class NR extends lr{constructor(e,n){super(e,"not-in",n)}matches(e){if(uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uf(this.value.arrayValue,n)}}class PR extends lr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function rb(t,e=null,n=[],r=[],i=null,s=null,a=null){return new CR(t,e,n,r,i,s,a)}function Lv(t){const e=Tt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>W2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Vm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ch(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ch(r)).join(",")),e.Te=n}return e.Te}function Rv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nb(t.startAt,e.startAt)&&nb(t.endAt,e.endAt)}function H2(t){return lt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function LR(t,e,n,r,i,s,a,o){return new Lf(t,e,n,r,i,s,a,o)}function Dv(t){return new Lf(t)}function ib(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RR(t){return lt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function iA(t){return t.collectionGroup!==null}function Ld(t){const e=Tt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new _r(jr.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new J1(s,r))}),n.has(jr.keyField().canonicalString())||e.Ie.push(new J1(jr.keyField(),r))}return e.Ie}function ka(t){const e=Tt(t);return e.Ee||(e.Ee=DR(e,Ld(t))),e.Ee}function DR(t,e){if(t.limitType==="F")return rb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new J1(i.field,s)});const n=t.endAt?new X1(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new X1(t.startAt.position,t.startAt.inclusive):null;return rb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function G2(t,e){const n=t.filters.concat([e]);return new Lf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Z1(t,e,n){return new Lf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Um(t,e){return Rv(ka(t),ka(e))&&t.limitType===e.limitType}function sA(t){return`${Lv(ka(t))}|lt:${t.limitType}`}function mc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nA(i)).join(", ")}]`),Vm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ch(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ch(i)).join(",")),`Target(${r})`}(ka(t))}; limitType=${t.limitType})`}function Bm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):lt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ld(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const u=tb(a,o,l);return a.inclusive?u<=0:u<0}(r.startAt,Ld(r),i)||r.endAt&&!function(a,o,l){const u=tb(a,o,l);return a.inclusive?u>=0:u>0}(r.endAt,Ld(r),i))}(t,e)}function OR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aA(t){return(e,n)=>{let r=!1;for(const i of Ld(t)){const s=MR(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function MR(t,e,n){const r=t.field.isKeyField()?lt.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?uh(l,u):pt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return BS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new qn(lt.comparator);function _o(){return jR}const oA=new qn(lt.comparator);function md(...t){let e=oA;for(const n of t)e=e.insert(n.key,n);return e}function lA(t){let e=oA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hu(){return Rd()}function uA(){return Rd()}function Rd(){return new zu(t=>t.toString(),(t,e)=>t.isEqual(e))}const FR=new qn(lt.comparator),VR=new _r(lt.comparator);function zt(...t){let e=VR;for(const n of t)e=e.add(n);return e}const zR=new _r(Vt);function UR(){return zR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:K1(e)?"-0":e}}function cA(t){return{integerValue:""+t}}function BR(t,e){return pR(e)?cA(e):Ov(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this._=void 0}}function qR(t,e,n){return t instanceof em?function(i,s){const a={fields:{[WS]:{stringValue:$S},[GS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Pv(s)&&(s=zm(s)),s&&(a.fields[HS]=s),{mapValue:a}}(n,e):t instanceof cf?dA(t,e):t instanceof hf?fA(t,e):function(i,s){const a=hA(i,s),o=sb(a)+sb(i.Ae);return $2(a)&&$2(i.Ae)?cA(o):Ov(i.serializer,o)}(t,e)}function $R(t,e,n){return t instanceof cf?dA(t,e):t instanceof hf?fA(t,e):n}function hA(t,e){return t instanceof tm?function(r){return $2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class em extends qm{}class cf extends qm{constructor(e){super(),this.elements=e}}function dA(t,e){const n=pA(e);for(const r of t.elements)n.some(i=>Ca(i,r))||n.push(r);return{arrayValue:{values:n}}}class hf extends qm{constructor(e){super(),this.elements=e}}function fA(t,e){let n=pA(e);for(const r of t.elements)n=n.filter(i=>!Ca(i,r));return{arrayValue:{values:n}}}class tm extends qm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sb(t){return er(t.integerValue||t.doubleValue)}function pA(t){return Cv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WR(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof cf&&i instanceof cf||r instanceof hf&&i instanceof hf?lh(r.elements,i.elements,Ca):r instanceof tm&&i instanceof tm?Ca(r.Ae,i.Ae):r instanceof em&&i instanceof em}(t.transform,e.transform)}class HR{constructor(e,n){this.version=e,this.transformResults=n}}class Oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function a1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $m{}function mA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wm(t.key,Oi.none()):new Rf(t.key,t.data,Oi.none());{const n=t.data,r=Ni.empty();let i=new _r(jr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new zl(t.key,r,new es(i.toArray()),Oi.none())}}function GR(t,e,n){t instanceof Rf?function(i,s,a){const o=i.value.clone(),l=ob(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof zl?function(i,s,a){if(!a1(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=ob(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(gA(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Dd(t,e,n,r){return t instanceof Rf?function(s,a,o,l){if(!a1(s.precondition,a))return o;const u=s.value.clone(),d=lb(s.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof zl?function(s,a,o,l){if(!a1(s.precondition,a))return o;const u=lb(s.fieldTransforms,l,a),d=a.data;return d.setAll(gA(s)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,a,o){return a1(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function KR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=hA(r.transform,i||null);s!=null&&(n===null&&(n=Ni.empty()),n.set(r.field,s))}return n||null}function ab(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&lh(r,i,(s,a)=>WR(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rf extends $m{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zl extends $m{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ob(t,e,n){const r=new Map;sn(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,$R(a,o,n[i]))}return r}function lb(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,qR(s,a,e))}return r}class Wm extends $m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YR extends $m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&GR(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uA();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=mA(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Et.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),zt())}isEqual(e){return this.batchId===e.batchId&&lh(this.mutations,e.mutations,(n,r)=>ab(n,r))&&lh(this.baseMutations,e.baseMutations,(n,r)=>ab(n,r))}}class Mv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){sn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return FR}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Mv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ar,Wt;function ZR(t){switch(t){case ke.OK:return pt(64938);case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0;default:return pt(15467,{code:t})}}function yA(t){if(t===void 0)return vo("GRPC error has no .code"),ke.UNKNOWN;switch(t){case ar.OK:return ke.OK;case ar.CANCELLED:return ke.CANCELLED;case ar.UNKNOWN:return ke.UNKNOWN;case ar.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case ar.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case ar.INTERNAL:return ke.INTERNAL;case ar.UNAVAILABLE:return ke.UNAVAILABLE;case ar.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case ar.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case ar.NOT_FOUND:return ke.NOT_FOUND;case ar.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case ar.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case ar.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case ar.ABORTED:return ke.ABORTED;case ar.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case ar.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case ar.DATA_LOSS:return ke.DATA_LOSS;default:return pt(39323,{code:t})}}(Wt=ar||(ar={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7=new _l([4294967295,4294967295],0);function ub(t){const e=e7().encode(t),n=new CS;return n.update(e),new Uint8Array(n.digest())}function cb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _l([n,r],0),new _l([i,s],0)]}class jv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gd(`Invalid padding: ${n}`);if(r<0)throw new gd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_l.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(_l.fromNumber(r)));return i.compare(t7)===1&&(i=new _l([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ub(e),[r,i]=cb(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new jv(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const n=ub(e),[r,i]=cb(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.be(a)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Df.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hm(Et.min(),i,new qn(Vt),_o(),zt())}}class Df{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Df(r,n,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class vA{constructor(e,n){this.targetId=e,this.Ce=n}}class _A{constructor(e,n,r=zr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class hb{constructor(){this.ve=0,this.Fe=db(),this.Me=zr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=zt(),n=zt(),r=zt();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pt(38017,{changeType:s})}}),new Df(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=db()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,sn(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class n7{constructor(e){this.Ge=e,this.ze=new Map,this.je=_o(),this.He=Np(),this.Je=Np(),this.Ze=new qn(Vt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:pt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(H2(s))if(r===0){const a=new lt(s.path);this.et(n,a,ei.newNoDocument(a,Et.min()))}else sn(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=Nl(r).toUint8Array()}catch(l){if(l instanceof qS)return oh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new jv(a,i,s)}catch(l){return oh(l instanceof gd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&H2(o.target)){const l=new lt(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,ei.newNoDocument(l,e))}s.Be&&(n.set(a,s.ke()),s.Ke())}});let r=zt();this.Je.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new Hm(e,n,this.Ze,this.je,r);return this.je=_o(),this.He=Np(),this.Je=Np(),this.Ze=new qn(Vt),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new hb,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new _r(Vt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new _r(Vt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||$e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Np(){return new qn(lt.comparator)}function db(){return new qn(lt.comparator)}const r7=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),i7=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),s7=(()=>({and:"AND",or:"OR"}))();class a7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function K2(t,e){return t.useProto3Json||Vm(e)?e:{value:e}}function nm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function o7(t,e){return nm(t,e.toTimestamp())}function Ta(t){return sn(!!t,49232),Et.fromTimestamp(function(n){const r=Il(n);return new Cn(r.seconds,r.nanos)}(t))}function Fv(t,e){return Y2(t,e).canonicalString()}function Y2(t,e){const n=function(i){return new En(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bA(t){const e=En.fromString(t);return sn(kA(e),10190,{key:e.toString()}),e}function Q2(t,e){return Fv(t.databaseId,e.path)}function t0(t,e){const n=bA(e);if(n.get(1)!==t.databaseId.projectId)throw new Be(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Be(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new lt(EA(n))}function xA(t,e){return Fv(t.databaseId,e)}function l7(t){const e=bA(t);return e.length===4?En.emptyPath():EA(e)}function X2(t){return new En(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EA(t){return sn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function fb(t,e,n){return{name:Q2(t,e),fields:n.value.mapValue.fields}}function u7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:pt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(sn(d===void 0||typeof d=="string",58123),zr.fromBase64String(d||"")):(sn(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),zr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const d=u.code===void 0?ke.UNKNOWN:yA(u.code);return new Be(d,u.message||"")}(a);n=new _A(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=t0(t,r.document.name),s=Ta(r.document.updateTime),a=r.document.createTime?Ta(r.document.createTime):Et.min(),o=new Ni({mapValue:{fields:r.document.fields}}),l=ei.newFoundDocument(i,s,a,o),u=r.targetIds||[],d=r.removedTargetIds||[];n=new o1(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=t0(t,r.document),s=r.readTime?Ta(r.readTime):Et.min(),a=ei.newNoDocument(i,s),o=r.removedTargetIds||[];n=new o1([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=t0(t,r.document),s=r.removedTargetIds||[];n=new o1([],s,i,null)}else{if(!("filter"in e))return pt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new JR(i,s),o=r.targetId;n=new vA(o,a)}}return n}function c7(t,e){let n;if(e instanceof Rf)n={update:fb(t,e.key,e.value)};else if(e instanceof Wm)n={delete:Q2(t,e.key)};else if(e instanceof zl)n={update:fb(t,e.key,e.data),updateMask:_7(e.fieldMask)};else{if(!(e instanceof YR))return pt(16599,{dt:e.type});n={verify:Q2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof em)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof cf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof hf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof tm)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw pt(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:o7(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pt(27497)}(t,e.precondition)),n}function h7(t,e){return t&&t.length>0?(sn(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?Ta(i.updateTime):Ta(s);return a.isEqual(Et.min())&&(a=Ta(s)),new HR(a,i.transformResults||[])}(n,e))):[]}function d7(t,e){return{documents:[xA(t,e.path)]}}function f7(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xA(t,i);const s=function(u){if(u.length!==0)return AA(Qs.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(d=>function(y){return{field:gc(y.field),direction:g7(y.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=K2(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function p7(t){let e=l7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){sn(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(m){const y=SA(m);return y instanceof Qs&&eA(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(y=>function(N){return new J1(yc(N.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(y))}(n.orderBy));let o=null;n.limit&&(o=function(m){let y;return y=typeof m=="object"?m.value:m,Vm(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(m){const y=!!m.before,p=m.values||[];return new X1(p,y)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const y=!m.before,p=m.values||[];return new X1(p,y)}(n.endAt)),LR(e,i,a,s,o,"F",l,u)}function m7(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yc(n.unaryFilter.field);return lr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yc(n.unaryFilter.field);return lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=yc(n.unaryFilter.field);return lr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=yc(n.unaryFilter.field);return lr.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(t):t.fieldFilter!==void 0?function(n){return lr.create(yc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qs.create(n.compositeFilter.filters.map(r=>SA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(n.compositeFilter.op))}(t):pt(30097,{filter:t})}function g7(t){return r7[t]}function y7(t){return i7[t]}function v7(t){return s7[t]}function gc(t){return{fieldPath:t.canonicalString()}}function yc(t){return jr.fromServerFormat(t.fieldPath)}function AA(t){return t instanceof lr?function(n){if(n.op==="=="){if(eb(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NAN"}};if(Zw(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eb(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NOT_NAN"}};if(Zw(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gc(n.field),op:y7(n.op),value:n.value}}}(t):t instanceof Qs?function(n){const r=n.getFilters().map(i=>AA(i));return r.length===1?r[0]:{compositeFilter:{op:v7(n.op),filters:r}}}(t):pt(54877,{filter:t})}function _7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function TA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,r,i,s=Et.min(),a=Et.min(),o=zr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new sl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e){this.yt=e}}function b7(t){const e=p7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Z1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(){this.Sn=new E7}addToCollectionParentIndex(e,n){return this.Sn.add(n),Te.resolve()}getCollectionParents(e,n){return Te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Te.resolve()}deleteFieldIndex(e,n){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,n){return Te.resolve()}getDocumentsMatchingTarget(e,n){return Te.resolve(null)}getIndexType(e,n){return Te.resolve(0)}getFieldIndexes(e,n){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,n){return Te.resolve(Tl.min())}getMinOffsetFromCollectionGroup(e,n){return Te.resolve(Tl.min())}updateCollectionGroup(e,n,r){return Te.resolve()}updateIndexEntries(e,n){return Te.resolve()}}class E7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _r(En.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _r(En.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IA=41943040;class ki{static withCacheSize(e){return new ki(e,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki.DEFAULT_COLLECTION_PERCENTILE=10,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ki.DEFAULT=new ki(IA,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ki.DISABLED=new ki(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new hh(0)}static ar(){return new hh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="LruGarbageCollector",S7=1048576;function gb([t,e],[n,r]){const i=Vt(t,n);return i===0?Vt(e,r):i}class A7{constructor(e){this.Pr=e,this.buffer=new _r(gb),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();gb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){$e(mb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){kh(n)?$e(mb,"Ignoring IndexedDB error during garbage collection: ",n):await Ah(n)}await this.Ar(3e5)})}}class T7{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Te.resolve(Fm.ce);const r=new A7(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($e("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(pb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pb):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,a,o,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,o=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(u=Date.now(),pc()<=Ft.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${m} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function I7(t,e){return new T7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(){this.changes=new zu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ei.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Dd(r.mutation,i,es.empty(),Cn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,zt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=zt()){const i=hu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=md();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=hu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,zt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=_o();const a=Rd(),o=function(){return Rd()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof zl)?s=s.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Dd(d.mutation,u,d.mutation.getFieldMask(),Cn.now())):a.set(u.key,es.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>o.set(u,new P7(d,a.get(u)??null))),o))}recalculateAndSaveOverlays(e,n){const r=Rd();let i=new qn((a,o)=>a-o),s=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||es.empty();d=o.applyToLocalView(u,d),r.set(l,d);const m=(i.get(o.batchId)||zt()).add(l);i=i.insert(o.batchId,m)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,m=uA();d.forEach(y=>{if(!s.has(y)){const p=mA(n.get(y),r.get(y));p!==null&&m.set(y,p),s=s.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,m))}return Te.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return RR(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Te.resolve(hu());let o=af,l=s;return a.next(u=>Te.forEach(u,(d,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),s.get(d)?Te.resolve():this.remoteDocumentCache.getEntry(e,d).next(y=>{l=l.insert(d,y)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,zt())).next(d=>({batchId:o,changes:lA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new lt(n)).next(r=>{let i=md();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=md();return this.indexManager.getCollectionParents(e,s).next(o=>Te.forEach(o,l=>{const u=function(m,y){return new Lf(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((m,y)=>{a=a.insert(m,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,ei.newInvalidDocument(d)))});let o=md();return a.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Dd(d.mutation,u,es.empty(),Cn.now()),Bm(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ta(i.createTime)}}(n)),Te.resolve()}getNamedQuery(e,n){return Te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:b7(i.bundledQuery),readTime:Ta(i.readTime)}}(n)),Te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(){this.overlays=new qn(lt.comparator),this.Lr=new Map}getOverlay(e,n){return Te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hu();return Te.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.bt(e,n,s)}),Te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(r)),Te.resolve()}getOverlaysForCollection(e,n,r){const i=hu(),s=n.length+1,a=new lt(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qn((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=hu(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=hu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return Te.resolve(o)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new XR(n,r));let s=this.Lr.get(n);s===void 0&&(s=zt(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(){this.sessionToken=zr.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.kr=new _r(xr.Kr),this.qr=new _r(xr.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new xr(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new xr(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new lt(new En([])),r=new xr(n,e),i=new xr(n,e+1),s=[];return this.qr.forEachInRange([r,i],a=>{this.Wr(a),s.push(a.key)}),s}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new lt(new En([])),r=new xr(n,e),i=new xr(n,e+1);let s=zt();return this.qr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new xr(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xr{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return lt.comparator(e.key,n.key)||Vt(e.Hr,n.Hr)}static Ur(e,n){return Vt(e.Hr,n.Hr)||lt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new _r(xr.Kr)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new QR(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Jr=this.Jr.add(new xr(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Te.resolve(a)}lookupMutationBatch(e,n){return Te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return Te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?Nv:this.Yn-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xr(n,0),i=new xr(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],a=>{const o=this.Zr(a.Hr);s.push(o)}),Te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _r(Vt);return n.forEach(i=>{const s=new xr(i,0),a=new xr(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,a],o=>{r=r.add(o.Hr)})}),Te.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;lt.isDocumentKey(s)||(s=s.child(""));const a=new xr(new lt(s),0);let o=new _r(Vt);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Hr)),!0)},a),Te.resolve(this.Yr(o))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){sn(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Te.forEach(n.mutations,i=>{const s=new xr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new xr(n,0),i=this.Jr.firstAfterOrEqual(r);return Te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e){this.ti=e,this.docs=function(){return new qn(lt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Te.resolve(r?r.document.mutableCopy():ei.newInvalidDocument(n))}getEntries(e,n){let r=_o();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ei.newInvalidDocument(i))}),Te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=_o();const a=n.path,o=new lt(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||cR(uR(d),r)<=0||(i.has(d.key)||Bm(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Te.resolve(s)}getAllFromCollectionGroup(e,n,r,i){pt(9500)}ni(e,n){return Te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new j7(this)}getSize(e){return Te.resolve(this.size)}}class j7 extends N7{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),Te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e){this.persistence=e,this.ri=new zu(n=>Lv(n),Rv),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new Vv,this.targetCount=0,this.oi=hh._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),Te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new hh(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Te.resolve()}updateTargetData(e,n){return this.lr(n),Te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ri.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Te.waitFor(s).next(()=>i)}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return Te.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),Te.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Te.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return Te.resolve(r)}containsKey(e,n){return Te.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n){this._i={},this.overlays={},this.ai=new Fm(0),this.ui=!1,this.ui=!0,this.ci=new D7,this.referenceDelegate=e(this),this.li=new F7(this),this.indexManager=new x7,this.remoteDocumentCache=function(i){return new M7(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new w7(n),this.Pi=new L7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new O7(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){$e("MemoryPersistence","Starting transaction:",e);const i=new V7(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(s=>this.referenceDelegate.Ii(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return Te.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class V7 extends dR{constructor(e){super(),this.currentSequenceNumber=e}}class zv{constructor(e){this.persistence=e,this.Ri=new Vv,this.Ai=null}static Vi(e){return new zv(e)}get di(){if(this.Ai)return this.Ai;throw pt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),Te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),Te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.di,r=>{const i=lt.fromPath(r);return this.mi(e,i).next(s=>{s||n.removeEntry(i,Et.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return Te.or([()=>Te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class rm{constructor(e,n){this.persistence=e,this.fi=new zu(r=>mR(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=I7(this,n)}static Vi(e,n){return new rm(e,n)}Ti(){}Ii(e){return Te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return Te.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(s=>s?Te.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,a=>this.wr(e,a,n).next(o=>{o||(r++,s.removeEntry(a,Et.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Te.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=i1(e.data.value)),n}wr(e,n,r){return Te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return Te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=zt(),i=zt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Uv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return pP()?8:fR(ni())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ps(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new z7;return this.ys(e,n,a).next(o=>{if(s.result=o,this.As)return this.ws(e,n,a,o.size)})}).next(()=>s.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(pc()<=Ft.DEBUG&&$e("QueryEngine","SDK will not create cache indexes for query:",mc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Te.resolve()):(pc()<=Ft.DEBUG&&$e("QueryEngine","Query:",mc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(pc()<=Ft.DEBUG&&$e("QueryEngine","The SDK decides to create cache indexes for query:",mc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ka(n))):Te.resolve())}gs(e,n){if(ib(n))return Te.resolve(null);let r=ka(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Z1(n,null,"F"),r=ka(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=zt(...s);return this.fs.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,o);return this.Ss(n,u,a,l.readTime)?this.gs(e,Z1(n,null,"F")):this.Ds(e,u,n,l)}))})))}ps(e,n,r,i){return ib(n)||i.isEqual(Et.min())?Te.resolve(null):this.fs.getDocuments(e,r).next(s=>{const a=this.bs(n,s);return this.Ss(n,a,r,i)?Te.resolve(null):(pc()<=Ft.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mc(n)),this.Ds(e,a,n,lR(i,af)).next(o=>o))})}bs(e,n){let r=new _r(aA(e));return n.forEach((i,s)=>{Bm(e,s)&&(r=r.add(s))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return pc()<=Ft.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",mc(n)),this.fs.getDocumentsMatchingQuery(e,n,Tl.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="LocalStore",B7=3e8;class q7{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new qn(Vt),this.Fs=new zu(s=>Lv(s),Rv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C7(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function $7(t,e,n,r){return new q7(t,e,n,r)}async function PA(t,e){const n=Tt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=zt();for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:a,addedBatchIds:o}))})})}function W7(t,e){const n=Tt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const m=u.batch,y=m.keys();let p=Te.resolve();return y.forEach(N=>{p=p.next(()=>d.getEntry(l,N)).next(L=>{const V=u.docVersions.get(N);sn(V!==null,48541),L.version.compareTo(V)<0&&(m.applyToRemoteDocument(L,u),L.isValidDocument()&&(L.setReadTime(u.commitVersion),d.addEntry(L)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=zt();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function CA(t){const e=Tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function H7(t,e){const n=Tt(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const o=[];e.targetChanges.forEach((d,m)=>{const y=i.get(m);if(!y)return;o.push(n.li.removeMatchingKeys(s,d.removedDocuments,m).next(()=>n.li.addMatchingKeys(s,d.addedDocuments,m)));let p=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?p=p.withResumeToken(zr.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(m,p),function(L,V,E){return L.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=B7?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(y,p,d)&&o.push(n.li.updateTargetData(s,p))});let l=_o(),u=zt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),o.push(G7(s,a,e.documentUpdates).next(d=>{l=d.Bs,u=d.Ls})),!r.isEqual(Et.min())){const d=n.li.getLastRemoteSnapshotVersion(s).next(m=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(d)}return Te.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.vs=i,s))}function G7(t,e,n){let r=zt(),i=zt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=_o();return n.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Et.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):$e(Bv,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Bs:a,Ls:i}})}function K7(t,e){const n=Tt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Nv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y7(t,e){const n=Tt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(s=>s?(i=s,Te.resolve(i)):n.li.allocateTargetId(r).next(a=>(i=new sl(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function J2(t,e,n){const r=Tt(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!kh(a))throw a;$e(Bv,`Failed to update sequence numbers for target ${e}: ${a}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function yb(t,e,n){const r=Tt(t);let i=Et.min(),s=zt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,d){const m=Tt(l),y=m.Fs.get(d);return y!==void 0?Te.resolve(m.vs.get(y)):m.li.getTargetData(u,d)}(r,a,ka(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:Et.min(),n?s:zt())).next(o=>(Q7(r,OR(e),o),{documents:o,ks:s})))}function Q7(t,e,n){let r=t.Ms.get(e)||Et.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ms.set(e,r)}class vb{constructor(){this.activeTargetIds=UR()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X7{constructor(){this.vo=new vb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new vb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="ConnectivityMonitor";class wb{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){$e(_b,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){$e(_b,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp=null;function Z2(){return Pp===null?Pp=function(){return 268435456+Math.round(2147483648*Math.random())}():Pp++,"0x"+Pp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="RestConnection",Z7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class eD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Y1?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const a=Z2(),o=this.Qo(e,n.toUriEncodedString());$e(n0,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,s);const{host:u}=new URL(o),d=bh(u);return this.zo(e,o,l,r,d).then(m=>($e(n0,`Received RPC '${e}' ${a}: `,m),m),m=>{throw oh(n0,`RPC '${e}' ${a} failed with error: `,m,"url: ",o,"request:",r),m})}jo(e,n,r,i,s,a){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Qo(e,n){const r=Z7[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="WebChannelConnection",rd=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class qc extends eD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!qc.c_){const e=OS();rd(e,DS.STAT_EVENT,n=>{n.stat===U2.PROXY?$e(Gr,"STAT_EVENT: detected buffering proxy"):n.stat===U2.NOPROXY&&$e(Gr,"STAT_EVENT: detected no buffering proxy")}),qc.c_=!0}}zo(e,n,r,i,s){const a=Z2();return new Promise((o,l)=>{const u=new LS;u.setWithCredentials(!0),u.listenOnce(RS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case r1.NO_ERROR:const m=u.getResponseJson();$e(Gr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),o(m);break;case r1.TIMEOUT:$e(Gr,`RPC '${e}' ${a} timed out`),l(new Be(ke.DEADLINE_EXCEEDED,"Request time out"));break;case r1.HTTP_ERROR:const y=u.getStatus();if($e(Gr,`RPC '${e}' ${a} failed with status:`,y,"response text:",u.getResponseText()),y>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const N=p==null?void 0:p.error;if(N&&N.status&&N.message){const L=function(E){const C=E.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(C)>=0?C:ke.UNKNOWN}(N.status);l(new Be(L,N.message))}else l(new Be(ke.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Be(ke.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{$e(Gr,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(i);$e(Gr,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=Z2(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const u=s.join("");$e(Gr,`Creating RPC '${e}' stream ${i}: ${u}`,o);const d=a.createWebChannel(u,o);this.I_(d);let m=!1,y=!1;const p=new tD({Ho:N=>{y?$e(Gr,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||($e(Gr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),m=!0),$e(Gr,`RPC '${e}' stream ${i} sending:`,N),d.send(N))},Jo:()=>d.close()});return rd(d,pd.EventType.OPEN,()=>{y||($e(Gr,`RPC '${e}' stream ${i} transport opened.`),p.i_())}),rd(d,pd.EventType.CLOSE,()=>{y||(y=!0,$e(Gr,`RPC '${e}' stream ${i} transport closed`),p.o_(),this.E_(d))}),rd(d,pd.EventType.ERROR,N=>{y||(y=!0,oh(Gr,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),p.o_(new Be(ke.UNAVAILABLE,"The operation could not be completed")))}),rd(d,pd.EventType.MESSAGE,N=>{var L;if(!y){const V=N.data[0];sn(!!V,16349);const E=V,C=(E==null?void 0:E.error)||((L=E[0])==null?void 0:L.error);if(C){$e(Gr,`RPC '${e}' stream ${i} received error:`,C);const k=C.status;let F=function(j){const b=ar[j];if(b!==void 0)return yA(b)}(k),J=C.message;F===void 0&&(F=ke.INTERNAL,J="Unknown error status: "+k+" with message "+C.message),y=!0,p.o_(new Be(F,J)),d.close()}else $e(Gr,`RPC '${e}' stream ${i} received:`,V),p.__(V)}}),qc.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return MS()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t){return new qc(t)}function r0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t){return new a7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qc.c_=!1;class LA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="PersistentStream";class RA{constructor(e,n,r,i,s,a,o,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ke.RESOURCE_EXHAUSTED?(vo(n.toString()),vo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Be(ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return $e(bb,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():($e(bb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rD extends RA{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=u7(this.serializer,e),r=function(s){if(!("targetChange"in s))return Et.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Et.min():a.readTime?Ta(a.readTime):Et.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=X2(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=H2(l)?{documents:d7(s,l)}:{query:f7(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=wA(s,a.resumeToken);const u=K2(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Et.min())>0){o.readTime=nm(s,a.snapshotVersion.toTimestamp());const u=K2(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=m7(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=X2(this.serializer),n.removeTarget=e,this.K_(n)}}class iD extends RA{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return sn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,sn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){sn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=h7(e.writeResults,e.commitTime),r=Ta(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=X2(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>c7(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{}class aD extends sD{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Be(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,Y2(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Be(ke.UNKNOWN,s.toString())})}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.jo(e,Y2(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Be(ke.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function oD(t,e,n,r){return new aD(t,e,n,r)}class lD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vo(n),this.aa=!1):$e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu="RemoteStore";class uD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(a=>{r.enqueueAndForget(async()=>{Uu(this)&&($e(Pu,"Restarting streams for network reachability change."),await async function(l){const u=Tt(l);u.Ea.add(4),await Of(u),u.Va.set("Unknown"),u.Ea.delete(4),await Km(u)}(this))})}),this.Va=new lD(r,i)}}async function Km(t){if(Uu(t))for(const e of t.Ra)await e(!0)}async function Of(t){for(const e of t.Ra)await e(!1)}function DA(t,e){const n=Tt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Hv(n)?Wv(n):Th(n).O_()&&$v(n,e))}function qv(t,e){const n=Tt(t),r=Th(n);n.Ia.delete(e),r.O_()&&OA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Uu(n)&&n.Va.set("Unknown"))}function $v(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Th(t).Z_(e)}function OA(t,e){t.da.$e(e),Th(t).X_(e)}function Wv(t){t.da=new n7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Th(t).start(),t.Va.ua()}function Hv(t){return Uu(t)&&!Th(t).x_()&&t.Ia.size>0}function Uu(t){return Tt(t).Ea.size===0}function MA(t){t.da=void 0}async function cD(t){t.Va.set("Online")}async function hD(t){t.Ia.forEach((e,n)=>{$v(t,e)})}async function dD(t,e){MA(t),Hv(t)?(t.Va.ha(e),Wv(t)):t.Va.set("Unknown")}async function fD(t,e,n){if(t.Va.set("Online"),e instanceof _A&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.da.removeTarget(o))}(t,e)}catch(r){$e(Pu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await im(t,r)}else if(e instanceof o1?t.da.Xe(e):e instanceof vA?t.da.st(e):t.da.tt(e),!n.isEqual(Et.min()))try{const r=await CA(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.da.Tt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const d=s.Ia.get(l);if(!d)return;s.Ia.set(l,d.withResumeToken(zr.EMPTY_BYTE_STRING,d.snapshotVersion)),OA(s,l);const m=new sl(d.target,l,u,d.sequenceNumber);$v(s,m)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){$e(Pu,"Failed to raise snapshot:",r),await im(t,r)}}async function im(t,e,n){if(!kh(e))throw e;t.Ea.add(1),await Of(t),t.Va.set("Offline"),n||(n=()=>CA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$e(Pu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Km(t)})}function jA(t,e){return e().catch(n=>im(t,n,e))}async function Ym(t){const e=Tt(t),n=Cl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Nv;for(;pD(e);)try{const i=await K7(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,mD(e,i)}catch(i){await im(e,i)}FA(e)&&VA(e)}function pD(t){return Uu(t)&&t.Ta.length<10}function mD(t,e){t.Ta.push(e);const n=Cl(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function FA(t){return Uu(t)&&!Cl(t).x_()&&t.Ta.length>0}function VA(t){Cl(t).start()}async function gD(t){Cl(t).ra()}async function yD(t){const e=Cl(t);for(const n of t.Ta)e.ea(n.mutations)}async function vD(t,e,n){const r=t.Ta.shift(),i=Mv.from(r,e,n);await jA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ym(t)}async function _D(t,e){e&&Cl(t).Y_&&await async function(r,i){if(function(a){return ZR(a)&&a!==ke.ABORTED}(i.code)){const s=r.Ta.shift();Cl(r).B_(),await jA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ym(r)}}(t,e),FA(t)&&VA(t)}async function xb(t,e){const n=Tt(t);n.asyncQueue.verifyOperationInProgress(),$e(Pu,"RemoteStore received new credentials");const r=Uu(n);n.Ea.add(3),await Of(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Km(n)}async function wD(t,e){const n=Tt(t);e?(n.Ea.delete(2),await Km(n)):e||(n.Ea.add(2),await Of(n),n.Va.set("Unknown"))}function Th(t){return t.ma||(t.ma=function(n,r,i){const s=Tt(n);return s.sa(),new rD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:cD.bind(null,t),Yo:hD.bind(null,t),t_:dD.bind(null,t),J_:fD.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Hv(t)?Wv(t):t.Va.set("Unknown")):(await t.ma.stop(),MA(t))})),t.ma}function Cl(t){return t.fa||(t.fa=function(n,r,i){const s=Tt(n);return s.sa(),new iD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:gD.bind(null,t),t_:_D.bind(null,t),ta:yD.bind(null,t),na:vD.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Ym(t)):(await t.fa.stop(),t.Ta.length>0&&($e(Pu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new Gv(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kv(t,e){if(vo("AsyncQueue",`${e}: ${t}`),kh(t))return new Be(ke.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{static emptySet(e){return new $c(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||lt.comparator(n.key,r.key):(n,r)=>lt.comparator(n.key,r.key),this.keyedMap=md(),this.sortedSet=new qn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $c)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $c;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this.ga=new qn(lt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):pt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class dh{constructor(e,n,r,i,s,a,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new dh(e,n,$c.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class xD{constructor(){this.queries=Sb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Tt(n),s=i.queries;i.queries=Sb(),s.forEach((a,o)=>{for(const l of o.ba)l.onError(r)})})(this,new Be(ke.ABORTED,"Firestore shutting down"))}}function Sb(){return new zu(t=>sA(t),Um)}async function ED(t,e){const n=Tt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new bD,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=Kv(a,`Initialization of query '${mc(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Yv(n)}async function SD(t,e){const n=Tt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.ba.indexOf(e);a>=0&&(s.ba.splice(a,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function AD(t,e){const n=Tt(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.ba)o.Fa(i)&&(r=!0);a.wa=i}}r&&Yv(n)}function kD(t,e,n){const r=Tt(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function Yv(t){t.Ca.forEach(e=>{e.next()})}var ey,Ab;(Ab=ey||(ey={})).Ma="default",Ab.Cache="cache";class TD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new dh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=dh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ey.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.key=e}}class UA{constructor(e){this.key=e}}class ID{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=aA(e),this.tu=new $c(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new Eb,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,m)=>{const y=i.get(d),p=Bm(this.query,m)?m:null,N=!!y&&this.mutatedKeys.has(y.key),L=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let V=!1;y&&p?y.data.isEqual(p.data)?N!==L&&(r.track({type:3,doc:p}),V=!0):this.su(y,p)||(r.track({type:2,doc:p}),V=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(o=!0)):!y&&p?(r.track({type:0,doc:p}),V=!0):y&&!p&&(r.track({type:1,doc:y}),V=!0,(l||u)&&(o=!0)),V&&(p?(a=a.add(p),s=L?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:a,iu:r,Ss:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((d,m)=>function(p,N){const L=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:V})}};return L(p)-L(N)}(d.type,m.type)||this.eu(d.doc,m.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Xa;return this.Xa=l,a.length!==0||u?{snapshot:new dh(this.query,e.tu,s,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Eb,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=zt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new UA(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new zA(r))}),n}cu(e){this.Za=e.ks,this.Ya=zt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return dh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Qv="SyncEngine";class ND{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class PD{constructor(e){this.key=e,this.hu=!1}}class CD{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new zu(o=>sA(o),Um),this.Iu=new Map,this.Eu=new Set,this.Ru=new qn(lt.comparator),this.Au=new Map,this.Vu=new Vv,this.du={},this.mu=new Map,this.fu=hh.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LD(t,e,n=!0){const r=GA(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await BA(r,e,n,!0),i}async function RD(t,e){const n=GA(t);await BA(n,e,!0,!1)}async function BA(t,e,n,r){const i=await Y7(t.localStore,ka(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await DD(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&DA(t.remoteStore,i),o}async function DD(t,e,n,r,i){t.pu=(m,y,p)=>async function(L,V,E,C){let k=V.view.ru(E);k.Ss&&(k=await yb(L.localStore,V.query,!1).then(({documents:j})=>V.view.ru(j,k)));const F=C&&C.targetChanges.get(V.targetId),J=C&&C.targetMismatches.get(V.targetId)!=null,ne=V.view.applyChanges(k,L.isPrimaryClient,F,J);return Tb(L,V.targetId,ne.au),ne.snapshot}(t,m,y,p);const s=await yb(t.localStore,e,!0),a=new ID(e,s.ks),o=a.ru(s.documents),l=Df.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);Tb(t,n,u.au);const d=new ND(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function OD(t,e,n){const r=Tt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(a=>!Um(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await J2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qv(r.remoteStore,i.targetId),ty(r,i.targetId)}).catch(Ah)):(ty(r,i.targetId),await J2(r.localStore,i.targetId,!0))}async function MD(t,e){const n=Tt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qv(n.remoteStore,r.targetId))}async function jD(t,e,n){const r=$D(t);try{const i=await function(a,o){const l=Tt(a),u=Cn.now(),d=o.reduce((p,N)=>p.add(N.key),zt());let m,y;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let N=_o(),L=zt();return l.xs.getEntries(p,d).next(V=>{N=V,N.forEach((E,C)=>{C.isValidDocument()||(L=L.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,N)).next(V=>{m=V;const E=[];for(const C of o){const k=KR(C,m.get(C.key).overlayedDocument);k!=null&&E.push(new zl(C.key,k,XS(k.value.mapValue),Oi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,E,o)}).next(V=>{y=V;const E=V.applyToLocalDocumentSet(m,L);return l.documentOverlayCache.saveOverlays(p,V.batchId,E)})}).then(()=>({batchId:y.batchId,changes:lA(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.du[a.currentUser.toKey()];u||(u=new qn(Vt)),u=u.insert(o,l),a.du[a.currentUser.toKey()]=u}(r,i.batchId,n),await Mf(r,i.changes),await Ym(r.remoteStore)}catch(i){const s=Kv(i,"Failed to persist write");n.reject(s)}}async function qA(t,e){const n=Tt(t);try{const r=await H7(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Au.get(s);a&&(sn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?sn(a.hu,14607):i.removedDocuments.size>0&&(sn(a.hu,42227),a.hu=!1))}),await Mf(n,r,e)}catch(r){await Ah(r)}}function kb(t,e,n){const r=Tt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Tt(a);l.onlineState=o;let u=!1;l.queries.forEach((d,m)=>{for(const y of m.ba)y.va(o)&&(u=!0)}),u&&Yv(l)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function FD(t,e,n){const r=Tt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new qn(lt.comparator);a=a.insert(s,ei.newNoDocument(s,Et.min()));const o=zt().add(s),l=new Hm(Et.min(),new Map,new qn(Vt),a,o);await qA(r,l),r.Ru=r.Ru.remove(s),r.Au.delete(e),Xv(r)}else await J2(r.localStore,e,!1).then(()=>ty(r,e,n)).catch(Ah)}async function VD(t,e){const n=Tt(t),r=e.batch.batchId;try{const i=await W7(n.localStore,e);WA(n,r,null),$A(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mf(n,i)}catch(i){await Ah(i)}}async function zD(t,e,n){const r=Tt(t);try{const i=await function(a,o){const l=Tt(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(m=>(sn(m!==null,37113),d=m.keys(),l.mutationQueue.removeMutationBatch(u,m))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);WA(r,e,n),$A(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mf(r,i)}catch(i){await Ah(i)}}function $A(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function WA(t,e,n){const r=Tt(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function ty(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||HA(t,r)})}function HA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(qv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Xv(t))}function Tb(t,e,n){for(const r of n)r instanceof zA?(t.Vu.addReference(r.key,e),UD(t,r)):r instanceof UA?($e(Qv,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||HA(t,r.key)):pt(19791,{wu:r})}function UD(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||($e(Qv,"New document in limbo: "+n),t.Eu.add(r),Xv(t))}function Xv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new lt(En.fromString(e)),r=t.fu.next();t.Au.set(r,new PD(n)),t.Ru=t.Ru.insert(n,r),DA(t.remoteStore,new sl(ka(Dv(n.path)),r,"TargetPurposeLimboResolution",Fm.ce))}}async function Mf(t,e,n){const r=Tt(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{a.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const m=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(u){i.push(u);const m=Uv.Es(l.targetId,u);s.push(m)}}))}),await Promise.all(a),r.Pu.J_(i),await async function(l,u){const d=Tt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Te.forEach(u,y=>Te.forEach(y.Ts,p=>d.persistence.referenceDelegate.addReference(m,y.targetId,p)).next(()=>Te.forEach(y.Is,p=>d.persistence.referenceDelegate.removeReference(m,y.targetId,p)))))}catch(m){if(!kh(m))throw m;$e(Bv,"Failed to update sequence numbers: "+m)}for(const m of u){const y=m.targetId;if(!m.fromCache){const p=d.vs.get(y),N=p.snapshotVersion,L=p.withLastLimboFreeSnapshotVersion(N);d.vs=d.vs.insert(y,L)}}}(r.localStore,s))}async function BD(t,e){const n=Tt(t);if(!n.currentUser.isEqual(e)){$e(Qv,"User change. New user:",e.toKey());const r=await PA(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new Be(ke.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mf(n,r.Ns)}}function qD(t,e){const n=Tt(t),r=n.Au.get(e);if(r&&r.hu)return zt().add(r.key);{let i=zt();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function GA(t){const e=Tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FD.bind(null,e),e.Pu.J_=AD.bind(null,e.eventManager),e.Pu.yu=kD.bind(null,e.eventManager),e}function $D(t){const e=Tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zD.bind(null,e),e}class sm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $7(this.persistence,new U7,e.initialUser,this.serializer)}Cu(e){return new NA(zv.Vi,this.serializer)}Du(e){return new X7}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sm.provider={build:()=>new sm};class WD extends sm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){sn(this.persistence.referenceDelegate instanceof rm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new k7(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ki.withCacheSize(this.cacheSizeBytes):ki.DEFAULT;return new NA(r=>rm.Vi(r,n),this.serializer)}}class ny{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BD.bind(null,this.syncEngine),await wD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xD}()}createDatastore(e){const n=Gm(e.databaseInfo.databaseId),r=nD(e.databaseInfo);return oD(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new uD(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>kb(this.syncEngine,n,0),function(){return wb.v()?new wb:new J7}())}createSyncEngine(e,n){return function(i,s,a,o,l,u,d){const m=new CD(i,s,a,o,l,u);return d&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Tt(i);$e(Pu,"RemoteStore shutting down."),s.Ea.add(5),await Of(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ny.provider={build:()=>new ny};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll="FirestoreClient";class GD{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Jr.UNAUTHENTICATED,this.clientId=Iv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{$e(Ll,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>($e(Ll,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Kv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function i0(t,e){t.asyncQueue.verifyOperationInProgress(),$e(Ll,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await PA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ib(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KD(t);$e(Ll,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>xb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>xb(e.remoteStore,i)),t._onlineComponents=e}async function KD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$e(Ll,"Using user provided OfflineComponentProvider");try{await i0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ke.FAILED_PRECONDITION||i.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;oh("Error using user provided cache. Falling back to memory cache: "+n),await i0(t,new sm)}}else $e(Ll,"Using default OfflineComponentProvider"),await i0(t,new WD(void 0));return t._offlineComponents}async function KA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($e(Ll,"Using user provided OnlineComponentProvider"),await Ib(t,t._uninitializedComponentsProvider._online)):($e(Ll,"Using default OnlineComponentProvider"),await Ib(t,new ny))),t._onlineComponents}function YD(t){return KA(t).then(e=>e.syncEngine)}async function Nb(t){const e=await KA(t),n=e.eventManager;return n.onListen=LD.bind(null,e.syncEngine),n.onUnlisten=OD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MD.bind(null,e.syncEngine),n}function QD(t,e,n,r){const i=new HD(r),s=new TD(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>ED(await Nb(t),s)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>SD(await Nb(t),s))}}function XD(t,e){const n=new yu;return t.asyncQueue.enqueueAndForget(async()=>jD(await YD(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="ComponentProvider",Pb=new Map;function ZD(t,e,n,r,i){return new vR(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,YA(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="firestore.googleapis.com",Cb=!0;class Lb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Be(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QA,this.ssl=Cb}else this.host=e.host,this.ssl=e.ssl??Cb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<S7)throw new Be(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Be(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Be(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Be(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Be(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Be(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new QL;switch(r.type){case"firstParty":return new eR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Be(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Pb.get(n);r&&($e(JD,"Removing Datastore"),Pb.delete(n),r.terminate())}(this),Promise.resolve()}}function eO(t,e,n,r={}){var u;t=co(t,Qm);const i=bh(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(qE(`https://${o}`),$E("Firestore",!0)),s.host!==QA&&s.host!==o&&oh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!Au(l,a)&&(t._setSettings(l),r.mockUserToken)){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=Jr.MOCK_USER;else{d=sP(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Be(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Jr(y)}t._authCredentials=new XL(new FS(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bu(this.firestore,e,this._query)}}class cr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cr(this.firestore,e,this._key)}toJSON(){return{type:cr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Cf(n,cr._jsonSchema))return new cr(e,r||null,new lt(En.fromString(n.referencePath)))}}cr._jsonSchemaVersion="firestore/documentReference/1.0",cr._jsonSchema={type:ur("string",cr._jsonSchemaVersion),referencePath:ur("string")};class wl extends Bu{constructor(e,n,r){super(e,n,Dv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cr(this.firestore,null,new lt(e))}withConverter(e){return new wl(this.firestore,e,this._path)}}function gn(t,e,...n){if(t=sr(t),VS("collection","path",e),t instanceof Qm){const r=En.fromString(e,...n);return $w(r),new wl(t,null,r)}{if(!(t instanceof cr||t instanceof wl))throw new Be(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(En.fromString(e,...n));return $w(r),new wl(t.firestore,null,r)}}function zn(t,e,...n){if(t=sr(t),arguments.length===1&&(e=Iv.newId()),VS("doc","path",e),t instanceof Qm){const r=En.fromString(e,...n);return qw(r),new cr(t,null,new lt(r))}{if(!(t instanceof cr||t instanceof wl))throw new Be(ke.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(En.fromString(e,...n));return qw(r),new cr(t.firestore,t instanceof wl?t.converter:null,new lt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="AsyncQueue";class Db{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LA(this,"async_queue_retry"),this._c=()=>{const r=r0();r&&$e(Rb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=r0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=r0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new yu;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!kh(e))throw e;$e(Rb,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,vo("INTERNAL UNHANDLED ERROR: ",Ob(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Gv.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&pt(47125,{Pc:Ob(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ob(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Cu extends Qm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Db,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Db(e),this._firestoreClient=void 0,await e}}}function tO(t,e){const n=typeof t=="object"?t:KE(),r=typeof t=="string"?t:e||Y1,i=vv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=rP("firestore");s&&eO(i,...s)}return i}function Jv(t){if(t._terminated)throw new Be(ke.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nO(t),t._firestoreClient}function nO(t){var r,i,s,a;const e=t._freezeSettings(),n=ZD(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new GD(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Es(zr.fromBase64String(e))}catch(n){throw new Be(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Es(zr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Es._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cf(e,Es._jsonSchema))return Es.fromBase64String(e.bytes)}}Es._jsonSchemaVersion="firestore/bytes/1.0",Es._jsonSchema={type:ur("string",Es._jsonSchemaVersion),bytes:ur("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Be(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Be(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Be(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ia._jsonSchemaVersion}}static fromJSON(e){if(Cf(e,Ia._jsonSchema))return new Ia(e.latitude,e.longitude)}}Ia._jsonSchemaVersion="firestore/geoPoint/1.0",Ia._jsonSchema={type:ur("string",Ia._jsonSchemaVersion),latitude:ur("number"),longitude:ur("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Gs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cf(e,Gs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Gs(e.vectorValues);throw new Be(ke.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gs._jsonSchemaVersion="firestore/vectorValue/1.0",Gs._jsonSchema={type:ur("string",Gs._jsonSchemaVersion),vectorValues:ur("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=/^__.*__$/;class iO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rf(e,this.data,n,this.fieldTransforms)}}class XA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{dataSource:t})}}class e5{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new e5({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return am(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(JA(this.dataSource)&&rO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class sO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gm(e)}createContext(e,n,r,i=!1){return new e5({dataSource:e,methodName:n,targetDoc:r,path:jr.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jm(t){const e=t._freezeSettings(),n=Gm(t._databaseId);return new sO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZA(t,e,n,r,i,s={}){const a=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);t5("Data must be an object, but it was:",a,r);const o=nk(r,a);let l,u;if(s.merge)l=new es(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const m of s.mergeFields){const y=fh(e,m,n);if(!a.contains(y))throw new Be(ke.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);sk(d,y)||d.push(y)}l=new es(d),u=a.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,u=a.fieldTransforms;return new iO(new Ni(o),l,u)}class jf extends Zv{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jf}}function ek(t,e,n,r){const i=t.createContext(1,e,n);t5("Data must be an object, but it was:",i,r);const s=[],a=Ni.empty();Vl(r,(l,u)=>{const d=ik(e,l,n);u=sr(u);const m=i.childContextForFieldPath(d);if(u instanceof jf)s.push(d);else{const y=Ff(u,m);y!=null&&(s.push(d),a.set(d,y))}});const o=new es(s);return new XA(a,o,i.fieldTransforms)}function tk(t,e,n,r,i,s){const a=t.createContext(1,e,n),o=[fh(e,r,n)],l=[i];if(s.length%2!=0)throw new Be(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)o.push(fh(e,s[y])),l.push(s[y+1]);const u=[],d=Ni.empty();for(let y=o.length-1;y>=0;--y)if(!sk(u,o[y])){const p=o[y];let N=l[y];N=sr(N);const L=a.childContextForFieldPath(p);if(N instanceof jf)u.push(p);else{const V=Ff(N,L);V!=null&&(u.push(p),d.set(p,V))}}const m=new es(u);return new XA(d,m,a.fieldTransforms)}function aO(t,e,n,r=!1){return Ff(n,t.createContext(r?4:3,e))}function Ff(t,e){if(rk(t=sr(t)))return t5("Unsupported field value:",e,t),nk(t,e);if(t instanceof Zv)return function(r,i){if(!JA(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=Ff(o,i.childContextForArray(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=sr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Cn.fromDate(r);return{timestampValue:nm(i.serializer,s)}}if(r instanceof Cn){const s=new Cn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nm(i.serializer,s)}}if(r instanceof Ia)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Es)return{bytesValue:wA(i.serializer,r._byteString)};if(r instanceof cr){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Fv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Gs)return function(a,o){const l=a instanceof Gs?a.toArray():a;return{mapValue:{fields:{[KS]:{stringValue:QS},[Q1]:{arrayValue:{values:l.map(d=>{if(typeof d!="number")throw o.createError("VectorValues must only contain numeric values.");return Ov(o.serializer,d)})}}}}}}(r,i);if(TA(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${jm(r)}`)}(t,e)}function nk(t,e){const n={};return BS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vl(t,(r,i)=>{const s=Ff(i,e.childContextForField(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function rk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Cn||t instanceof Ia||t instanceof Es||t instanceof cr||t instanceof Zv||t instanceof Gs||TA(t))}function t5(t,e,n){if(!rk(n)||!zS(n)){const r=jm(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function fh(t,e,n){if((e=sr(e))instanceof Xm)return e._internalPath;if(typeof e=="string")return ik(t,e);throw am("Field path arguments must be of type string or ",t,!1,void 0,n)}const oO=new RegExp("[~\\*/\\[\\]]");function ik(t,e,n){if(e.search(oO)>=0)throw am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xm(...e.split("."))._internalPath}catch{throw am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function am(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Be(ke.INVALID_ARGUMENT,o+t+l)}function sk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{convertValue(e,n="none"){switch(Pl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return er(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Q1].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>er(a.doubleValue));return new Gs(n)}convertGeoPoint(e){return new Ia(er(e.latitude),er(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(of(e));default:return null}}convertTimestamp(e){const n=Il(e);return new Cn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=En.fromString(e);sn(kA(r),9688,{name:e});const i=new lf(r.get(1),r.get(3)),s=new lt(r.popFirst(5));return i.isEqual(n)||vo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak extends lO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cr(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(){return new jf("deleteField")}const Mb="@firebase/firestore",jb="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(fh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cO extends ok{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Be(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n5{}class lk extends n5{}function Ar(t,e,...n){let r=[];e instanceof n5&&r.push(e),r=r.concat(n),function(s){const a=s.filter(l=>l instanceof r5).length,o=s.filter(l=>l instanceof Zm).length;if(a>1||a>0&&o>0)throw new Be(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Zm extends lk{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zm(e,n,r)}_apply(e){const n=this._parse(e);return uk(e._query,n),new Bu(e.firestore,e.converter,G2(e._query,n))}_parse(e){const n=Jm(e.firestore);return function(s,a,o,l,u,d,m){let y;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Be(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){zb(m,d);const N=[];for(const L of m)N.push(Vb(l,s,L));y={arrayValue:{values:N}}}else y=Vb(l,s,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||zb(m,d),y=aO(o,a,m,d==="in"||d==="not-in");return lr.create(u,d,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yr(t,e,n){const r=e,i=fh("where",t);return Zm._create(i,r,n)}class r5 extends n5{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new r5(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)uk(a,l),a=G2(a,l)}(e._query,n),new Bu(e.firestore,e.converter,G2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i5 extends lk{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new i5(e,n,r)}_apply(e){return new Bu(e.firestore,e.converter,Z1(e._query,this._limit,this._limitType))}}function dO(t){return oR("limit",t),i5._create("limit",t,"F")}function Vb(t,e,n){if(typeof(n=sr(n))=="string"){if(n==="")throw new Be(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iA(e)&&n.indexOf("/")!==-1)throw new Be(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(En.fromString(n));if(!lt.isDocumentKey(r))throw new Be(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jw(t,new lt(r))}if(n instanceof cr)return Jw(t,n._key);throw new Be(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jm(n)}.`)}function zb(t,e){if(!Array.isArray(t)||t.length===0)throw new Be(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uk(t,e){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Be(ke.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Be(ke.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ck(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class yd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vu extends ok{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new l1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Be(ke.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vu._jsonSchemaVersion="firestore/documentSnapshot/1.0",vu._jsonSchema={type:ur("string",vu._jsonSchemaVersion),bundleSource:ur("string","DocumentSnapshot"),bundleName:ur("string"),bundle:ur("string")};class l1 extends vu{data(e={}){return super.data(e)}}class Wc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new l1(this._firestore,this._userDataWriter,r.key,r,new yd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Be(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new l1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new yd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new l1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new yd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:fO(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Be(ke.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Iv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wc._jsonSchemaVersion="firestore/querySnapshot/1.0",Wc._jsonSchema={type:ur("string",Wc._jsonSchemaVersion),bundleSource:ur("string","QuerySnapshot"),bundleName:ur("string"),bundle:ur("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Jm(e)}set(e,n,r){this._verifyNotCommitted();const i=s0(e,this._firestore),s=ck(i.converter,n,r),a=ZA(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Oi.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=s0(e,this._firestore);let a;return a=typeof(n=sr(n))=="string"||n instanceof Xm?tk(this._dataReader,"WriteBatch.update",s._key,n,r,i):ek(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,Oi.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=s0(e,this._firestore);return this._mutations=this._mutations.concat(new Wm(n._key,Oi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function s0(t,e){if((t=sr(t)).firestore!==e)throw new Be(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Lu(t,e,n,...r){t=co(t,cr);const i=co(t.firestore,Cu),s=Jm(i);let a;return a=typeof(e=sr(e))=="string"||e instanceof Xm?tk(s,"updateDoc",t._key,e,n,r):ek(s,"updateDoc",t._key,e),eg(i,[a.toMutation(t._key,Oi.exists(!0))])}function ro(t){return eg(co(t.firestore,Cu),[new Wm(t._key,Oi.none())])}function _a(t,e){const n=co(t.firestore,Cu),r=zn(t),i=ck(t.converter,e),s=Jm(t.firestore);return eg(n,[ZA(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Oi.exists(!1))]).then(()=>r)}function kr(t,...e){var u,d,m;t=sr(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Fb(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Fb(e[r])){const y=e[r];e[r]=(u=y.next)==null?void 0:u.bind(y),e[r+1]=(d=y.error)==null?void 0:d.bind(y),e[r+2]=(m=y.complete)==null?void 0:m.bind(y)}let s,a,o;if(t instanceof cr)a=co(t.firestore,Cu),o=Dv(t._key.path),s={next:y=>{e[r]&&e[r](mO(a,t,y))},error:e[r+1],complete:e[r+2]};else{const y=co(t,Bu);a=co(y.firestore,Cu),o=y._query;const p=new ak(a);s={next:N=>{e[r]&&e[r](new Wc(a,p,y,N))},error:e[r+1],complete:e[r+2]},hO(t._query)}const l=Jv(a);return QD(l,o,i,s)}function eg(t,e){const n=Jv(t);return XD(n,e)}function mO(t,e,n){const r=n.docs.get(e._key),i=new ak(t);return new vu(t,i,e._key,r,new yd(n.hasPendingWrites,n.fromCache),e.converter)}function ry(t){return t=co(t,Cu),Jv(t),new pO(t,e=>eg(t,e))}(function(e,n=!0){YL(xh),ah(new ku("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Cu(new JL(r.getProvider("auth-internal")),new tR(a,r.getProvider("app-check-internal")),_R(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),vl(Mb,jb,e),vl(Mb,jb,"esm2020")})();const gO={apiKey:"AIzaSyB8tBsJEDdCAFLNGTDmOl0GjpjOLBMnqfA",authDomain:"apka-f6b19.firebaseapp.com",projectId:"apka-f6b19",storageBucket:"apka-f6b19.firebasestorage.app",messagingSenderId:"636199984361",appId:"1:636199984361:web:24b19f62575adabcc82478",measurementId:"G-F0QKNPKJNM"},hk=GE(gO),Xs=GL(hk),ct=tO(hk);var yO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_O=(t,e)=>{const n=Me.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,children:o,...l},u)=>Me.createElement("svg",{ref:u,...yO,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:`lucide lucide-${vO(t)}`,...l},[...e.map(([d,m])=>Me.createElement(d,m)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${t}`,n};var bt=_O;const Ub=bt("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]),Bb=bt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),a0=bt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),qb=bt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),wO=bt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),bO=bt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),xO=bt("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]),$b=bt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),EO=bt("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]),dk=bt("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),fk=bt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),pk=bt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),SO=bt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),AO=bt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),kO=bt("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]),o0=bt("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]),Wb=bt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),TO=bt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),IO=bt("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),NO=bt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),PO=bt("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),CO=bt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),LO=bt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),RO=bt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),DO=bt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),OO=bt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),MO=bt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Hb=bt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),jO=bt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),mk=bt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),FO=bt("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]),s5=bt("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),Gb=bt("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]),VO=bt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),bl=bt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),zO=bt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),iy=bt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),UO=bt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),wa=bt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),gk=bt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),BO=bt("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]),qO=bt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),$O=bt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),yk=bt("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),Kb=bt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),a5=bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),WO={high:"Wany",urgent:"Bardzo wany",low:"Mao wany"},HO={high:"var(--primary-color)",urgent:"#ef4444",low:"#93c5fd"};function GO(){const[t,e]=Me.useState([]),[n,r]=Me.useState(!1),[i,s]=Me.useState(null),[a,o]=Me.useState({title:"",description:"",priority:"low",deadline:"",status:"todo"}),l=Xs.currentUser;Me.useEffect(()=>{if(!l)return;const k=Ar(gn(ct,"tasks"),yr("userId","==",l.uid)),F=kr(k,J=>{const ne=J.docs.map(j=>({id:j.id,...j.data()}));e(ne)},J=>{console.error("Bd adowania zada:",J)});return()=>F()},[l]),Me.useEffect(()=>{const k=()=>{const J=new Date,ne=48*60*60*1e3;t.forEach(j=>{if(j.status==="done"&&j.completedAt){const b=j.completedAt.toDate?j.completedAt.toDate():new Date(j.completedAt);J-b>ne&&d(j.id)}})},F=setInterval(k,36e5);return k(),()=>clearInterval(F)},[t]);const u=async k=>{if(k.preventDefault(),!(!a.title||!l))try{if(i){const F=zn(ct,"tasks",i);await Lu(F,a)}else await _a(gn(ct,"tasks"),{...a,userId:l.uid,createdAt:new Date});y()}catch(F){console.error("Bd zapisu:",F),alert("Nie udao si zapisa zadania. Sprawd konfiguracj Firebase.")}},d=async k=>{try{await ro(zn(ct,"tasks",k))}catch(F){console.error("Bd usuwania:",F)}},m=k=>{s(k.id),o({title:k.title,description:k.description,priority:k.priority,deadline:k.deadline,status:k.status}),r(!0)},y=()=>{s(null),o({title:"",description:"",priority:"low",deadline:"",status:"todo"}),r(!1)},p=(k,F)=>{k.dataTransfer.setData("taskId",F)},N=k=>{k.preventDefault(),k.currentTarget.classList.add("drag-over")},L=k=>{k.currentTarget.classList.remove("drag-over")},V=(k,F)=>{k.preventDefault(),k.currentTarget.classList.remove("drag-over");const J=k.dataTransfer.getData("taskId");E(J,F)},E=async(k,F)=>{try{const J=zn(ct,"tasks",k),ne={status:F};F==="done"?ne.completedAt=new Date:ne.completedAt=uO(),await Lu(J,ne)}catch(J){console.error("Bd przesuwania:",J)}},C=({title:k,status:F,tasks:J})=>v.jsxs("div",{className:"todo-column",onDragOver:N,onDragLeave:L,onDrop:ne=>V(ne,F),children:[v.jsxs("div",{className:"column-header",children:[v.jsx("h3",{children:k}),F==="todo"&&v.jsx("button",{className:"add-task-btn",onClick:()=>r(!0),children:v.jsx(bl,{size:20})})]}),v.jsx("div",{className:"task-list",children:J.filter(ne=>ne.status===F).map(ne=>v.jsxs("div",{className:"task-card",draggable:!0,onDragStart:j=>p(j,ne.id),style:{borderLeft:`4px solid ${HO[ne.priority]}`},children:[v.jsxs("div",{className:"task-header",children:[v.jsx("h4",{children:ne.title}),v.jsxs("div",{className:"task-actions-btns",children:[v.jsx("button",{onClick:()=>m(ne),className:"edit-btn",children:v.jsx(mk,{size:16})}),v.jsx("button",{onClick:()=>d(ne.id),className:"delete-btn",children:v.jsx(wa,{size:16})})]})]}),v.jsx("p",{className:"task-desc",children:ne.description}),v.jsxs("div",{className:"task-footer",children:[v.jsx("span",{className:"priority-badge",children:WO[ne.priority]}),ne.deadline&&v.jsx("span",{className:"deadline",children:new Date(ne.deadline).toLocaleString()})]})]},ne.id))})]});return v.jsxs("div",{className:"todo-container",children:[v.jsxs("div",{className:"todo-grid",children:[v.jsx(C,{title:"Do zrobienia",status:"todo",tasks:t}),v.jsx(C,{title:"W trakcie",status:"in-progress",tasks:t}),v.jsx(C,{title:"Zrobione",status:"done",tasks:t})]}),n&&v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-content",children:[v.jsx("h2",{children:i?"Edytuj zadanie":"Nowe zadanie"}),v.jsxs("form",{onSubmit:u,children:[v.jsx("input",{type:"text",placeholder:"Nazwa zadania",value:a.title,onChange:k=>o({...a,title:k.target.value}),required:!0}),v.jsx("textarea",{placeholder:"Opis",value:a.description,onChange:k=>o({...a,description:k.target.value})}),v.jsxs("select",{value:a.priority,onChange:k=>o({...a,priority:k.target.value}),children:[v.jsx("option",{value:"low",children:"Mao wany"}),v.jsx("option",{value:"high",children:"Wany"}),v.jsx("option",{value:"urgent",children:"Bardzo wany"})]}),v.jsx("input",{type:"datetime-local",value:a.deadline,onChange:k=>o({...a,deadline:k.target.value})}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{type:"button",onClick:y,children:"Anuluj"}),v.jsx("button",{type:"submit",className:"submit-btn",children:i?"Zapisz":"Dodaj"})]})]})]})})]})}function en(t){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(t)}function ss(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function an(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function An(t){an(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||en(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Hc(t,e){an(2,arguments);var n=An(t),r=ss(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function vk(t,e){an(2,arguments);var n=An(t),r=ss(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var a=s.getDate();return i>=a?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function KO(t,e){an(2,arguments);var n=An(t).getTime(),r=ss(e);return new Date(n+r)}var YO={};function Ih(){return YO}function QO(t,e){var n,r,i,s,a,o,l,u;an(1,arguments);var d=Ih(),m=ss((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=An(t),p=y.getDay(),N=(p<m?7:0)+p-m;return y.setDate(y.getDate()-N),y.setHours(0,0,0,0),y}function XO(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Ii(t){an(1,arguments);var e=An(t);return e.setHours(0,0,0,0),e}var _k=6e4,wk=36e5;function om(t,e){an(2,arguments);var n=Ii(t),r=Ii(e);return n.getTime()===r.getTime()}function JO(t){return an(1,arguments),t instanceof Date||en(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ZO(t){if(an(1,arguments),!JO(t)&&typeof t!="number")return!1;var e=An(t);return!isNaN(Number(e))}function eM(t){an(1,arguments);var e=An(t);return e.setHours(23,59,59,999),e}function tM(t){an(1,arguments);var e=An(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function bk(t,e){var n;an(1,arguments);var r=t||{},i=An(r.start),s=An(r.end),a=s.getTime();if(!(i.getTime()<=a))throw new RangeError("Invalid interval");var o=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=a;)o.push(An(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return o}function nM(t){an(1,arguments);var e=An(t);return e.setDate(1),e.setHours(0,0,0,0),e}function rM(t,e){var n,r,i,s,a,o,l,u;an(1,arguments);var d=Ih(),m=ss((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=An(t),p=y.getDay(),N=(p<m?-7:0)+6-(p-m);return y.setDate(y.getDate()+N),y.setHours(23,59,59,999),y}function iM(t,e){an(2,arguments);var n=ss(e);return KO(t,-n)}var sM=864e5;function aM(t){an(1,arguments);var e=An(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/sM)+1}function lm(t){an(1,arguments);var e=1,n=An(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function xk(t){an(1,arguments);var e=An(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=lm(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var a=lm(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function oM(t){an(1,arguments);var e=xk(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=lm(n);return r}var lM=6048e5;function uM(t){an(1,arguments);var e=An(t),n=lm(e).getTime()-oM(e).getTime();return Math.round(n/lM)+1}function ph(t,e){var n,r,i,s,a,o,l,u;an(1,arguments);var d=Ih(),m=ss((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=An(t),p=y.getUTCDay(),N=(p<m?7:0)+p-m;return y.setUTCDate(y.getUTCDate()-N),y.setUTCHours(0,0,0,0),y}function Ek(t,e){var n,r,i,s,a,o,l,u;an(1,arguments);var d=An(t),m=d.getUTCFullYear(),y=Ih(),p=ss((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:y.firstWeekContainsDate)!==null&&r!==void 0?r:(l=y.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=new Date(0);N.setUTCFullYear(m+1,0,p),N.setUTCHours(0,0,0,0);var L=ph(N,e),V=new Date(0);V.setUTCFullYear(m,0,p),V.setUTCHours(0,0,0,0);var E=ph(V,e);return d.getTime()>=L.getTime()?m+1:d.getTime()>=E.getTime()?m:m-1}function cM(t,e){var n,r,i,s,a,o,l,u;an(1,arguments);var d=Ih(),m=ss((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),y=Ek(t,e),p=new Date(0);p.setUTCFullYear(y,0,m),p.setUTCHours(0,0,0,0);var N=ph(p,e);return N}var hM=6048e5;function dM(t,e){an(1,arguments);var n=An(t),r=ph(n,e).getTime()-cM(n,e).getTime();return Math.round(r/hM)+1}function dn(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var fM={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return dn(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):dn(r+1,2)},d:function(e,n){return dn(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return dn(e.getUTCHours()%12||12,n.length)},H:function(e,n){return dn(e.getUTCHours(),n.length)},m:function(e,n){return dn(e.getUTCMinutes(),n.length)},s:function(e,n){return dn(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return dn(s,n.length)}};const Wo=fM;var uc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pM={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Wo.y(e,n)},Y:function(e,n,r,i){var s=Ek(e,i),a=s>0?s:1-s;if(n==="YY"){var o=a%100;return dn(o,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):dn(a,n.length)},R:function(e,n){var r=xk(e);return dn(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return dn(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return dn(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return dn(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Wo.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return dn(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=dM(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):dn(s,n.length)},I:function(e,n,r){var i=uM(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):dn(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Wo.d(e,n)},D:function(e,n,r){var i=aM(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):dn(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),a=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return dn(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),a=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return dn(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return dn(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=uc.noon:i===0?s=uc.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=uc.evening:i>=12?s=uc.afternoon:i>=4?s=uc.morning:s=uc.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Wo.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Wo.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):dn(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):dn(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Wo.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Wo.s(e,n)},S:function(e,n){return Wo.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,a=s.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return Qb(a);case"XXXX":case"XX":return su(a);case"XXXXX":case"XXX":default:return su(a,":")}},x:function(e,n,r,i){var s=i._originalDate||e,a=s.getTimezoneOffset();switch(n){case"x":return Qb(a);case"xxxx":case"xx":return su(a);case"xxxxx":case"xxx":default:return su(a,":")}},O:function(e,n,r,i){var s=i._originalDate||e,a=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Yb(a,":");case"OOOO":default:return"GMT"+su(a,":")}},z:function(e,n,r,i){var s=i._originalDate||e,a=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Yb(a,":");case"zzzz":default:return"GMT"+su(a,":")}},t:function(e,n,r,i){var s=i._originalDate||e,a=Math.floor(s.getTime()/1e3);return dn(a,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,a=s.getTime();return dn(a,n.length)}};function Yb(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var a=e||"";return n+String(i)+a+dn(s,2)}function Qb(t,e){if(t%60===0){var n=t>0?"-":"+";return n+dn(Math.abs(t)/60,2)}return su(t,e)}function su(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=dn(Math.floor(i/60),2),a=dn(i%60,2);return r+s+n+a}const mM=pM;var Xb=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Sk=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},gM=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return Xb(e,n);var a;switch(i){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",Xb(i,n)).replace("{{time}}",Sk(s,n))},yM={p:Sk,P:gM};const vM=yM;var _M=["D","DD"],wM=["YY","YYYY"];function bM(t){return _M.indexOf(t)!==-1}function xM(t){return wM.indexOf(t)!==-1}function Jb(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var EM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},SM=function(e,n,r){var i,s=EM[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const AM=SM;function Gc(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var kM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},TM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},IM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},NM={date:Gc({formats:kM,defaultWidth:"full"}),time:Gc({formats:TM,defaultWidth:"full"}),dateTime:Gc({formats:IM,defaultWidth:"full"})};const PM=NM;var CM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},LM=function(e,n,r,i){return CM[e]};const RM=LM;function ga(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{var o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var DM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},OM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},MM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},FM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zM=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},UM={ordinalNumber:zM,era:ga({values:DM,defaultWidth:"wide"}),quarter:ga({values:OM,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ga({values:MM,defaultWidth:"wide"}),day:ga({values:jM,defaultWidth:"wide"}),dayPeriod:ga({values:FM,defaultWidth:"wide",formattingValues:VM,defaultFormattingWidth:"wide"})};const BM=UM;function ya(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?$M(o,function(m){return m.test(a)}):qM(o,function(m){return m.test(a)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var d=e.slice(a.length);return{value:u,rest:d}}}function qM(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function $M(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Ak(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;var o=e.slice(i.length);return{value:a,rest:o}}}var WM=/^(\d+)(th|st|nd|rd)?/i,HM=/\d+/i,GM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KM={any:[/^b/i,/^(a|c)/i]},YM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QM={any:[/1/i,/2/i,/3/i,/4/i]},XM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},JM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},e9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},t9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},n9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},r9={ordinalNumber:Ak({matchPattern:WM,parsePattern:HM,valueCallback:function(e){return parseInt(e,10)}}),era:ya({matchPatterns:GM,defaultMatchWidth:"wide",parsePatterns:KM,defaultParseWidth:"any"}),quarter:ya({matchPatterns:YM,defaultMatchWidth:"wide",parsePatterns:QM,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ya({matchPatterns:XM,defaultMatchWidth:"wide",parsePatterns:JM,defaultParseWidth:"any"}),day:ya({matchPatterns:ZM,defaultMatchWidth:"wide",parsePatterns:e9,defaultParseWidth:"any"}),dayPeriod:ya({matchPatterns:t9,defaultMatchWidth:"any",parsePatterns:n9,defaultParseWidth:"any"})};const i9=r9;var s9={code:"en-US",formatDistance:AM,formatLong:PM,formatRelative:RM,localize:BM,match:i9,options:{weekStartsOn:0,firstWeekContainsDate:1}};const a9=s9;var o9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,l9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,u9=/^'([^]*?)'?$/,c9=/''/g,h9=/[a-zA-Z]/;function Zt(t,e,n){var r,i,s,a,o,l,u,d,m,y,p,N,L,V,E,C,k,F;an(2,arguments);var J=String(e),ne=Ih(),j=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:ne.locale)!==null&&r!==void 0?r:a9,b=ss((s=(a=(o=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:ne.firstWeekContainsDate)!==null&&a!==void 0?a:(m=ne.locale)===null||m===void 0||(y=m.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=ss((p=(N=(L=(V=n==null?void 0:n.weekStartsOn)!==null&&V!==void 0?V:n==null||(E=n.locale)===null||E===void 0||(C=E.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&L!==void 0?L:ne.weekStartsOn)!==null&&N!==void 0?N:(k=ne.locale)===null||k===void 0||(F=k.options)===null||F===void 0?void 0:F.weekStartsOn)!==null&&p!==void 0?p:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!j.localize)throw new RangeError("locale must contain localize property");if(!j.formatLong)throw new RangeError("locale must contain formatLong property");var D=An(t);if(!ZO(D))throw new RangeError("Invalid time value");var x=XO(D),I=iM(D,x),P={firstWeekContainsDate:b,weekStartsOn:A,locale:j,_originalDate:D},Z=J.match(l9).map(function(ue){var we=ue[0];if(we==="p"||we==="P"){var ae=vM[we];return ae(ue,j.formatLong)}return ue}).join("").match(o9).map(function(ue){if(ue==="''")return"'";var we=ue[0];if(we==="'")return d9(ue);var ae=mM[we];if(ae)return!(n!=null&&n.useAdditionalWeekYearTokens)&&xM(ue)&&Jb(ue,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&bM(ue)&&Jb(ue,e,String(t)),ae(I,ue,j.localize,P);if(we.match(h9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+we+"`");return ue}).join("");return Z}function d9(t){var e=t.match(u9);return e?e[1].replace(c9,"'"):t}function Zb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function f9(t,e){if(t){if(typeof t=="string")return Zb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zb(t,e):void 0}}function p9(t,e){an(2,arguments);var n=An(t),r=An(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function m9(t,e){an(2,arguments);var n=An(t).getTime(),r=An(e.start).getTime(),i=An(e.end).getTime();if(!(r<=i))throw new RangeError("Invalid interval");return n>=r&&n<=i}function um(t,e){var n;an(1,arguments);var r=ss((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=_9(t),s;if(i.date){var a=w9(i.date,r);s=b9(a.restDateString,a.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var o=s.getTime(),l=0,u;if(i.time&&(l=x9(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=E9(i.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(o+l),m=new Date(0);return m.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),m.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),m}return new Date(o+l+u)}var Cp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},g9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,y9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,v9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function _9(t){var e={},n=t.split(Cp.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Cp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Cp.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Cp.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function w9(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function b9(t,e){if(e===null)return new Date(NaN);var n=t.match(g9);if(!n)return new Date(NaN);var r=!!n[4],i=id(n[1]),s=id(n[2])-1,a=id(n[3]),o=id(n[4]),l=id(n[5])-1;if(r)return I9(e,o,l)?S9(e,o,l):new Date(NaN);var u=new Date(0);return!k9(e,s,a)||!T9(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,a)),u)}function id(t){return t?parseInt(t):1}function x9(t){var e=t.match(y9);if(!e)return NaN;var n=l0(e[1]),r=l0(e[2]),i=l0(e[3]);return N9(n,r,i)?n*wk+r*_k+i*1e3:NaN}function l0(t){return t&&parseFloat(t.replace(",","."))||0}function E9(t){if(t==="Z")return 0;var e=t.match(v9);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return P9(r,i)?n*(r*wk+i*_k):NaN}function S9(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var A9=[31,null,31,30,31,30,31,31,30,31,30,31];function kk(t){return t%400===0||t%4===0&&t%100!==0}function k9(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(A9[e]||(kk(t)?29:28))}function T9(t,e){return e>=1&&e<=(kk(t)?366:365)}function I9(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function N9(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function P9(t,e){return e>=0&&e<=59}function C9(t,e){an(2,arguments);var n=ss(e);return vk(t,-n)}function L9(t,e,n){an(2,arguments);var r=ph(t,n),i=ph(e,n);return r.getTime()===i.getTime()}var R9={lessThanXSeconds:{one:{regular:"mniej ni sekunda",past:"mniej ni sekund",future:"mniej ni sekund"},twoFour:"mniej ni {{count}} sekundy",other:"mniej ni {{count}} sekund"},xSeconds:{one:{regular:"sekunda",past:"sekund",future:"sekund"},twoFour:"{{count}} sekundy",other:"{{count}} sekund"},halfAMinute:{one:"p minuty",twoFour:"p minuty",other:"p minuty"},lessThanXMinutes:{one:{regular:"mniej ni minuta",past:"mniej ni minut",future:"mniej ni minut"},twoFour:"mniej ni {{count}} minuty",other:"mniej ni {{count}} minut"},xMinutes:{one:{regular:"minuta",past:"minut",future:"minut"},twoFour:"{{count}} minuty",other:"{{count}} minut"},aboutXHours:{one:{regular:"okoo godziny",past:"okoo godziny",future:"okoo godzin"},twoFour:"okoo {{count}} godziny",other:"okoo {{count}} godzin"},xHours:{one:{regular:"godzina",past:"godzin",future:"godzin"},twoFour:"{{count}} godziny",other:"{{count}} godzin"},xDays:{one:{regular:"dzie",past:"dzie",future:"1 dzie"},twoFour:"{{count}} dni",other:"{{count}} dni"},aboutXWeeks:{one:"okoo tygodnia",twoFour:"okoo {{count}} tygodni",other:"okoo {{count}} tygodni"},xWeeks:{one:"tydzie",twoFour:"{{count}} tygodnie",other:"{{count}} tygodni"},aboutXMonths:{one:"okoo miesic",twoFour:"okoo {{count}} miesice",other:"okoo {{count}} miesicy"},xMonths:{one:"miesic",twoFour:"{{count}} miesice",other:"{{count}} miesicy"},aboutXYears:{one:"okoo rok",twoFour:"okoo {{count}} lata",other:"okoo {{count}} lat"},xYears:{one:"rok",twoFour:"{{count}} lata",other:"{{count}} lat"},overXYears:{one:"ponad rok",twoFour:"ponad {{count}} lata",other:"ponad {{count}} lat"},almostXYears:{one:"prawie rok",twoFour:"prawie {{count}} lata",other:"prawie {{count}} lat"}};function D9(t,e){if(e===1)return t.one;var n=e%100;if(n<=20&&n>10)return t.other;var r=n%10;return r>=2&&r<=4?t.twoFour:t.other}function u0(t,e,n){var r=D9(t,e),i=typeof r=="string"?r:r[n];return i.replace("{{count}}",String(e))}var O9=function(e,n,r){var i=R9[e];return r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"za "+u0(i,n,"future"):u0(i,n,"past")+" temu":u0(i,n,"regular")};const M9=O9;var j9={full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},F9={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},V9={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},z9={date:Gc({formats:j9,defaultWidth:"full"}),time:Gc({formats:F9,defaultWidth:"full"}),dateTime:Gc({formats:V9,defaultWidth:"full"})};const U9=z9;var B9={masculine:"ostatni",feminine:"ostatnia"},q9={masculine:"ten",feminine:"ta"},$9={masculine:"nastpny",feminine:"nastpna"},W9={0:"feminine",1:"masculine",2:"masculine",3:"feminine",4:"masculine",5:"masculine",6:"feminine"};function e4(t,e,n,r){var i;if(L9(e,n,r))i=q9;else if(t==="lastWeek")i=B9;else if(t==="nextWeek")i=$9;else throw new Error("Cannot determine adjectives for token ".concat(t));var s=e.getUTCDay(),a=W9[s],o=i[a];return"'".concat(o,"' eeee 'o' p")}var H9={lastWeek:e4,yesterday:"'wczoraj o' p",today:"'dzisiaj o' p",tomorrow:"'jutro o' p",nextWeek:e4,other:"P"},G9=function(e,n,r,i){var s=H9[e];return typeof s=="function"?s(e,n,r,i):s};const K9=G9;var Y9={narrow:["p.n.e.","n.e."],abbreviated:["p.n.e.","n.e."],wide:["przed nasz er","naszej ery"]},Q9={narrow:["1","2","3","4"],abbreviated:["I kw.","II kw.","III kw.","IV kw."],wide:["I kwarta","II kwarta","III kwarta","IV kwarta"]},X9={narrow:["S","L","M","K","M","C","L","S","W","P","L","G"],abbreviated:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru"],wide:["stycze","luty","marzec","kwiecie","maj","czerwiec","lipiec","sierpie","wrzesie","padziernik","listopad","grudzie"]},J9={narrow:["s","l","m","k","m","c","l","s","w","p","l","g"],abbreviated:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru"],wide:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrzenia","padziernika","listopada","grudnia"]},Z9={narrow:["N","P","W","","C","P","S"],short:["nie","pon","wto","ro","czw","pi","sob"],abbreviated:["niedz.","pon.","wt.","r.","czw.","pt.","sob."],wide:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"]},ej={narrow:["n","p","w","","c","p","s"],short:["nie","pon","wto","ro","czw","pi","sob"],abbreviated:["niedz.","pon.","wt.","r.","czw.","pt.","sob."],wide:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"]},tj={narrow:{am:"a",pm:"p",midnight:"pn.",noon:"po",morning:"rano",afternoon:"popo.",evening:"wiecz.",night:"noc"},abbreviated:{am:"AM",pm:"PM",midnight:"pnoc",noon:"poudnie",morning:"rano",afternoon:"popoudnie",evening:"wieczr",night:"noc"},wide:{am:"AM",pm:"PM",midnight:"pnoc",noon:"poudnie",morning:"rano",afternoon:"popoudnie",evening:"wieczr",night:"noc"}},nj={narrow:{am:"a",pm:"p",midnight:"o pn.",noon:"w po.",morning:"rano",afternoon:"po po.",evening:"wiecz.",night:"w nocy"},abbreviated:{am:"AM",pm:"PM",midnight:"o pnocy",noon:"w poudnie",morning:"rano",afternoon:"po poudniu",evening:"wieczorem",night:"w nocy"},wide:{am:"AM",pm:"PM",midnight:"o pnocy",noon:"w poudnie",morning:"rano",afternoon:"po poudniu",evening:"wieczorem",night:"w nocy"}},rj=function(e,n){return String(e)},ij={ordinalNumber:rj,era:ga({values:Y9,defaultWidth:"wide"}),quarter:ga({values:Q9,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ga({values:X9,defaultWidth:"wide",formattingValues:J9,defaultFormattingWidth:"wide"}),day:ga({values:Z9,defaultWidth:"wide",formattingValues:ej,defaultFormattingWidth:"wide"}),dayPeriod:ga({values:tj,defaultWidth:"wide",formattingValues:nj,defaultFormattingWidth:"wide"})};const sj=ij;var aj=/^(\d+)?/i,oj=/\d+/i,lj={narrow:/^(p\.?\s*n\.?\s*e\.?\s*|n\.?\s*e\.?\s*)/i,abbreviated:/^(p\.?\s*n\.?\s*e\.?\s*|n\.?\s*e\.?\s*)/i,wide:/^(przed\s*nasz(|a)\s*er(|a)|naszej\s*ery)/i},uj={any:[/^p/i,/^n/i]},cj={narrow:/^[1234]/i,abbreviated:/^(I|II|III|IV)\s*kw\.?/i,wide:/^(I|II|III|IV)\s*kwarta(|l)/i},hj={narrow:[/1/i,/2/i,/3/i,/4/i],any:[/^I kw/i,/^II kw/i,/^III kw/i,/^IV kw/i]},dj={narrow:/^[slmkcwpg]/i,abbreviated:/^(sty|lut|mar|kwi|maj|cze|lip|sie|wrz|pa(|z)|lis|gru)/i,wide:/^(stycznia|stycze(|n)|lutego|luty|marca|marzec|kwietnia|kwiecie(|n)|maja|maj|czerwca|czerwiec|lipca|lipiec|sierpnia|sierpie(|n)|wrze(|s)nia|wrzesie(|n)|pa(|z)dziernika|pa(|z)dziernik|listopada|listopad|grudnia|grudzie(|n))/i},fj={narrow:[/^s/i,/^l/i,/^m/i,/^k/i,/^m/i,/^c/i,/^l/i,/^s/i,/^w/i,/^p/i,/^l/i,/^g/i],any:[/^st/i,/^lu/i,/^mar/i,/^k/i,/^maj/i,/^c/i,/^lip/i,/^si/i,/^w/i,/^p/i,/^lis/i,/^g/i]},pj={narrow:/^[npwcs]/i,short:/^(nie|pon|wto|(|s)ro|czw|pi(|a)|sob)/i,abbreviated:/^(niedz|pon|wt|(|s)r|czw|pt|sob)\.?/i,wide:/^(niedziela|poniedzia(|l)ek|wtorek|(|s)roda|czwartek|pi(|a)tek|sobota)/i},mj={narrow:[/^n/i,/^p/i,/^w/i,/^/i,/^c/i,/^p/i,/^s/i],abbreviated:[/^n/i,/^po/i,/^w/i,/^(|s)r/i,/^c/i,/^pt/i,/^so/i],any:[/^n/i,/^po/i,/^w/i,/^(|s)r/i,/^c/i,/^pi/i,/^so/i]},gj={narrow:/^(^a$|^p$|p(|l)n\.?|o\s*p(|l)n\.?|po(|l)\.?|w\s*po(|l)\.?|po\s*po(|l)\.?|rano|wiecz\.?|noc|w\s*nocy)/i,any:/^(am|pm|p(|l)noc|o\s*p(|l)nocy|po(|l)udnie|w\s*po(|l)udnie|popo(|l)udnie|po\s*po(|l)udniu|rano|wieczr|wieczorem|noc|w\s*nocy)/i},yj={narrow:{am:/^a$/i,pm:/^p$/i,midnight:/p(|l)n/i,noon:/po(|l)/i,morning:/rano/i,afternoon:/po\s*po(|l)/i,evening:/wiecz/i,night:/noc/i},any:{am:/^am/i,pm:/^pm/i,midnight:/p(|l)n/i,noon:/po(|l)/i,morning:/rano/i,afternoon:/po\s*po(|l)/i,evening:/wiecz/i,night:/noc/i}},vj={ordinalNumber:Ak({matchPattern:aj,parsePattern:oj,valueCallback:function(e){return parseInt(e,10)}}),era:ya({matchPatterns:lj,defaultMatchWidth:"wide",parsePatterns:uj,defaultParseWidth:"any"}),quarter:ya({matchPatterns:cj,defaultMatchWidth:"wide",parsePatterns:hj,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ya({matchPatterns:dj,defaultMatchWidth:"wide",parsePatterns:fj,defaultParseWidth:"any"}),day:ya({matchPatterns:pj,defaultMatchWidth:"wide",parsePatterns:mj,defaultParseWidth:"any"}),dayPeriod:ya({matchPatterns:gj,defaultMatchWidth:"any",parsePatterns:yj,defaultParseWidth:"any"})};const _j=vj;var wj={code:"pl",formatDistance:M9,formatLong:U9,formatRelative:K9,localize:sj,match:_j,options:{weekStartsOn:1,firstWeekContainsDate:4}};const Ru=wj,c0={school:{label:"Szkoa",color:"#3b82f6"},entertainment:{label:"Rozrywka",color:"#eab308"},duties:{label:"Obowizki",color:"#f97316"},holiday:{label:"wito",color:"var(--secondary-color)"}},t4={"01-01":"Nowy Rok","01-06":"Trzech Krli","05-01":"wito Pracy","05-03":"wito Konstytucji 3 Maja","08-15":"Wniebowzicie NMP","11-01":"Wszystkich witych","11-11":"wito Niepodlegoci","12-25":"Boe Narodzenie (Dzie 1)","12-26":"Boe Narodzenie (Dzie 2)"};function bj(){const[t,e]=Me.useState(new Date),[n,r]=Me.useState(new Date),[i,s]=Me.useState([]),[a,o]=Me.useState(!1),[l,u]=Me.useState(null),[d,m]=Me.useState({title:"",description:"",startTime:"",endTime:"",startDate:Zt(new Date,"yyyy-MM-dd"),endDate:Zt(new Date,"yyyy-MM-dd"),category:"school"}),y=Xs.currentUser;Me.useEffect(()=>{if(!y)return;const b=Ar(gn(ct,"events"),yr("userId","==",y.uid)),A=kr(b,D=>{const x=D.docs.map(I=>({id:I.id,...I.data()}));s(x)},D=>{console.error("Bd adowania wydarze:",D)});return()=>A()},[y]);const p=()=>e(vk(t,1)),N=()=>e(C9(t,1)),L=b=>{r(b),l||m({...d,startDate:Zt(b,"yyyy-MM-dd"),endDate:Zt(b,"yyyy-MM-dd")})},V=async b=>{if(b.preventDefault(),!!y)try{if(l){const A=zn(ct,"events",l);await Lu(A,d)}else await _a(gn(ct,"events"),{...d,userId:y.uid,createdAt:new Date});k()}catch(A){console.error("Bd zapisu wydarzenia:",A),alert("Nie udao si zapisa wydarzenia.")}},E=async b=>{try{await ro(zn(ct,"events",b))}catch(A){console.error("Bd usuwania wydarzenia:",A)}},C=b=>{u(b.id),m({title:b.title,description:b.description,startTime:b.startTime,endTime:b.endTime,startDate:b.startDate,endDate:b.endDate,category:b.category}),o(!0)},k=()=>{o(!1),u(null),m({title:"",description:"",startTime:"",endTime:"",startDate:Zt(n,"yyyy-MM-dd"),endDate:Zt(n,"yyyy-MM-dd"),category:"school"})},F=(b,A)=>{const D=Ii(um(b.startDate)),x=eM(um(b.endDate)),I=Ii(A);return m9(I,{start:D,end:x})},J=()=>v.jsxs("div",{className:"calendar-header",children:[v.jsx("button",{onClick:N,children:v.jsx(fk,{})}),v.jsx("h2",{children:Zt(t,"LLLL yyyy",{locale:Ru})}),v.jsx("button",{onClick:p,children:v.jsx(pk,{})})]}),ne=()=>{const b=["Pon","Wt","r","Czw","Pt","Sob","Niedz"];return v.jsx("div",{className:"calendar-days-header",children:b.map(A=>v.jsx("div",{children:A},A))})},j=()=>{const b=nM(t),A=tM(b),D=QO(b,{weekStartsOn:1}),x=rM(A,{weekStartsOn:1}),I=[];let P=[];const Z=bk({start:D,end:x});for(;Z.length<42;){const ue=Z[Z.length-1];Z.push(Hc(ue,1))}return Z.forEach((ue,we)=>{const ae=Zt(ue,"d"),ee=Zt(ue,"MM-dd"),X=t4[ee],he=i.filter(pe=>F(pe,ue));P.push(v.jsxs("div",{className:`calendar-cell ${p9(ue,b)?"":"disabled"} ${om(ue,n)?"selected":""} ${X?"holiday-cell":""}`,onClick:()=>L(ue),children:[v.jsx("span",{className:"number",children:ae}),v.jsxs("div",{className:"cell-events",children:[X&&v.jsx("div",{className:"event-pill holiday-pill",title:X,children:X}),he.map(pe=>{var M;return v.jsxs("div",{className:"event-pill",style:{backgroundColor:(M=c0[pe.category])==null?void 0:M.color},title:pe.description,children:[pe.startTime," ",pe.title]},pe.id)})]})]},ue.toString())),(we+1)%7===0&&(I.push(v.jsx("div",{className:"calendar-row",children:P},ue.toString())),P=[])}),v.jsx("div",{className:"calendar-body",children:I})};return v.jsxs("div",{className:"calendar-container",children:[v.jsxs("div",{className:"calendar-main",children:[J(),ne(),j()]}),v.jsxs("div",{className:"calendar-sidebar",children:[v.jsxs("div",{className:"sidebar-header",children:[v.jsxs("h3",{children:["Wydarzenia ",Zt(n,"d MMMM",{locale:Ru})]}),v.jsx("button",{className:"add-event-btn",onClick:()=>o(!0),children:v.jsx(bl,{size:20})})]}),v.jsxs("div",{className:"selected-day-events",children:[(()=>{const b=Zt(n,"MM-dd"),A=t4[b];return A?v.jsxs("div",{className:"event-card holiday-card",children:[v.jsx("h4",{children:A}),v.jsx("p",{className:"category-label",children:"wito Pastwowe"}),v.jsx("p",{className:"desc",children:"Dzie ustawowo wolny od pracy."})]}):null})(),i.filter(b=>F(b,n)).map(b=>{var A,D;return v.jsxs("div",{className:"event-card",style:{borderLeftColor:(A=c0[b.category])==null?void 0:A.color},children:[v.jsxs("div",{className:"event-card-header",children:[v.jsx("h4",{children:b.title}),v.jsxs("div",{className:"event-card-actions",children:[v.jsx("button",{onClick:()=>C(b),className:"edit-btn",children:v.jsx(mk,{size:16})}),v.jsx("button",{onClick:()=>E(b.id),className:"delete-btn",children:v.jsx(wa,{size:16})})]})]}),v.jsx("p",{className:"category-label",children:(D=c0[b.category])==null?void 0:D.label}),v.jsxs("p",{className:"time",children:[b.startTime," - ",b.endTime]}),b.startDate!==b.endDate&&v.jsxs("p",{className:"duration",children:[b.startDate," do ",b.endDate]}),v.jsx("p",{className:"desc",children:b.description})]},b.id)}),i.filter(b=>F(b,n)).length===0&&v.jsx("p",{className:"empty-msg",children:"Brak wydarze na ten dzie."})]})]}),a&&v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-content",children:[v.jsxs("div",{className:"modal-header",children:[v.jsx("h2",{children:l?"Edytuj wydarzenie":"Nowe wydarzenie"}),v.jsx("button",{onClick:k,children:v.jsx(a5,{})})]}),v.jsxs("form",{onSubmit:V,children:[v.jsx("input",{type:"text",placeholder:"Nazwa wydarzenia",value:d.title,onChange:b=>m({...d,title:b.target.value}),required:!0}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Kategoria:"}),v.jsxs("select",{value:d.category,onChange:b=>m({...d,category:b.target.value}),children:[v.jsx("option",{value:"school",children:"Szkoa"}),v.jsx("option",{value:"entertainment",children:"Rozrywka"}),v.jsx("option",{value:"duties",children:"Obowizki"})]})]}),v.jsxs("div",{className:"date-inputs",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Od:"}),v.jsx("input",{type:"date",value:d.startDate,onChange:b=>m({...d,startDate:b.target.value}),required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Do:"}),v.jsx("input",{type:"date",value:d.endDate,onChange:b=>m({...d,endDate:b.target.value}),required:!0})]})]}),v.jsxs("div",{className:"time-inputs",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Pocztek:"}),v.jsx("input",{type:"time",value:d.startTime,onChange:b=>m({...d,startTime:b.target.value}),required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Koniec:"}),v.jsx("input",{type:"time",value:d.endTime,onChange:b=>m({...d,endTime:b.target.value}),required:!0})]})]}),v.jsx("textarea",{placeholder:"Opis",value:d.description,onChange:b=>m({...d,description:b.target.value})}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{type:"button",onClick:k,children:"Anuluj"}),v.jsx("button",{type:"submit",className:"submit-btn",children:l?"Zapisz":"Dodaj"})]})]})]})})]})}const n4=[{id:"morning",label:"Rano",icon:""},{id:"noon",label:"Poudnie",icon:""},{id:"evening",label:"Wieczr",icon:""}];function xj(){const[t,e]=Me.useState([]),[n,r]=Me.useState([]),[i,s]=Me.useState([]),[a,o]=Me.useState(!1),[l,u]=Me.useState(!1),[d,m]=Me.useState(null),[y,p]=Me.useState(null),[N,L]=Me.useState({name:"",dosage:"",unit:"mg",description:""}),[V,E]=Me.useState({medId:"",startDate:Zt(new Date,"yyyy-MM-dd"),timeOfDay:"morning",frequency:"daily",customInterval:2,duration:7}),[C,k]=Me.useState(new Date),F=Xs.currentUser;Me.useEffect(()=>{if(!F)return;const X=Ar(gn(ct,"medications"),yr("userId","==",F.uid)),he=kr(X,re=>{e(re.docs.map(se=>({id:se.id,...se.data()})))},re=>console.error("Bd lekw:",re)),pe=Ar(gn(ct,"scheduledMeds"),yr("userId","==",F.uid)),M=kr(pe,re=>{r(re.docs.map(se=>({id:se.id,...se.data()})))},re=>console.error("Bd harmonogramu:",re)),G=Ar(gn(ct,"takenMeds"),yr("userId","==",F.uid)),te=kr(G,re=>{s(re.docs.map(se=>({id:se.id,...se.data()})))},re=>console.error("Bd logw zay:",re));return()=>{he(),M(),te()}},[F]);const[J,ne]=Me.useState(window.innerWidth<768);Me.useEffect(()=>{const X=()=>ne(window.innerWidth<768);return window.addEventListener("resize",X),()=>window.removeEventListener("resize",X)},[]);const j=J?[C]:bk({start:C,end:Hc(C,6)}),b=()=>k(Hc(C,J?-1:-7)),A=()=>k(Hc(C,J?1:7)),D=async X=>{if(X.preventDefault(),!!F)try{d?(await Lu(zn(ct,"medications",d),{...N,updatedAt:new Date}),m(null)):await _a(gn(ct,"medications"),{...N,userId:F.uid,createdAt:new Date}),o(!1),L({name:"",dosage:"",unit:"mg",description:""})}catch(he){console.error("Bd zapisywania leku:",he)}},x=async X=>{if(F)try{const he=ry(ct);he.delete(zn(ct,"medications",X));const pe=n.filter(M=>M.medId===X);for(const M of pe){he.delete(zn(ct,"scheduledMeds",M.id));const G=i.filter(te=>te.scheduleId===M.id);for(const te of G)he.delete(zn(ct,"takenMeds",te.id))}await he.commit()}catch(he){console.error("Bd usuwania leku:",he)}},I=async X=>{if(X.preventDefault(),!(!V.medId||!F))try{const he={...V,duration:V.duration===""?7:parseInt(V.duration)||7};y?(await Lu(zn(ct,"scheduledMeds",y),{...he,updatedAt:new Date}),p(null)):await _a(gn(ct,"scheduledMeds"),{...he,userId:F.uid,createdAt:new Date}),u(!1),E({medId:"",startDate:Zt(new Date,"yyyy-MM-dd"),timeOfDay:"morning",frequency:"daily",customInterval:2,duration:7})}catch(he){console.error("Bd zapisywania harmonogramu:",he)}},P=async X=>{if(F)try{const he=ry(ct);he.delete(zn(ct,"scheduledMeds",X));const pe=i.filter(M=>M.scheduleId===X);for(const M of pe)he.delete(zn(ct,"takenMeds",M.id));await he.commit()}catch(he){console.error("Bd usuwania z harmonogramu:",he)}},Z=X=>{L({name:X.name,dosage:X.dosage,unit:X.unit,description:X.description||""}),m(X.id),o(!0)},ue=async(X,he)=>{if(!F)return;const pe=Zt(X,"yyyy-MM-dd"),M=i.find(G=>G.dateKey===pe&&G.scheduleId===he);try{M?await ro(zn(ct,"takenMeds",M.id)):await _a(gn(ct,"takenMeds"),{dateKey:pe,scheduleId:he,userId:F.uid,timestamp:new Date})}catch(G){console.error("Bd oznaczania jako zayte:",G)}},we=(X,he)=>{const pe=Zt(X,"yyyy-MM-dd");return i.some(M=>M.dateKey===pe&&M.scheduleId===he)},ae=(X,he)=>n.filter(pe=>{if(pe.timeOfDay!==he)return!1;const M=Ii(new Date(pe.startDate)),G=Ii(X);if(G<M)return!1;const te=G.getTime()-M.getTime(),re=Math.round(te/(1e3*60*60*24));return pe.frequency==="daily"?!0:pe.frequency==="custom"?re%pe.customInterval===0:pe.frequency==="weekly"?re%7===0:pe.frequency==="once"?re===0:pe.frequency==="for_days"?re>=0&&re<(pe.duration||7):!1}),ee=X=>{var he;return((he=t.find(pe=>pe.id===X))==null?void 0:he.name)||"Nieznany lek"};return v.jsxs("div",{className:"meds-container",children:[v.jsxs("section",{className:"weekly-schedule-section",children:[v.jsxs("div",{className:"section-header",children:[v.jsxs("div",{className:"title-nav",children:[v.jsx("h3",{children:J?"Harmonogram Dzienny":"Harmonogram Tygodniowy"}),v.jsxs("div",{className:"week-nav",children:[v.jsx("button",{onClick:b,children:v.jsx(fk,{})}),v.jsx("button",{onClick:()=>k(new Date),children:"Dzisiaj"}),v.jsx("button",{onClick:A,children:v.jsx(pk,{})})]})]}),v.jsxs("button",{className:"add-schedule-btn",onClick:()=>u(!0),children:[v.jsx(VO,{size:20})," Zaplanuj zazycie"]})]}),v.jsx("div",{className:"weekly-grid",children:j.map(X=>v.jsxs("div",{className:`day-column ${om(X,new Date)?"today":""}`,children:[v.jsxs("div",{className:"day-header",children:[v.jsx("span",{className:"day-name",children:Zt(X,"EEEE",{locale:Ru})}),v.jsx("span",{className:"day-date",children:Zt(X,"d MMM",{locale:Ru})})]}),v.jsx("div",{className:"day-slots",children:n4.map(he=>v.jsxs("div",{className:"day-slot",children:[v.jsxs("div",{className:"slot-label",children:[he.icon," ",he.label]}),v.jsx("div",{className:"slot-items",children:ae(X,he.id).map(pe=>{const M=we(X,pe.id);return v.jsxs("div",{className:`scheduled-item-pill ${M?"taken":""}`,children:[v.jsxs("div",{className:"pill-content",onClick:()=>ue(X,pe.id),children:[M?v.jsx(dk,{size:14,className:"status-icon"}):v.jsx(SO,{size:14,className:"status-icon"}),v.jsx("div",{className:"info",children:v.jsx("span",{className:"name",children:ee(pe.medId)})})]}),v.jsx("button",{onClick:()=>P(pe.id),className:"remove-s",children:""})]},pe.id)})})]},he.id))})]},X.toString()))})]}),v.jsxs("section",{className:"inventory-section",children:[v.jsxs("div",{className:"section-header",children:[v.jsx("h3",{children:"Moje Leki (Apteczka)"}),v.jsxs("button",{className:"add-med-btn",onClick:()=>o(!0),children:[v.jsx(bl,{size:20})," Dodaj do apteczki"]})]}),v.jsxs("div",{className:"med-tiles",children:[t.map(X=>v.jsxs("div",{className:"med-tile",children:[v.jsxs("div",{className:"tile-header",children:[v.jsx("div",{className:"med-icon",children:v.jsx(s5,{size:24})}),v.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[v.jsx("button",{onClick:()=>Z(X),className:"edit-med",title:"Edytuj lek",children:v.jsx(jO,{size:16})}),v.jsx("button",{onClick:()=>x(X.id),className:"delete-med",children:v.jsx(wa,{size:16})})]})]}),v.jsxs("div",{className:"tile-body",children:[v.jsx("h4",{children:X.name}),v.jsxs("p",{className:"dosage",children:[X.dosage," ",X.unit]}),v.jsx("p",{className:"desc",children:X.description})]})]},X.id)),t.length===0&&v.jsx("div",{className:"empty-inventory",children:"Twoja apteczka jest pusta. Dodaj leki, ktre przyjmujesz."})]})]}),a&&v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-content",children:[v.jsx("h2",{children:d?"Edytuj lek":"Dodaj nowy lek do apteczki"}),v.jsxs("form",{onSubmit:D,children:[v.jsx("input",{type:"text",placeholder:"Nazwa leku (np. Apap)",value:N.name,onChange:X=>L({...N,name:X.target.value}),required:!0}),v.jsxs("div",{className:"dosage-input-group",children:[v.jsx("input",{type:"text",placeholder:"Ilo (np. 500)",value:N.dosage,onChange:X=>L({...N,dosage:X.target.value}),required:!0}),v.jsxs("select",{value:N.unit,onChange:X=>L({...N,unit:X.target.value}),children:[v.jsx("option",{value:"mg",children:"mg"}),v.jsx("option",{value:"ml",children:"ml"})]})]}),v.jsx("textarea",{placeholder:"Dodatkowe informacje (np. po jedzeniu)",value:N.description,onChange:X=>L({...N,description:X.target.value})}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{type:"button",onClick:()=>o(!1),children:"Anuluj"}),v.jsx("button",{type:"submit",className:"submit-btn",children:"Dodaj"})]})]})]})}),l&&v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-content",children:[v.jsx("h2",{children:y?"Edytuj harmonogram":"Zaplanuj zaycie leku"}),v.jsxs("form",{onSubmit:I,children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Wybierz lek z apteczki:"}),v.jsxs("select",{value:V.medId,onChange:X=>E({...V,medId:X.target.value}),required:!0,children:[v.jsx("option",{value:"",children:"-- Wybierz lek --"}),t.map(X=>v.jsxs("option",{value:X.id,children:[X.name," (",X.dosage,X.unit,")"]},X.id))]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Pocztek przyjmowania:"}),v.jsx("input",{type:"date",value:V.startDate,onChange:X=>E({...V,startDate:X.target.value}),required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Pora dnia:"}),v.jsx("select",{value:V.timeOfDay,onChange:X=>E({...V,timeOfDay:X.target.value}),children:n4.map(X=>v.jsx("option",{value:X.id,children:X.label},X.id))})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Czstotliwo:"}),v.jsxs("div",{className:"frequency-group",children:[v.jsxs("select",{value:V.frequency,onChange:X=>E({...V,frequency:X.target.value}),children:[v.jsx("option",{value:"once",children:"Jednorazowo"}),v.jsx("option",{value:"daily",children:"Codziennie"}),v.jsx("option",{value:"custom",children:"Co kilka dni..."}),v.jsx("option",{value:"weekly",children:"Co tydzie"}),v.jsx("option",{value:"for_days",children:"Przez X dni"})]}),V.frequency==="custom"&&v.jsxs("div",{className:"custom-freq-input",children:[v.jsx("span",{children:"Co"}),v.jsx("input",{type:"number",min:"1",value:V.customInterval,onChange:X=>E({...V,customInterval:parseInt(X.target.value)||1})}),v.jsx("span",{children:"dni"})]}),V.frequency==="for_days"&&v.jsxs("div",{className:"custom-freq-input",children:[v.jsx("span",{children:"Przez"}),v.jsx("input",{type:"number",value:V.duration,onChange:X=>E({...V,duration:X.target.value===""?"":parseInt(X.target.value)||1})}),v.jsx("span",{children:"dni"})]})]})]}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{type:"button",onClick:()=>u(!1),children:"Anuluj"}),v.jsx("button",{type:"submit",className:"submit-btn",disabled:t.length===0,children:t.length===0?"Najpierw dodaj lek do apteczki":"Zaplanuj"})]})]})]})})]})}function Ej(){const[t,e]=Me.useState([]),[n,r]=Me.useState([]),[i,s]=Me.useState("folders"),[a,o]=Me.useState(null),[l,u]=Me.useState(null),[d,m]=Me.useState(null),[y,p]=Me.useState({bold:!1,underline:!1}),[N,L]=Me.useState(""),[V,E]=Me.useState(""),C=Me.useRef(null),k=Xs.currentUser;Me.useEffect(()=>{if(!k)return;const ae=Ar(gn(ct,"notes"),yr("userId","==",k.uid)),ee=kr(ae,X=>{const he=X.docs.map(M=>({id:M.id,...M.data()})).sort((M,G)=>{var se,B,oe,ye;if(M.isPinned&&!G.isPinned)return-1;if(!M.isPinned&&G.isPinned)return 1;const te=((B=(se=M.createdAt)==null?void 0:se.toDate)==null?void 0:B.call(se))||new Date(M.createdAt)||0;return(((ye=(oe=G.createdAt)==null?void 0:oe.toDate)==null?void 0:ye.call(oe))||new Date(G.createdAt)||0)-te});console.log("Pobrano notatki:",he.length),e(he);const pe=[...new Set(he.map(M=>M.category))].filter(Boolean);r(pe)},X=>{console.error("Firestore onSnapshot error:",X)});return()=>ee()},[k]);const F=()=>{p({bold:document.queryCommandState("bold"),underline:document.queryCommandState("underline")})},J=ae=>{document.execCommand(ae,!1,null),F()},ne=async()=>{if(!N.trim()){alert("Wpisz tytu notatki");return}if(!V.trim()){alert("Wybierz lub wpisz kategori");return}const ae={title:N,content:C.current.innerHTML,category:V,userId:k.uid,updatedAt:new Date};try{l?await Lu(zn(ct,"notes",l.id),ae):await _a(gn(ct,"notes"),{...ae,createdAt:new Date}),x(),s("folders")}catch(ee){console.error("Bd zapisu notatki:",ee)}},j=async(ae,ee)=>{if(ee==null||ee.stopPropagation(),window.confirm("Czy na pewno chcesz usun t notatk?"))try{await ro(zn(ct,"notes",ae)),(d==null?void 0:d.id)===ae&&m(null)}catch(X){console.error("Bd usuwania:",X)}},b=async(ae,ee)=>{if(ee==null||ee.stopPropagation(),window.confirm(`Czy na pewno chcesz usun cay folder "${ae}" wraz ze wszystkimi notatkami (${t.filter(X=>X.category===ae).length})?`))try{const X=ry(ct);t.filter(pe=>pe.category===ae).forEach(pe=>{X.delete(zn(ct,"notes",pe.id))}),await X.commit(),console.log(`Usunito folder: ${ae}`)}catch(X){console.error("Bd usuwania folderu:",X)}},A=async(ae,ee)=>{ee==null||ee.stopPropagation();try{await Lu(zn(ct,"notes",ae.id),{isPinned:!ae.isPinned})}catch(X){console.error("Bd pinowania:",X)}},D=(ae,ee)=>{ee==null||ee.stopPropagation(),u(ae),L(ae.title),E(ae.category),s("editor"),setTimeout(()=>{C.current&&(C.current.innerHTML=ae.content,F())},100)},x=()=>{u(null),L(""),E(a||""),C.current&&(C.current.innerHTML=""),p({bold:!1,underline:!1})},I=a?t.filter(ae=>ae.category===a):t,P=()=>v.jsxs("div",{className:"notes-folders-grid",children:[n.map(ae=>v.jsxs("div",{className:"folder-card",onClick:()=>{o(ae),s("list")},children:[v.jsx("button",{className:"folder-delete-btn",onClick:ee=>b(ae,ee),title:"Usu folder",children:v.jsx(wa,{size:16})}),v.jsx("div",{className:"folder-icon",children:v.jsx(PO,{size:32})}),v.jsx("h3",{children:ae}),v.jsxs("p",{children:[t.filter(ee=>ee.category===ae).length," notatek"]})]},ae)),v.jsxs("button",{className:"add-inline-btn",onClick:()=>{o(""),s("editor"),x()},children:[v.jsx(bl,{size:24}),v.jsx("span",{children:"Nowa Notatka"})]})]}),Z=()=>v.jsxs("div",{className:"notes-list-container",children:[v.jsxs("div",{className:"notes-list-header",children:[v.jsxs("button",{onClick:()=>{o(null),s("folders")},className:"back-btn",children:[v.jsx(Bb,{size:20}),v.jsx("span",{children:"Foldery"})]}),v.jsx("h2",{children:a})," ",v.jsx("button",{className:"add-note-action",onClick:()=>{x(),s("editor")},children:v.jsx(bl,{size:20})})]}),v.jsxs("div",{className:"notes-grid",children:[I.length===0&&v.jsx("p",{className:"empty-msg",children:"Brak notatek w tej kategorii."}),I.map(ae=>{var ee,X;return v.jsxs("div",{className:"note-card",onClick:()=>{m(ae),s("viewer")},children:[v.jsxs("div",{className:"note-card-header",children:[v.jsxs("h4",{className:"flex items-center gap-2",children:[ae.isPinned&&v.jsx(Gb,{size:14,fill:"var(--primary-color)",className:"pinned-icon"}),ae.title]}),v.jsxs("div",{className:"note-actions",children:[v.jsx("button",{onClick:he=>A(ae,he),className:ae.isPinned?"active":"",title:"Przypnij",children:v.jsx(Gb,{size:16})}),v.jsx("button",{onClick:he=>D(ae,he),children:v.jsx(Hb,{size:16})}),v.jsx("button",{onClick:he=>j(ae.id,he),children:v.jsx(wa,{size:16})})]})]}),v.jsx("div",{className:"note-preview",dangerouslySetInnerHTML:{__html:ae.content}}),v.jsxs("div",{className:"note-footer",children:[v.jsx("span",{className:"note-category",children:ae.category}),v.jsx("span",{className:"note-date",children:Zt(((X=(ee=ae.createdAt)==null?void 0:ee.toDate)==null?void 0:X.call(ee))||new Date,"d MMM",{locale:Ru})})]})]},ae.id)})]})]}),ue=()=>{var ae,ee;return d&&v.jsxs("div",{className:"note-viewer-container",children:[v.jsxs("div",{className:"viewer-header",children:[v.jsx("button",{onClick:()=>s("list"),className:"back-btn",children:v.jsx(Bb,{size:20})}),v.jsxs("div",{className:"viewer-actions",children:[v.jsxs("button",{onClick:X=>D(d,X),className:"edit-action",children:[v.jsx(Hb,{size:18})," Edytuj"]}),v.jsx("button",{onClick:()=>j(d.id),className:"delete-action",children:v.jsx(wa,{size:18})})]})]}),v.jsxs("div",{className:"viewer-content",children:[v.jsxs("div",{className:"viewer-meta",children:[v.jsx("span",{className:"viewer-cat",children:d.category}),v.jsx("span",{className:"viewer-date",children:Zt(((ee=(ae=d.createdAt)==null?void 0:ae.toDate)==null?void 0:ee.call(ae))||new Date,"PPPP",{locale:Ru})})]}),v.jsx("h1",{children:d.title}),v.jsx("div",{className:"rich-content",dangerouslySetInnerHTML:{__html:d.content}})]})]})},we=()=>v.jsxs("div",{className:"note-editor-container",children:[v.jsxs("div",{className:"editor-header",children:[v.jsx("button",{onClick:()=>s(a?"list":"folders"),className:"cancel-btn",children:v.jsx(a5,{size:20})}),v.jsxs("div",{className:"editor-controls",children:[v.jsx("button",{className:y.bold?"active":"",onMouseDown:ae=>{ae.preventDefault(),J("bold")},title:"Pogrubienie",children:v.jsx(xO,{size:18})}),v.jsx("button",{className:y.underline?"active":"",onMouseDown:ae=>{ae.preventDefault(),J("underline")},title:"Podkrelenie",children:v.jsx(BO,{size:18})})]}),v.jsxs("button",{onClick:ne,className:"save-btn",children:[v.jsx(zO,{size:18}),v.jsx("span",{children:"Zapisz"})]})]}),v.jsxs("div",{className:"editor-inputs",children:[v.jsx("div",{className:"category-select-wrapper mini",children:v.jsxs("div",{className:"category-input-group",children:[v.jsxs("select",{value:V,onChange:ae=>E(ae.target.value),children:[v.jsx("option",{value:"",children:"Kategoria..."}),n.map(ae=>v.jsx("option",{value:ae,children:ae},ae)),v.jsx("option",{value:"NEW",children:"+ Nowa kategoria"})]}),(V==="NEW"||V&&!n.includes(V))&&v.jsx("input",{type:"text",placeholder:"Nazwa nowej kategorii",value:V==="NEW"?"":V,onChange:ae=>E(ae.target.value),autoFocus:!0})]})}),v.jsx("input",{type:"text",className:"note-title-input",placeholder:"Tytu notatki...",value:N,onChange:ae=>L(ae.target.value)}),v.jsx("div",{ref:C,className:"rich-editor",contentEditable:!0,onInput:F,onKeyUp:F,onMouseUp:F,placeholder:"Zacznij pisa swoj notatk tutaj..."})]})]});return v.jsxs("div",{className:"notes-container",children:[i==="folders"&&P(),i==="list"&&Z(),i==="editor"&&we(),i==="viewer"&&ue()]})}const Sj="modulepreload",Aj=function(t){return"/apka/"+t},r4={},h0=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Aj(s),s in r4)return;r4[s]=!0;const a=s.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const m=i[d];if(m.href===s&&(!a||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":Sj,a||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),a)return new Promise((d,m)=>{u.addEventListener("load",d),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};var Js=Uint8Array,ts=Uint16Array,o5=Int32Array,l5=new Js([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),u5=new Js([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),i4=new Js([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tk=function(t,e){for(var n=new ts(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new o5(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},Ik=Tk(l5,2),kj=Ik.b,sy=Ik.r;kj[28]=258,sy[258]=28;var Tj=Tk(u5,0),s4=Tj.r,ay=new ts(32768);for(var Ln=0;Ln<32768;++Ln){var Ho=(Ln&43690)>>1|(Ln&21845)<<1;Ho=(Ho&52428)>>2|(Ho&13107)<<2,Ho=(Ho&61680)>>4|(Ho&3855)<<4,ay[Ln]=((Ho&65280)>>8|(Ho&255)<<8)>>1}var Od=function(t,e,n){for(var r=t.length,i=0,s=new ts(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new ts(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new ts(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],m=a[t[i]-1]++<<d,y=m|(1<<d)-1;m<=y;++m)o[ay[m]>>l]=u}else for(o=new ts(r),i=0;i<r;++i)t[i]&&(o[i]=ay[a[t[i]-1]++]>>15-t[i]);return o},Du=new Js(288);for(var Ln=0;Ln<144;++Ln)Du[Ln]=8;for(var Ln=144;Ln<256;++Ln)Du[Ln]=9;for(var Ln=256;Ln<280;++Ln)Du[Ln]=7;for(var Ln=280;Ln<288;++Ln)Du[Ln]=8;var cm=new Js(32);for(var Ln=0;Ln<32;++Ln)cm[Ln]=5;var Ij=Od(Du,9,0),Nj=Od(cm,5,0),Nk=function(t){return(t+7)/8|0},Pj=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new Js(t.subarray(e,n))},Xa=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},sd=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},d0=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:Ck,l:0};if(i==1){var a=new Js(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(J,ne){return J.f-ne.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],u=0,d=1,m=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=n[n[u].f<n[m].f?u++:m++],l=n[u!=d&&n[u].f<n[m].f?u++:m++],n[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var y=s[0].s,r=1;r<i;++r)s[r].s>y&&(y=s[r].s);var p=new ts(y+1),N=oy(n[d-1],p,0);if(N>e){var r=0,L=0,V=N-e,E=1<<V;for(s.sort(function(ne,j){return p[j.s]-p[ne.s]||ne.f-j.f});r<i;++r){var C=s[r].s;if(p[C]>e)L+=E-(1<<N-p[C]),p[C]=e;else break}for(L>>=V;L>0;){var k=s[r].s;p[k]<e?L-=1<<e-p[k]++-1:++r}for(;r>=0&&L;--r){var F=s[r].s;p[F]==e&&(--p[F],++L)}N=e}return{t:new Js(p),l:N}},oy=function(t,e,n){return t.s==-1?Math.max(oy(t.l,e,n+1),oy(t.r,e,n+1)):e[t.s]=n},a4=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ts(++e),r=0,i=t[0],s=1,a=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},ad=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Pk=function(t,e,n){var r=n.length,i=Nk(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},o4=function(t,e,n,r,i,s,a,o,l,u,d){Xa(e,d++,n),++i[256];for(var m=d0(i,15),y=m.t,p=m.l,N=d0(s,15),L=N.t,V=N.l,E=a4(y),C=E.c,k=E.n,F=a4(L),J=F.c,ne=F.n,j=new ts(19),b=0;b<C.length;++b)++j[C[b]&31];for(var b=0;b<J.length;++b)++j[J[b]&31];for(var A=d0(j,7),D=A.t,x=A.l,I=19;I>4&&!D[i4[I-1]];--I);var P=u+5<<3,Z=ad(i,Du)+ad(s,cm)+a,ue=ad(i,y)+ad(s,L)+a+14+3*I+ad(j,D)+2*j[16]+3*j[17]+7*j[18];if(l>=0&&P<=Z&&P<=ue)return Pk(e,d,t.subarray(l,l+u));var we,ae,ee,X;if(Xa(e,d,1+(ue<Z)),d+=2,ue<Z){we=Od(y,p,0),ae=y,ee=Od(L,V,0),X=L;var he=Od(D,x,0);Xa(e,d,k-257),Xa(e,d+5,ne-1),Xa(e,d+10,I-4),d+=14;for(var b=0;b<I;++b)Xa(e,d+3*b,D[i4[b]]);d+=3*I;for(var pe=[C,J],M=0;M<2;++M)for(var G=pe[M],b=0;b<G.length;++b){var te=G[b]&31;Xa(e,d,he[te]),d+=D[te],te>15&&(Xa(e,d,G[b]>>5&127),d+=G[b]>>12)}}else we=Ij,ae=Du,ee=Nj,X=cm;for(var b=0;b<o;++b){var re=r[b];if(re>255){var te=re>>18&31;sd(e,d,we[te+257]),d+=ae[te+257],te>7&&(Xa(e,d,re>>23&31),d+=l5[te]);var se=re&31;sd(e,d,ee[se]),d+=X[se],se>3&&(sd(e,d,re>>5&8191),d+=u5[se])}else sd(e,d,we[re]),d+=ae[re]}return sd(e,d,we[256]),d+ae[256]},Cj=new o5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ck=new Js(0),Lj=function(t,e,n,r,i,s){var a=s.z||t.length,o=new Js(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),u=s.l,d=(s.r||0)&7;if(e){d&&(l[0]=s.r>>3);for(var m=Cj[e-1],y=m>>13,p=m&8191,N=(1<<n)-1,L=s.p||new ts(32768),V=s.h||new ts(N+1),E=Math.ceil(n/3),C=2*E,k=function(Ue){return(t[Ue]^t[Ue+1]<<E^t[Ue+2]<<C)&N},F=new o5(25e3),J=new ts(288),ne=new ts(32),j=0,b=0,A=s.i||0,D=0,x=s.w||0,I=0;A+2<a;++A){var P=k(A),Z=A&32767,ue=V[P];if(L[Z]=ue,V[P]=Z,x<=A){var we=a-A;if((j>7e3||D>24576)&&(we>423||!u)){d=o4(t,l,0,F,J,ne,b,D,I,A-I,d),D=j=b=0,I=A;for(var ae=0;ae<286;++ae)J[ae]=0;for(var ae=0;ae<30;++ae)ne[ae]=0}var ee=2,X=0,he=p,pe=Z-ue&32767;if(we>2&&P==k(A-pe))for(var M=Math.min(y,we)-1,G=Math.min(32767,A),te=Math.min(258,we);pe<=G&&--he&&Z!=ue;){if(t[A+ee]==t[A+ee-pe]){for(var re=0;re<te&&t[A+re]==t[A+re-pe];++re);if(re>ee){if(ee=re,X=pe,re>M)break;for(var se=Math.min(pe,re-2),B=0,ae=0;ae<se;++ae){var oe=A-pe+ae&32767,ye=L[oe],be=oe-ye&32767;be>B&&(B=be,ue=oe)}}}Z=ue,ue=L[Z],pe+=Z-ue&32767}if(X){F[D++]=268435456|sy[ee]<<18|s4[X];var Ce=sy[ee]&31,je=s4[X]&31;b+=l5[Ce]+u5[je],++J[257+Ce],++ne[je],x=A+ee,++j}else F[D++]=t[A],++J[t[A]]}}for(A=Math.max(A,x);A<a;++A)F[D++]=t[A],++J[t[A]];d=o4(t,l,u,F,J,ne,b,D,I,A-I,d),u||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=V,s.p=L,s.i=A,s.w=x)}else{for(var A=s.w||0;A<a+u;A+=65535){var Re=A+65535;Re>=a&&(l[d/8|0]=u,Re=a),d=Pk(l,d+1,t.subarray(A,Re))}s.i=a}return Pj(o,0,r+Nk(d)+i)},Lk=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Rj=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Js(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return Lj(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},Rk=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Dj=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Lk();i.p(e.dictionary),Rk(t,2,i.d())}};function ly(t,e){e||(e={});var n=Lk();n.p(t);var r=Rj(t,e,e.dictionary?6:2,4);return Dj(r,e),Rk(r,r.length-4,n.d()),r}var Oj=typeof TextDecoder<"u"&&new TextDecoder,Mj=0;try{Oj.decode(Ck,{stream:!0}),Mj=1}catch{}function jj(t){if(Array.isArray(t))return t}function Fj(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Vj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l4(t,e){return jj(t)||Fj(t,e)||f9(t,e)||Vj()}function u4(t,e="utf8"){return new TextDecoder(e).decode(t)}const zj=new TextEncoder;function Uj(t){return zj.encode(t)}const Bj=1024*8,qj=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),f0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class c5{constructor(e=Bj,n={}){hn(this,"buffer");hn(this,"byteLength");hn(this,"byteOffset");hn(this,"length");hn(this,"offset");hn(this,"lastWrittenByte");hn(this,"littleEndian");hn(this,"_data");hn(this,"_mark");hn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof c5)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=f0[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===qj&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new f0[n](o.buffer);return this.offset+=r,l.reverse(),l}const a=new f0[n](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return u4(this.readBytes(e))}decodeText(e=1,n="utf8"){return u4(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(Uj(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const $j=4,c4=0,h4=1,Wj=2;function Nh(t){let e=t.length;for(;--e>=0;)t[e]=0}const Hj=0,Dk=1,Gj=2,Kj=3,Yj=258,h5=29,Vf=256,df=Vf+1+h5,Kc=30,d5=19,Ok=2*df+1,du=15,p0=16,Qj=7,f5=256,Mk=16,jk=17,Fk=18,uy=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),u1=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Xj=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Vk=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Jj=512,to=new Array((df+2)*2);Nh(to);const Md=new Array(Kc*2);Nh(Md);const ff=new Array(Jj);Nh(ff);const pf=new Array(Yj-Kj+1);Nh(pf);const p5=new Array(h5);Nh(p5);const hm=new Array(Kc);Nh(hm);function m0(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let zk,Uk,Bk;function g0(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const qk=t=>t<256?ff[t]:ff[256+(t>>>7)],mf=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Ci=(t,e,n)=>{t.bi_valid>p0-n?(t.bi_buf|=e<<t.bi_valid&65535,mf(t,t.bi_buf),t.bi_buf=e>>p0-t.bi_valid,t.bi_valid+=n-p0):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},va=(t,e,n)=>{Ci(t,n[e*2],n[e*2+1])},$k=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},Zj=t=>{t.bi_valid===16?(mf(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},eF=(t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let u,d,m,y,p,N,L=0;for(y=0;y<=du;y++)t.bl_count[y]=0;for(n[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<Ok;u++)d=t.heap[u],y=n[n[d*2+1]*2+1]+1,y>l&&(y=l,L++),n[d*2+1]=y,!(d>r)&&(t.bl_count[y]++,p=0,d>=o&&(p=a[d-o]),N=n[d*2],t.opt_len+=N*(y+p),s&&(t.static_len+=N*(i[d*2+1]+p)));if(L!==0){do{for(y=l-1;t.bl_count[y]===0;)y--;t.bl_count[y]--,t.bl_count[y+1]+=2,t.bl_count[l]--,L-=2}while(L>0);for(y=l;y!==0;y--)for(d=t.bl_count[y];d!==0;)m=t.heap[--u],!(m>r)&&(n[m*2+1]!==y&&(t.opt_len+=(y-n[m*2+1])*n[m*2],n[m*2+1]=y),d--)}},Wk=(t,e,n)=>{const r=new Array(du+1);let i=0,s,a;for(s=1;s<=du;s++)i=i+n[s-1]<<1,r[s]=i;for(a=0;a<=e;a++){let o=t[a*2+1];o!==0&&(t[a*2]=$k(r[o]++,o))}},tF=()=>{let t,e,n,r,i;const s=new Array(du+1);for(n=0,r=0;r<h5-1;r++)for(p5[r]=n,t=0;t<1<<uy[r];t++)pf[n++]=r;for(pf[n-1]=r,i=0,r=0;r<16;r++)for(hm[r]=i,t=0;t<1<<u1[r];t++)ff[i++]=r;for(i>>=7;r<Kc;r++)for(hm[r]=i<<7,t=0;t<1<<u1[r]-7;t++)ff[256+i++]=r;for(e=0;e<=du;e++)s[e]=0;for(t=0;t<=143;)to[t*2+1]=8,t++,s[8]++;for(;t<=255;)to[t*2+1]=9,t++,s[9]++;for(;t<=279;)to[t*2+1]=7,t++,s[7]++;for(;t<=287;)to[t*2+1]=8,t++,s[8]++;for(Wk(to,df+1,s),t=0;t<Kc;t++)Md[t*2+1]=5,Md[t*2]=$k(t,5);zk=new m0(to,uy,Vf+1,df,du),Uk=new m0(Md,u1,0,Kc,du),Bk=new m0(new Array(0),Xj,0,d5,Qj)},Hk=t=>{let e;for(e=0;e<df;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Kc;e++)t.dyn_dtree[e*2]=0;for(e=0;e<d5;e++)t.bl_tree[e*2]=0;t.dyn_ltree[f5*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Gk=t=>{t.bi_valid>8?mf(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},d4=(t,e,n,r)=>{const i=e*2,s=n*2;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]},y0=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&d4(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!d4(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},f4=(t,e,n)=>{let r,i,s=0,a,o;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+s++]&255,r+=(t.pending_buf[t.sym_buf+s++]&255)<<8,i=t.pending_buf[t.sym_buf+s++],r===0?va(t,i,e):(a=pf[i],va(t,a+Vf+1,e),o=uy[a],o!==0&&(i-=p5[a],Ci(t,i,o)),r--,a=qk(r),va(t,a,n),o=u1[a],o!==0&&(r-=hm[a],Ci(t,r,o)));while(s<t.sym_next);va(t,f5,e)},cy=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let a,o,l=-1,u;for(t.heap_len=0,t.heap_max=Ok,a=0;a<s;a++)n[a*2]!==0?(t.heap[++t.heap_len]=l=a,t.depth[a]=0):n[a*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=l<2?++l:0,n[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=r[u*2+1]);for(e.max_code=l,a=t.heap_len>>1;a>=1;a--)y0(t,n,a);u=s;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],y0(t,n,1),o=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=o,n[u*2]=n[a*2]+n[o*2],t.depth[u]=(t.depth[a]>=t.depth[o]?t.depth[a]:t.depth[o])+1,n[a*2+1]=n[o*2+1]=u,t.heap[1]=u++,y0(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],eF(t,e),Wk(n,l,t.bl_count)},p4=(t,e,n)=>{let r,i=-1,s,a=e[0*2+1],o=0,l=7,u=4;for(a===0&&(l=138,u=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)s=a,a=e[(r+1)*2+1],!(++o<l&&s===a)&&(o<u?t.bl_tree[s*2]+=o:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[Mk*2]++):o<=10?t.bl_tree[jk*2]++:t.bl_tree[Fk*2]++,o=0,i=s,a===0?(l=138,u=3):s===a?(l=6,u=3):(l=7,u=4))},m4=(t,e,n)=>{let r,i=-1,s,a=e[0*2+1],o=0,l=7,u=4;for(a===0&&(l=138,u=3),r=0;r<=n;r++)if(s=a,a=e[(r+1)*2+1],!(++o<l&&s===a)){if(o<u)do va(t,s,t.bl_tree);while(--o!==0);else s!==0?(s!==i&&(va(t,s,t.bl_tree),o--),va(t,Mk,t.bl_tree),Ci(t,o-3,2)):o<=10?(va(t,jk,t.bl_tree),Ci(t,o-3,3)):(va(t,Fk,t.bl_tree),Ci(t,o-11,7));o=0,i=s,a===0?(l=138,u=3):s===a?(l=6,u=3):(l=7,u=4)}},nF=t=>{let e;for(p4(t,t.dyn_ltree,t.l_desc.max_code),p4(t,t.dyn_dtree,t.d_desc.max_code),cy(t,t.bl_desc),e=d5-1;e>=3&&t.bl_tree[Vk[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},rF=(t,e,n,r)=>{let i;for(Ci(t,e-257,5),Ci(t,n-1,5),Ci(t,r-4,4),i=0;i<r;i++)Ci(t,t.bl_tree[Vk[i]*2+1],3);m4(t,t.dyn_ltree,e-1),m4(t,t.dyn_dtree,n-1)},iF=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return c4;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return h4;for(n=32;n<Vf;n++)if(t.dyn_ltree[n*2]!==0)return h4;return c4};let g4=!1;const sF=t=>{g4||(tF(),g4=!0),t.l_desc=new g0(t.dyn_ltree,zk),t.d_desc=new g0(t.dyn_dtree,Uk),t.bl_desc=new g0(t.bl_tree,Bk),t.bi_buf=0,t.bi_valid=0,Hk(t)},Kk=(t,e,n,r)=>{Ci(t,(Hj<<1)+(r?1:0),3),Gk(t),mf(t,n),mf(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},aF=t=>{Ci(t,Dk<<1,3),va(t,f5,to),Zj(t)},oF=(t,e,n,r)=>{let i,s,a=0;t.level>0?(t.strm.data_type===Wj&&(t.strm.data_type=iF(t)),cy(t,t.l_desc),cy(t,t.d_desc),a=nF(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&e!==-1?Kk(t,e,n,r):t.strategy===$j||s===i?(Ci(t,(Dk<<1)+(r?1:0),3),f4(t,to,Md)):(Ci(t,(Gj<<1)+(r?1:0),3),rF(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),f4(t,t.dyn_ltree,t.dyn_dtree)),Hk(t),r&&Gk(t)},lF=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(pf[n]+Vf+1)*2]++,t.dyn_dtree[qk(e)*2]++),t.sym_next===t.sym_end);var uF=sF,cF=Kk,hF=oF,dF=lF,fF=aF,pF={_tr_init:uF,_tr_stored_block:cF,_tr_flush_block:hF,_tr_tally:dF,_tr_align:fF};const mF=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+e[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var gf=mF;const gF=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},yF=new Uint32Array(gF()),vF=(t,e,n,r)=>{const i=yF,s=r+n;t^=-1;for(let a=r;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var br=vF,mh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zf={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:_F,_tr_stored_block:hy,_tr_flush_block:wF,_tr_tally:xl,_tr_align:bF}=pF,{Z_NO_FLUSH:El,Z_PARTIAL_FLUSH:xF,Z_FULL_FLUSH:EF,Z_FINISH:Ss,Z_BLOCK:y4,Z_OK:Or,Z_STREAM_END:v4,Z_STREAM_ERROR:Na,Z_DATA_ERROR:SF,Z_BUF_ERROR:v0,Z_DEFAULT_COMPRESSION:AF,Z_FILTERED:kF,Z_HUFFMAN_ONLY:Lp,Z_RLE:TF,Z_FIXED:IF,Z_DEFAULT_STRATEGY:NF,Z_UNKNOWN:PF,Z_DEFLATED:tg}=zf,CF=9,LF=15,RF=8,DF=29,OF=256,dy=OF+1+DF,MF=30,jF=19,FF=2*dy+1,VF=15,qt=3,al=258,Pa=al+qt+1,zF=32,gh=42,m5=57,fy=69,py=73,my=91,gy=103,fu=113,vd=666,vi=1,Ph=2,Ou=3,Ch=4,UF=3,pu=(t,e)=>(t.msg=mh[e],e),_4=t=>t*2-(t>4?9:0),nl=t=>{let e=t.length;for(;--e>=0;)t[e]=0},BF=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)};let qF=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,Sl=qF;const Xi=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},ns=(t,e)=>{wF(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Xi(t.strm)},Jt=(t,e)=>{t.pending_buf[t.pending++]=e},od=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},yy=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=gf(t.adler,e,i,n):t.state.wrap===2&&(t.adler=br(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},Yk=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,s,a=t.prev_length,o=t.nice_match;const l=t.strstart>t.w_size-Pa?t.strstart-(t.w_size-Pa):0,u=t.window,d=t.w_mask,m=t.prev,y=t.strstart+al;let p=u[r+a-1],N=u[r+a];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do if(i=e,!(u[i+a]!==N||u[i+a-1]!==p||u[i]!==u[r]||u[++i]!==u[r+1])){r+=2,i++;do;while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<y);if(s=al-(y-r),r=y-al,s>a){if(t.match_start=e,a=s,s>=o)break;p=u[r+a-1],N=u[r+a]}}while((e=m[e&d])>l&&--n!==0);return a<=t.lookahead?a:t.lookahead},yh=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Pa)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),BF(t),r+=e),t.strm.avail_in===0)break;if(n=yy(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=qt)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Sl(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Sl(t,t.ins_h,t.window[i+qt-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<qt)););}while(t.lookahead<Pa&&t.strm.avail_in!==0)},Qk=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,s,a=0,o=t.strm.avail_in;do{if(r=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s||(s=t.strm.avail_out-s,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&e!==Ss||e===El||r!==i+t.strm.avail_in)))break;a=e===Ss&&r===i+t.strm.avail_in?1:0,hy(t,0,0,a),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,Xi(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(yy(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(a===0);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),a?Ch:e!==El&&e!==Ss&&t.strm.avail_in===0&&t.strstart===t.block_start?Ph:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(yy(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,n=s>t.w_size?t.w_size:s,i=t.strstart-t.block_start,(i>=n||(i||e===Ss)&&e!==El&&t.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,a=e===Ss&&t.strm.avail_in===0&&r===i?1:0,hy(t,t.block_start,r,a),t.block_start+=r,Xi(t.strm)),a?Ou:vi)},_0=(t,e)=>{let n,r;for(;;){if(t.lookahead<Pa){if(yh(t),t.lookahead<Pa&&e===El)return vi;if(t.lookahead===0)break}if(n=0,t.lookahead>=qt&&(t.ins_h=Sl(t,t.ins_h,t.window[t.strstart+qt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Pa&&(t.match_length=Yk(t,n)),t.match_length>=qt)if(r=xl(t,t.strstart-t.match_start,t.match_length-qt),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=qt){t.match_length--;do t.strstart++,t.ins_h=Sl(t,t.ins_h,t.window[t.strstart+qt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Sl(t,t.ins_h,t.window[t.strstart+1]);else r=xl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(ns(t,!1),t.strm.avail_out===0))return vi}return t.insert=t.strstart<qt-1?t.strstart:qt-1,e===Ss?(ns(t,!0),t.strm.avail_out===0?Ou:Ch):t.sym_next&&(ns(t,!1),t.strm.avail_out===0)?vi:Ph},cc=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<Pa){if(yh(t),t.lookahead<Pa&&e===El)return vi;if(t.lookahead===0)break}if(n=0,t.lookahead>=qt&&(t.ins_h=Sl(t,t.ins_h,t.window[t.strstart+qt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=qt-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Pa&&(t.match_length=Yk(t,n),t.match_length<=5&&(t.strategy===kF||t.match_length===qt&&t.strstart-t.match_start>4096)&&(t.match_length=qt-1)),t.prev_length>=qt&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-qt,r=xl(t,t.strstart-1-t.prev_match,t.prev_length-qt),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=Sl(t,t.ins_h,t.window[t.strstart+qt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=qt-1,t.strstart++,r&&(ns(t,!1),t.strm.avail_out===0))return vi}else if(t.match_available){if(r=xl(t,0,t.window[t.strstart-1]),r&&ns(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return vi}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=xl(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<qt-1?t.strstart:qt-1,e===Ss?(ns(t,!0),t.strm.avail_out===0?Ou:Ch):t.sym_next&&(ns(t,!1),t.strm.avail_out===0)?vi:Ph},$F=(t,e)=>{let n,r,i,s;const a=t.window;for(;;){if(t.lookahead<=al){if(yh(t),t.lookahead<=al&&e===El)return vi;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=qt&&t.strstart>0&&(i=t.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){s=t.strstart+al;do;while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);t.match_length=al-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=qt?(n=xl(t,1,t.match_length-qt),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=xl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(ns(t,!1),t.strm.avail_out===0))return vi}return t.insert=0,e===Ss?(ns(t,!0),t.strm.avail_out===0?Ou:Ch):t.sym_next&&(ns(t,!1),t.strm.avail_out===0)?vi:Ph},WF=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(yh(t),t.lookahead===0)){if(e===El)return vi;break}if(t.match_length=0,n=xl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(ns(t,!1),t.strm.avail_out===0))return vi}return t.insert=0,e===Ss?(ns(t,!0),t.strm.avail_out===0?Ou:Ch):t.sym_next&&(ns(t,!1),t.strm.avail_out===0)?vi:Ph};function ha(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const _d=[new ha(0,0,0,0,Qk),new ha(4,4,8,4,_0),new ha(4,5,16,8,_0),new ha(4,6,32,32,_0),new ha(4,4,16,16,cc),new ha(8,16,32,32,cc),new ha(8,16,128,128,cc),new ha(8,32,128,256,cc),new ha(32,128,258,1024,cc),new ha(32,258,258,4096,cc)],HF=t=>{t.window_size=2*t.w_size,nl(t.head),t.max_lazy_match=_d[t.level].max_lazy,t.good_match=_d[t.level].good_length,t.nice_match=_d[t.level].nice_length,t.max_chain_length=_d[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=qt-1,t.match_available=0,t.ins_h=0};function GF(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=tg,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(FF*2),this.dyn_dtree=new Uint16Array((2*MF+1)*2),this.bl_tree=new Uint16Array((2*jF+1)*2),nl(this.dyn_ltree),nl(this.dyn_dtree),nl(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(VF+1),this.heap=new Uint16Array(2*dy+1),nl(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*dy+1),nl(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Uf=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==gh&&e.status!==m5&&e.status!==fy&&e.status!==py&&e.status!==my&&e.status!==gy&&e.status!==fu&&e.status!==vd?1:0},Xk=t=>{if(Uf(t))return pu(t,Na);t.total_in=t.total_out=0,t.data_type=PF;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?m5:e.wrap?gh:fu,t.adler=e.wrap===2?0:1,e.last_flush=-2,_F(e),Or},Jk=t=>{const e=Xk(t);return e===Or&&HF(t.state),e},KF=(t,e)=>Uf(t)||t.state.wrap!==2?Na:(t.state.gzhead=e,Or),Zk=(t,e,n,r,i,s)=>{if(!t)return Na;let a=1;if(e===AF&&(e=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>CF||n!==tg||r<8||r>15||e<0||e>9||s<0||s>IF||r===8&&a!==1)return pu(t,Na);r===8&&(r=9);const o=new GF;return t.state=o,o.strm=t,o.status=gh,o.wrap=a,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+qt-1)/qt),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=e,o.strategy=s,o.method=n,Jk(t)},YF=(t,e)=>Zk(t,e,tg,LF,RF,NF),QF=(t,e)=>{if(Uf(t)||e>y4||e<0)return t?pu(t,Na):Na;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===vd&&e!==Ss)return pu(t,t.avail_out===0?v0:Na);const r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(Xi(t),t.avail_out===0)return n.last_flush=-1,Or}else if(t.avail_in===0&&_4(e)<=_4(r)&&e!==Ss)return pu(t,v0);if(n.status===vd&&t.avail_in!==0)return pu(t,v0);if(n.status===gh&&n.wrap===0&&(n.status=fu),n.status===gh){let i=tg+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=Lp||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=zF),i+=31-i%31,od(n,i),n.strstart!==0&&(od(n,t.adler>>>16),od(n,t.adler&65535)),t.adler=1,n.status=fu,Xi(t),n.pending!==0)return n.last_flush=-1,Or}if(n.status===m5){if(t.adler=0,Jt(n,31),Jt(n,139),Jt(n,8),n.gzhead)Jt(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Jt(n,n.gzhead.time&255),Jt(n,n.gzhead.time>>8&255),Jt(n,n.gzhead.time>>16&255),Jt(n,n.gzhead.time>>24&255),Jt(n,n.level===9?2:n.strategy>=Lp||n.level<2?4:0),Jt(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Jt(n,n.gzhead.extra.length&255),Jt(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=br(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=fy;else if(Jt(n,0),Jt(n,0),Jt(n,0),Jt(n,0),Jt(n,0),Jt(n,n.level===9?2:n.strategy>=Lp||n.level<2?4:0),Jt(n,UF),n.status=fu,Xi(t),n.pending!==0)return n.last_flush=-1,Or}if(n.status===fy){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let o=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=br(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=o,Xi(t),n.pending!==0)return n.last_flush=-1,Or;i=0,s-=o}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(t.adler=br(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=py}if(n.status===py){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=br(t.adler,n.pending_buf,n.pending-i,i)),Xi(t),n.pending!==0)return n.last_flush=-1,Or;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,Jt(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=br(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=my}if(n.status===my){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=br(t.adler,n.pending_buf,n.pending-i,i)),Xi(t),n.pending!==0)return n.last_flush=-1,Or;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,Jt(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=br(t.adler,n.pending_buf,n.pending-i,i))}n.status=gy}if(n.status===gy){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Xi(t),n.pending!==0))return n.last_flush=-1,Or;Jt(n,t.adler&255),Jt(n,t.adler>>8&255),t.adler=0}if(n.status=fu,Xi(t),n.pending!==0)return n.last_flush=-1,Or}if(t.avail_in!==0||n.lookahead!==0||e!==El&&n.status!==vd){let i=n.level===0?Qk(n,e):n.strategy===Lp?WF(n,e):n.strategy===TF?$F(n,e):_d[n.level].func(n,e);if((i===Ou||i===Ch)&&(n.status=vd),i===vi||i===Ou)return t.avail_out===0&&(n.last_flush=-1),Or;if(i===Ph&&(e===xF?bF(n):e!==y4&&(hy(n,0,0,!1),e===EF&&(nl(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Xi(t),t.avail_out===0))return n.last_flush=-1,Or}return e!==Ss?Or:n.wrap<=0?v4:(n.wrap===2?(Jt(n,t.adler&255),Jt(n,t.adler>>8&255),Jt(n,t.adler>>16&255),Jt(n,t.adler>>24&255),Jt(n,t.total_in&255),Jt(n,t.total_in>>8&255),Jt(n,t.total_in>>16&255),Jt(n,t.total_in>>24&255)):(od(n,t.adler>>>16),od(n,t.adler&65535)),Xi(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Or:v4)},XF=t=>{if(Uf(t))return Na;const e=t.state.status;return t.state=null,e===fu?pu(t,SF):Or},JF=(t,e)=>{let n=e.length;if(Uf(t))return Na;const r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==gh||r.lookahead)return Na;if(i===1&&(t.adler=gf(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(nl(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(n-r.w_size,n),0),e=l,n=r.w_size}const s=t.avail_in,a=t.next_in,o=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,yh(r);r.lookahead>=qt;){let l=r.strstart,u=r.lookahead-(qt-1);do r.ins_h=Sl(r,r.ins_h,r.window[l+qt-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--u);r.strstart=l,r.lookahead=qt-1,yh(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=qt-1,r.match_available=0,t.next_in=a,t.input=o,t.avail_in=s,r.wrap=i,Or};var ZF=YF,eV=Zk,tV=Jk,nV=Xk,rV=KF,iV=QF,sV=XF,aV=JF,oV="pako deflate (from Nodeca project)",jd={deflateInit:ZF,deflateInit2:eV,deflateReset:tV,deflateResetKeep:nV,deflateSetHeader:rV,deflate:iV,deflateEnd:sV,deflateSetDictionary:aV,deflateInfo:oV};const lV=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var uV=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)lV(n,r)&&(t[r]=n[r])}}return t},cV=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let a=t[r];n.set(a,i),i+=a.length}return n},ng={assign:uV,flattenChunks:cV};let e6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{e6=!1}const yf=new Uint8Array(256);for(let t=0;t<256;t++)yf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;yf[254]=yf[254]=1;var hV=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,a=t.length,o=0;for(i=0;i<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const dV=(t,e)=>{if(e<65534&&t.subarray&&e6)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var fV=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let a=t[r++];if(a<128){s[i++]=a;continue}let o=yf[a];if(o>4){s[i++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<n;)a=a<<6|t[r++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return dV(s,i)},pV=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+yf[t[n]]>e?n:e},vf={string2buf:hV,buf2string:fV,utf8border:pV};function mV(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var t6=mV;const n6=Object.prototype.toString,{Z_NO_FLUSH:gV,Z_SYNC_FLUSH:yV,Z_FULL_FLUSH:vV,Z_FINISH:_V,Z_OK:dm,Z_STREAM_END:wV,Z_DEFAULT_COMPRESSION:bV,Z_DEFAULT_STRATEGY:xV,Z_DEFLATED:EV}=zf;function g5(t){this.options=ng.assign({level:bV,method:EV,chunkSize:16384,windowBits:15,memLevel:8,strategy:xV},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new t6,this.strm.avail_out=0;let n=jd.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==dm)throw new Error(mh[n]);if(e.header&&jd.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=vf.string2buf(e.dictionary):n6.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=jd.deflateSetDictionary(this.strm,r),n!==dm)throw new Error(mh[n]);this._dict_set=!0}}g5.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?_V:gV,typeof t=="string"?n.input=vf.string2buf(t):n6.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===yV||s===vV)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=jd.deflate(n,s),i===wV)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=jd.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===dm;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};g5.prototype.onData=function(t){this.chunks.push(t)};g5.prototype.onEnd=function(t){t===dm&&(this.result=ng.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const Rp=16209,SV=16191;var AV=function(e,n){let r,i,s,a,o,l,u,d,m,y,p,N,L,V,E,C,k,F,J,ne,j,b,A,D;const x=e.state;r=e.next_in,A=e.input,i=r+(e.avail_in-5),s=e.next_out,D=e.output,a=s-(n-e.avail_out),o=s+(e.avail_out-257),l=x.dmax,u=x.wsize,d=x.whave,m=x.wnext,y=x.window,p=x.hold,N=x.bits,L=x.lencode,V=x.distcode,E=(1<<x.lenbits)-1,C=(1<<x.distbits)-1;e:do{N<15&&(p+=A[r++]<<N,N+=8,p+=A[r++]<<N,N+=8),k=L[p&E];t:for(;;){if(F=k>>>24,p>>>=F,N-=F,F=k>>>16&255,F===0)D[s++]=k&65535;else if(F&16){J=k&65535,F&=15,F&&(N<F&&(p+=A[r++]<<N,N+=8),J+=p&(1<<F)-1,p>>>=F,N-=F),N<15&&(p+=A[r++]<<N,N+=8,p+=A[r++]<<N,N+=8),k=V[p&C];n:for(;;){if(F=k>>>24,p>>>=F,N-=F,F=k>>>16&255,F&16){if(ne=k&65535,F&=15,N<F&&(p+=A[r++]<<N,N+=8,N<F&&(p+=A[r++]<<N,N+=8)),ne+=p&(1<<F)-1,ne>l){e.msg="invalid distance too far back",x.mode=Rp;break e}if(p>>>=F,N-=F,F=s-a,ne>F){if(F=ne-F,F>d&&x.sane){e.msg="invalid distance too far back",x.mode=Rp;break e}if(j=0,b=y,m===0){if(j+=u-F,F<J){J-=F;do D[s++]=y[j++];while(--F);j=s-ne,b=D}}else if(m<F){if(j+=u+m-F,F-=m,F<J){J-=F;do D[s++]=y[j++];while(--F);if(j=0,m<J){F=m,J-=F;do D[s++]=y[j++];while(--F);j=s-ne,b=D}}}else if(j+=m-F,F<J){J-=F;do D[s++]=y[j++];while(--F);j=s-ne,b=D}for(;J>2;)D[s++]=b[j++],D[s++]=b[j++],D[s++]=b[j++],J-=3;J&&(D[s++]=b[j++],J>1&&(D[s++]=b[j++]))}else{j=s-ne;do D[s++]=D[j++],D[s++]=D[j++],D[s++]=D[j++],J-=3;while(J>2);J&&(D[s++]=D[j++],J>1&&(D[s++]=D[j++]))}}else if(F&64){e.msg="invalid distance code",x.mode=Rp;break e}else{k=V[(k&65535)+(p&(1<<F)-1)];continue n}break}}else if(F&64)if(F&32){x.mode=SV;break e}else{e.msg="invalid literal/length code",x.mode=Rp;break e}else{k=L[(k&65535)+(p&(1<<F)-1)];continue t}break}}while(r<i&&s<o);J=N>>3,r-=J,N-=J<<3,p&=(1<<N)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<o?257+(o-s):257-(s-o),x.hold=p,x.bits=N};const hc=15,w4=852,b4=592,x4=0,w0=1,E4=2,kV=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),TV=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),IV=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),NV=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),PV=(t,e,n,r,i,s,a,o)=>{const l=o.bits;let u=0,d=0,m=0,y=0,p=0,N=0,L=0,V=0,E=0,C=0,k,F,J,ne,j,b=null,A;const D=new Uint16Array(hc+1),x=new Uint16Array(hc+1);let I=null,P,Z,ue;for(u=0;u<=hc;u++)D[u]=0;for(d=0;d<r;d++)D[e[n+d]]++;for(p=l,y=hc;y>=1&&D[y]===0;y--);if(p>y&&(p=y),y===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<y&&D[m]===0;m++);for(p<m&&(p=m),V=1,u=1;u<=hc;u++)if(V<<=1,V-=D[u],V<0)return-1;if(V>0&&(t===x4||y!==1))return-1;for(x[1]=0,u=1;u<hc;u++)x[u+1]=x[u]+D[u];for(d=0;d<r;d++)e[n+d]!==0&&(a[x[e[n+d]]++]=d);if(t===x4?(b=I=a,A=20):t===w0?(b=kV,I=TV,A=257):(b=IV,I=NV,A=0),C=0,d=0,u=m,j=s,N=p,L=0,J=-1,E=1<<p,ne=E-1,t===w0&&E>w4||t===E4&&E>b4)return 1;for(;;){P=u-L,a[d]+1<A?(Z=0,ue=a[d]):a[d]>=A?(Z=I[a[d]-A],ue=b[a[d]-A]):(Z=32+64,ue=0),k=1<<u-L,F=1<<N,m=F;do F-=k,i[j+(C>>L)+F]=P<<24|Z<<16|ue|0;while(F!==0);for(k=1<<u-1;C&k;)k>>=1;if(k!==0?(C&=k-1,C+=k):C=0,d++,--D[u]===0){if(u===y)break;u=e[n+a[d]]}if(u>p&&(C&ne)!==J){for(L===0&&(L=p),j+=m,N=u-L,V=1<<N;N+L<y&&(V-=D[N+L],!(V<=0));)N++,V<<=1;if(E+=1<<N,t===w0&&E>w4||t===E4&&E>b4)return 1;J=C&ne,i[J]=p<<24|N<<16|j-s|0}}return C!==0&&(i[j+C]=u-L<<24|64<<16|0),o.bits=p,0};var Fd=PV;const CV=0,r6=1,i6=2,{Z_FINISH:S4,Z_BLOCK:LV,Z_TREES:Dp,Z_OK:Mu,Z_STREAM_END:RV,Z_NEED_DICT:DV,Z_STREAM_ERROR:Ns,Z_DATA_ERROR:s6,Z_MEM_ERROR:a6,Z_BUF_ERROR:OV,Z_DEFLATED:A4}=zf,rg=16180,k4=16181,T4=16182,I4=16183,N4=16184,P4=16185,C4=16186,L4=16187,R4=16188,D4=16189,fm=16190,Ja=16191,b0=16192,O4=16193,x0=16194,M4=16195,j4=16196,F4=16197,V4=16198,Op=16199,Mp=16200,z4=16201,U4=16202,B4=16203,q4=16204,$4=16205,E0=16206,W4=16207,H4=16208,On=16209,o6=16210,l6=16211,MV=852,jV=592,FV=15,VV=FV,G4=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function zV(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const qu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<rg||e.mode>l6?1:0},u6=t=>{if(qu(t))return Ns;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=rg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(MV),e.distcode=e.distdyn=new Int32Array(jV),e.sane=1,e.back=-1,Mu},c6=t=>{if(qu(t))return Ns;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,u6(t)},h6=(t,e)=>{let n;if(qu(t))return Ns;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ns:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,c6(t))},d6=(t,e)=>{if(!t)return Ns;const n=new zV;t.state=n,n.strm=t,n.window=null,n.mode=rg;const r=h6(t,e);return r!==Mu&&(t.state=null),r},UV=t=>d6(t,VV);let K4=!0,S0,A0;const BV=t=>{if(K4){S0=new Int32Array(512),A0=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Fd(r6,t.lens,0,288,S0,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Fd(i6,t.lens,0,32,A0,0,t.work,{bits:5}),K4=!1}t.lencode=S0,t.lenbits=9,t.distcode=A0,t.distbits=5},f6=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},qV=(t,e)=>{let n,r,i,s,a,o,l,u,d,m,y,p,N,L,V=0,E,C,k,F,J,ne,j,b;const A=new Uint8Array(4);let D,x;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qu(t)||!t.output||!t.input&&t.avail_in!==0)return Ns;n=t.state,n.mode===Ja&&(n.mode=b0),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,m=o,y=l,b=Mu;e:for(;;)switch(n.mode){case rg:if(n.wrap===0){n.mode=b0;break}for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,A[0]=u&255,A[1]=u>>>8&255,n.check=br(n.check,A,2,0),u=0,d=0,n.mode=k4;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=On;break}if((u&15)!==A4){t.msg="unknown compression method",n.mode=On;break}if(u>>>=4,d-=4,j=(u&15)+8,n.wbits===0&&(n.wbits=j),j>15||j>n.wbits){t.msg="invalid window size",n.mode=On;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?D4:Ja,u=0,d=0;break;case k4:for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==A4){t.msg="unknown compression method",n.mode=On;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=On;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(A[0]=u&255,A[1]=u>>>8&255,n.check=br(n.check,A,2,0)),u=0,d=0,n.mode=T4;case T4:for(;d<32;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(A[0]=u&255,A[1]=u>>>8&255,A[2]=u>>>16&255,A[3]=u>>>24&255,n.check=br(n.check,A,4,0)),u=0,d=0,n.mode=I4;case I4:for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(A[0]=u&255,A[1]=u>>>8&255,n.check=br(n.check,A,2,0)),u=0,d=0,n.mode=N4;case N4:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(A[0]=u&255,A[1]=u>>>8&255,n.check=br(n.check,A,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=P4;case P4:if(n.flags&1024&&(p=n.length,p>o&&(p=o),p&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),j)),n.flags&512&&n.wrap&4&&(n.check=br(n.check,r,p,s)),o-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=C4;case C4:if(n.flags&2048){if(o===0)break e;p=0;do j=r[s+p++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j));while(j&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=br(n.check,r,p,s)),o-=p,s+=p,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=L4;case L4:if(n.flags&4096){if(o===0)break e;p=0;do j=r[s+p++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j));while(j&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=br(n.check,r,p,s)),o-=p,s+=p,j)break e}else n.head&&(n.head.comment=null);n.mode=R4;case R4:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=On;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Ja;break;case D4:for(;d<32;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}t.adler=n.check=G4(u),u=0,d=0,n.mode=fm;case fm:if(n.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=u,n.bits=d,DV;t.adler=n.check=1,n.mode=Ja;case Ja:if(e===LV||e===Dp)break e;case b0:if(n.last){u>>>=d&7,d-=d&7,n.mode=E0;break}for(;d<3;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=O4;break;case 1:if(BV(n),n.mode=Op,e===Dp){u>>>=2,d-=2;break e}break;case 2:n.mode=j4;break;case 3:t.msg="invalid block type",n.mode=On}u>>>=2,d-=2;break;case O4:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=On;break}if(n.length=u&65535,u=0,d=0,n.mode=x0,e===Dp)break e;case x0:n.mode=M4;case M4:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;i.set(r.subarray(s,s+p),a),o-=p,s+=p,l-=p,a+=p,n.length-=p;break}n.mode=Ja;break;case j4:for(;d<14;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=On;break}n.have=0,n.mode=F4;case F4:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.lens[I[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},b=Fd(CV,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,b){t.msg="invalid code lengths set",n.mode=On;break}n.have=0,n.mode=V4;case V4:for(;n.have<n.nlen+n.ndist;){for(;V=n.lencode[u&(1<<n.lenbits)-1],E=V>>>24,C=V>>>16&255,k=V&65535,!(E<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(k<16)u>>>=E,d-=E,n.lens[n.have++]=k;else{if(k===16){for(x=E+2;d<x;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(u>>>=E,d-=E,n.have===0){t.msg="invalid bit length repeat",n.mode=On;break}j=n.lens[n.have-1],p=3+(u&3),u>>>=2,d-=2}else if(k===17){for(x=E+3;d<x;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}u>>>=E,d-=E,j=0,p=3+(u&7),u>>>=3,d-=3}else{for(x=E+7;d<x;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}u>>>=E,d-=E,j=0,p=11+(u&127),u>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=On;break}for(;p--;)n.lens[n.have++]=j}}if(n.mode===On)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=On;break}if(n.lenbits=9,D={bits:n.lenbits},b=Fd(r6,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,b){t.msg="invalid literal/lengths set",n.mode=On;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},b=Fd(i6,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,b){t.msg="invalid distances set",n.mode=On;break}if(n.mode=Op,e===Dp)break e;case Op:n.mode=Mp;case Mp:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=u,n.bits=d,AV(t,y),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,n.mode===Ja&&(n.back=-1);break}for(n.back=0;V=n.lencode[u&(1<<n.lenbits)-1],E=V>>>24,C=V>>>16&255,k=V&65535,!(E<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(C&&!(C&240)){for(F=E,J=C,ne=k;V=n.lencode[ne+((u&(1<<F+J)-1)>>F)],E=V>>>24,C=V>>>16&255,k=V&65535,!(F+E<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}u>>>=F,d-=F,n.back+=F}if(u>>>=E,d-=E,n.back+=E,n.length=k,C===0){n.mode=$4;break}if(C&32){n.back=-1,n.mode=Ja;break}if(C&64){t.msg="invalid literal/length code",n.mode=On;break}n.extra=C&15,n.mode=z4;case z4:if(n.extra){for(x=n.extra;d<x;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=U4;case U4:for(;V=n.distcode[u&(1<<n.distbits)-1],E=V>>>24,C=V>>>16&255,k=V&65535,!(E<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(!(C&240)){for(F=E,J=C,ne=k;V=n.distcode[ne+((u&(1<<F+J)-1)>>F)],E=V>>>24,C=V>>>16&255,k=V&65535,!(F+E<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}u>>>=F,d-=F,n.back+=F}if(u>>>=E,d-=E,n.back+=E,C&64){t.msg="invalid distance code",n.mode=On;break}n.offset=k,n.extra=C&15,n.mode=B4;case B4:if(n.extra){for(x=n.extra;d<x;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=On;break}n.mode=q4;case q4:if(l===0)break e;if(p=y-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=On;break}p>n.wnext?(p-=n.wnext,N=n.wsize-p):N=n.wnext-p,p>n.length&&(p=n.length),L=n.window}else L=i,N=a-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[a++]=L[N++];while(--p);n.length===0&&(n.mode=Mp);break;case $4:if(l===0)break e;i[a++]=n.length,l--,n.mode=Mp;break;case E0:if(n.wrap){for(;d<32;){if(o===0)break e;o--,u|=r[s++]<<d,d+=8}if(y-=l,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?br(n.check,i,y,a-y):gf(n.check,i,y,a-y)),y=l,n.wrap&4&&(n.flags?u:G4(u))!==n.check){t.msg="incorrect data check",n.mode=On;break}u=0,d=0}n.mode=W4;case W4:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=On;break}u=0,d=0}n.mode=H4;case H4:b=RV;break e;case On:b=s6;break e;case o6:return a6;case l6:default:return Ns}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=u,n.bits=d,(n.wsize||y!==t.avail_out&&n.mode<On&&(n.mode<E0||e!==S4))&&f6(t,t.output,t.next_out,y-t.avail_out),m-=t.avail_in,y-=t.avail_out,t.total_in+=m,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?br(n.check,i,y,t.next_out-y):gf(n.check,i,y,t.next_out-y)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Ja?128:0)+(n.mode===Op||n.mode===x0?256:0),(m===0&&y===0||e===S4)&&b===Mu&&(b=OV),b},$V=t=>{if(qu(t))return Ns;let e=t.state;return e.window&&(e.window=null),t.state=null,Mu},WV=(t,e)=>{if(qu(t))return Ns;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,Mu):Ns},HV=(t,e)=>{const n=e.length;let r,i,s;return qu(t)||(r=t.state,r.wrap!==0&&r.mode!==fm)?Ns:r.mode===fm&&(i=1,i=gf(i,e,n,0),i!==r.check)?s6:(s=f6(t,e,n,n),s?(r.mode=o6,a6):(r.havedict=1,Mu))};var GV=c6,KV=h6,YV=u6,QV=UV,XV=d6,JV=qV,ZV=$V,ez=WV,tz=HV,nz="pako inflate (from Nodeca project)",no={inflateReset:GV,inflateReset2:KV,inflateResetKeep:YV,inflateInit:QV,inflateInit2:XV,inflate:JV,inflateEnd:ZV,inflateGetHeader:ez,inflateSetDictionary:tz,inflateInfo:nz};function rz(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var iz=rz;const p6=Object.prototype.toString,{Z_NO_FLUSH:sz,Z_FINISH:az,Z_OK:_f,Z_STREAM_END:k0,Z_NEED_DICT:T0,Z_STREAM_ERROR:oz,Z_DATA_ERROR:Y4,Z_MEM_ERROR:lz}=zf;function Bf(t){this.options=ng.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new t6,this.strm.avail_out=0;let n=no.inflateInit2(this.strm,e.windowBits);if(n!==_f)throw new Error(mh[n]);if(this.header=new iz,no.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=vf.string2buf(e.dictionary):p6.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=no.inflateSetDictionary(this.strm,e.dictionary),n!==_f)))throw new Error(mh[n])}Bf.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?az:sz,p6.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=no.inflate(n,a),s===T0&&i&&(s=no.inflateSetDictionary(n,i),s===_f?s=no.inflate(n,a):s===Y4&&(s=T0));n.avail_in>0&&s===k0&&n.state.wrap>0&&t[n.next_in]!==0;)no.inflateReset(n),s=no.inflate(n,a);switch(s){case oz:case Y4:case T0:case lz:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===k0))if(this.options.to==="string"){let l=vf.utf8border(n.output,n.next_out),u=n.next_out-l,d=vf.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===_f&&o===0)){if(s===k0)return s=no.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Bf.prototype.onData=function(t){this.chunks.push(t)};Bf.prototype.onEnd=function(t){t===_f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ng.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function y5(t,e){const n=new Bf(e);if(n.push(t),n.err)throw n.msg||mh[n.err];return n.result}function uz(t,e){return e=e||{},e.raw=!0,y5(t,e)}var cz=Bf,hz=y5,dz=uz,fz=y5,pz=zf,mz={Inflate:cz,inflate:hz,inflateRaw:dz,ungzip:fz,constants:pz};const{Inflate:gz,inflate:yz,inflateRaw:zU,ungzip:UU}=mz;var Q4=gz,vz=yz;const m6=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;m6[t]=e}const X4=4294967295;function _z(t,e,n){let r=t;for(let i=0;i<n;i++)r=m6[(r^e[i])&255]^r>>>8;return r}function wz(t,e){return(_z(X4,t,e)^X4)>>>0}function J4(t,e,n){const r=t.readUint32(),i=wz(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function g6(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function y6(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function v6(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function _6(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function w6(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+bz(e[s-i],n[s],n[s-i])&255}}function bz(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),a=Math.abs(r-n);return i<=s&&i<=a?t:s<=a?e:n}function xz(t,e,n,r,i,s){switch(t){case 0:g6(e,n,i);break;case 1:y6(e,n,i,s);break;case 2:v6(e,n,r,i);break;case 3:_6(e,n,r,i,s);break;case 4:w6(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Ez=new Uint16Array([255]),Sz=new Uint8Array(Ez.buffer),Az=Sz[0]===255;function kz(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(r*n*o);let u=0;for(let d=0;d<7;d++){const m=a[d],y=Math.ceil((n-m.x)/m.xStep),p=Math.ceil((r-m.y)/m.yStep);if(y<=0||p<=0)continue;const N=y*o,L=new Uint8Array(N);for(let V=0;V<p;V++){const E=e[u++],C=e.subarray(u,u+N);u+=N;const k=new Uint8Array(N);xz(E,C,k,L,N,o),L.set(k);for(let F=0;F<y;F++){const J=m.x+F*m.xStep,ne=m.y+V*m.yStep;if(!(J>=n||ne>=r))for(let j=0;j<o;j++)l[(ne*n+J)*o+j]=k[F*o+j]}}}if(s===16){const d=new Uint16Array(l.buffer);if(Az)for(let m=0;m<d.length;m++)d[m]=Tz(d[m]);return d}else return l}function Tz(t){return(t&255)<<8|t>>8&255}const Iz=new Uint16Array([255]),Nz=new Uint8Array(Iz.buffer),Pz=Nz[0]===255,Cz=new Uint8Array(0);function Z4(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*n),l=new Uint8Array(r*o);let u=Cz,d=0,m,y;for(let p=0;p<r;p++){switch(m=e.subarray(d+1,d+1+o),y=l.subarray(p*o,(p+1)*o),e[d]){case 0:g6(m,y,o);break;case 1:y6(m,y,o,a);break;case 2:v6(m,y,u,o);break;case 3:_6(m,y,u,o,a);break;case 4:w6(m,y,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=y,d+=o+1}if(s===16){const p=new Uint16Array(l.buffer);if(Pz)for(let N=0;N<p.length;N++)p[N]=Lz(p[N]);return p}else return l}function Lz(t){return(t&255)<<8|t>>8&255}const c1=Uint8Array.of(137,80,78,71,13,10,26,10);function e3(t){if(!Rz(t.readBytes(c1.length)))throw new Error("wrong PNG signature")}function Rz(t){if(t.length<c1.length)return!1;for(let e=0;e<c1.length;e++)if(t[e]!==c1[e])return!1;return!0}const Dz="tEXt",Oz=0,b6=new TextDecoder("latin1");function Mz(t){if(Fz(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const jz=/^[\u0000-\u00FF]*$/;function Fz(t){if(!jz.test(t))throw new Error("invalid latin1 text")}function Vz(t,e,n){const r=x6(e);t[r]=zz(e,n-r.length-1)}function x6(t){for(t.mark();t.readByte()!==Oz;);const e=t.offset;t.reset();const n=b6.decode(t.readBytes(e-t.offset-1));return t.skip(1),Mz(n),n}function zz(t,e){return b6.decode(t.readBytes(e))}const Qi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},I0={UNKNOWN:-1,DEFLATE:0},t3={UNKNOWN:-1,ADAPTIVE:0},N0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},jp={NONE:0,BACKGROUND:1,PREVIOUS:2},P0={SOURCE:0,OVER:1};class Uz extends c5{constructor(n,r={}){super(n);hn(this,"_checkCrc");hn(this,"_inflator");hn(this,"_png");hn(this,"_apng");hn(this,"_end");hn(this,"_hasPalette");hn(this,"_palette");hn(this,"_hasTransparency");hn(this,"_transparency");hn(this,"_compressionMethod");hn(this,"_filterMethod");hn(this,"_interlaceMethod");hn(this,"_colorType");hn(this,"_isAnimated");hn(this,"_numberOfFrames");hn(this,"_numberOfPlays");hn(this,"_frames");hn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new Q4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=I0.UNKNOWN,this._filterMethod=t3.UNKNOWN,this._interlaceMethod=N0.UNKNOWN,this._colorType=Qi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(e3(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(e3(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case Dz:Vz(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?J4(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?J4(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Bz(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Qi.GREYSCALE:i=1;break;case Qi.TRUECOLOUR:i=3;break;case Qi.INDEXED_COLOUR:i=1;break;case Qi.GREYSCALE_ALPHA:i=2;break;case Qi.TRUECOLOUR_ALPHA:i=4;break;case Qi.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==I0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Qi.GREYSCALE:case Qi.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Qi.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Qi.UNKNOWN:case Qi.GREYSCALE_ALPHA:case Qi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=x6(this),i=this.readUint8();if(i!==I0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:vz(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=Z4({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case jp.NONE:break;case jp.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*n.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case jp.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,u=(a*r.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case P0.SOURCE:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let d=0;d<this._png.channels;d++)n.data[l+d]=r.data[u+d]}break;case P0.OVER:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let d=0;d<this._png.channels;d++){const m=r.data[u+this._png.channels-1]/i,y=d%(this._png.channels-1)===0?1:r.data[u+d],p=Math.floor(m*y+(1-m)*n.data[l+d]);n.data[l+d]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==t3.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===N0.NO_INTERLACE)this._png.data=Z4({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===N0.ADAM7)this._png.data=kz({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:jp.NONE,blendOp:P0.SOURCE,data:n}),this._inflator=new Q4,this._writingDataChunks=!1}}function Bz(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var n3;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(n3||(n3={}));function qz(t,e){return new Uz(t,e).decode()}var _t=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function C0(){_t.console&&typeof _t.console.log=="function"&&_t.console.log.apply(_t.console,arguments)}var _n={log:C0,warn:function(t){_t.console&&(typeof _t.console.warn=="function"?_t.console.warn.apply(_t.console,arguments):C0.call(null,arguments))},error:function(t){_t.console&&(typeof _t.console.error=="function"?_t.console.error.apply(_t.console,arguments):C0(t))}};function L0(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){au(r.response,e,n)},r.onerror=function(){_n.error("could not download file")},r.send()}function r3(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Fp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var au=_t.saveAs||((typeof window>"u"?"undefined":en(window))!=="object"||window!==_t?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=_t.URL||_t.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?r3(i.href)?L0(t,e,n):Fp(i,i.target="_blank"):Fp(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Fp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(r3(t))L0(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Fp(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:en(s)!=="object"&&(_n.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return L0(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(_t.HTMLElement)||_t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":en(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(t)}else{var l=_t.URL||_t.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function E6(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var h1=_t.atob.bind(_t),i3=_t.btoa.bind(_t);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function R0(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Kr(n,r,i,s,e[0],7,-680876936),s=Kr(s,n,r,i,e[1],12,-389564586),i=Kr(i,s,n,r,e[2],17,606105819),r=Kr(r,i,s,n,e[3],22,-1044525330),n=Kr(n,r,i,s,e[4],7,-176418897),s=Kr(s,n,r,i,e[5],12,1200080426),i=Kr(i,s,n,r,e[6],17,-1473231341),r=Kr(r,i,s,n,e[7],22,-45705983),n=Kr(n,r,i,s,e[8],7,1770035416),s=Kr(s,n,r,i,e[9],12,-1958414417),i=Kr(i,s,n,r,e[10],17,-42063),r=Kr(r,i,s,n,e[11],22,-1990404162),n=Kr(n,r,i,s,e[12],7,1804603682),s=Kr(s,n,r,i,e[13],12,-40341101),i=Kr(i,s,n,r,e[14],17,-1502002290),n=Yr(n,r=Kr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Yr(s,n,r,i,e[6],9,-1069501632),i=Yr(i,s,n,r,e[11],14,643717713),r=Yr(r,i,s,n,e[0],20,-373897302),n=Yr(n,r,i,s,e[5],5,-701558691),s=Yr(s,n,r,i,e[10],9,38016083),i=Yr(i,s,n,r,e[15],14,-660478335),r=Yr(r,i,s,n,e[4],20,-405537848),n=Yr(n,r,i,s,e[9],5,568446438),s=Yr(s,n,r,i,e[14],9,-1019803690),i=Yr(i,s,n,r,e[3],14,-187363961),r=Yr(r,i,s,n,e[8],20,1163531501),n=Yr(n,r,i,s,e[13],5,-1444681467),s=Yr(s,n,r,i,e[2],9,-51403784),i=Yr(i,s,n,r,e[7],14,1735328473),n=Qr(n,r=Yr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Qr(s,n,r,i,e[8],11,-2022574463),i=Qr(i,s,n,r,e[11],16,1839030562),r=Qr(r,i,s,n,e[14],23,-35309556),n=Qr(n,r,i,s,e[1],4,-1530992060),s=Qr(s,n,r,i,e[4],11,1272893353),i=Qr(i,s,n,r,e[7],16,-155497632),r=Qr(r,i,s,n,e[10],23,-1094730640),n=Qr(n,r,i,s,e[13],4,681279174),s=Qr(s,n,r,i,e[0],11,-358537222),i=Qr(i,s,n,r,e[3],16,-722521979),r=Qr(r,i,s,n,e[6],23,76029189),n=Qr(n,r,i,s,e[9],4,-640364487),s=Qr(s,n,r,i,e[12],11,-421815835),i=Qr(i,s,n,r,e[15],16,530742520),n=Xr(n,r=Qr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Xr(s,n,r,i,e[7],10,1126891415),i=Xr(i,s,n,r,e[14],15,-1416354905),r=Xr(r,i,s,n,e[5],21,-57434055),n=Xr(n,r,i,s,e[12],6,1700485571),s=Xr(s,n,r,i,e[3],10,-1894986606),i=Xr(i,s,n,r,e[10],15,-1051523),r=Xr(r,i,s,n,e[1],21,-2054922799),n=Xr(n,r,i,s,e[8],6,1873313359),s=Xr(s,n,r,i,e[15],10,-30611744),i=Xr(i,s,n,r,e[6],15,-1560198380),r=Xr(r,i,s,n,e[13],21,1309151649),n=Xr(n,r,i,s,e[4],6,-145523070),s=Xr(s,n,r,i,e[11],10,-1120210379),i=Xr(i,s,n,r,e[2],15,718787259),r=Xr(r,i,s,n,e[9],21,-343485551),t[0]=ol(n,t[0]),t[1]=ol(r,t[1]),t[2]=ol(i,t[2]),t[3]=ol(s,t[3])}function ig(t,e,n,r,i,s){return e=ol(ol(e,t),ol(r,s)),ol(e<<i|e>>>32-i,n)}function Kr(t,e,n,r,i,s,a){return ig(e&n|~e&r,t,e,i,s,a)}function Yr(t,e,n,r,i,s,a){return ig(e&r|n&~r,t,e,i,s,a)}function Qr(t,e,n,r,i,s,a){return ig(e^n^r,t,e,i,s,a)}function Xr(t,e,n,r,i,s,a){return ig(n^(e|~r),t,e,i,s,a)}function S6(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)R0(r,$z(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(R0(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,R0(r,i),r}function $z(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var s3="0123456789abcdef".split("");function Wz(t){for(var e="",n=0;n<4;n++)e+=s3[t>>8*n+4&15]+s3[t>>8*n&15];return e}function Hz(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function vy(t){return S6(t).map(Hz).join("")}var Gz=function(t){for(var e=0;e<t.length;e++)t[e]=Wz(t[e]);return t.join("")}(S6("hello"))!="5d41402abc4b2a76b9719d911017c592";function ol(t,e){if(Gz){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _y(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var d=o[l];u=(u+d+a.charCodeAt(l))%256,o[l]=o[u],o[u]=d}n=t,r=o}else o=r;var m=e.length,y=0,p=0,N="";for(l=0;l<m;l++)p=(p+(d=o[y=(y+1)%256]))%256,o[y]=o[p],o[p]=d,a=o[(o[y]+o[p])%256],N+=String.fromCharCode(e.charCodeAt(l)^a);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var a3={print:4,modify:8,copy:16,"annot-forms":32};function vc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(a3.perm!==void 0)throw new Error("Invalid permission: "+o);i+=a3[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=vy(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=_y(this.encryptionKey,this.padding)}function _c(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function o3(t){if(en(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){_t.console&&_n.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function pm(t){if(!(this instanceof pm))return new pm(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function A6(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ou(t,e,n,r,i){if(!(this instanceof ou))return new ou(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,A6.call(this,r,i)}function Rc(t,e,n,r,i){if(!(this instanceof Rc))return new Rc(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,A6.call(this,r,i)}function st(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",d=null;en(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,y={},p={internal:{},__private__:{}};p.__private__.PubSub=o3;var N="1.3",L=p.__private__.getPdfVersion=function(){return N};p.__private__.setPdfVersion=function(g){N=g};var V={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return V};var E=p.__private__.getPageFormat=function(g){return V[g]};i=i||"a4";var C="compat",k="advanced",F=C;function J(){this.saveGraphicsState(),H(new it(At,0,0,-At,0,sa()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),u="n",F=k}function ne(){this.restoreGraphicsState(),u="S",F=C}var j=p.__private__.combineFontStyleAndFontWeight=function(g,R){if(g=="bold"&&R=="normal"||g=="bold"&&R==400||g=="normal"&&R=="italic"||g=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(g=R==400||R==="normal"?g==="italic"?"italic":"normal":R!=700&&R!=="bold"||g!=="normal"?(R==700?"bold":R)+""+g:"bold"),g};p.advancedAPI=function(g){var R=F===C;return R&&J.call(this),typeof g!="function"||(g(this),R&&ne.call(this)),this},p.compatAPI=function(g){var R=F===k;return R&&ne.call(this),typeof g!="function"||(g(this),R&&J.call(this)),this},p.isAdvancedAPI=function(){return F===k};var b,A=function(g){if(F!==k)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=p.roundToPrecision=p.__private__.roundToPrecision=function(g,R){var K=e||R;if(isNaN(g)||isNaN(K))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(K).replace(/0+$/,"")};b=p.hpf=p.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return D(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return D(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return D(g,16)};var x=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return D(g,2)},I=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return D(g,3)},P=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return F===C?g*At:F===k?g:void 0},Z=function(g){return P(function(R){return F===C?sa()-R:F===k?R:void 0}(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var ue,we="00000000000000000000000000000000",ae=p.__private__.getFileId=function(){return we},ee=p.__private__.setFileId=function(g){return we=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():we.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Tn=new vc(d.userPermissions,d.userPassword,d.ownerPassword,we)),we};p.setFileId=function(g){return ee(g),this},p.getFileId=function(){return ae()};var X=p.__private__.convertDateToPDFDate=function(g){var R=g.getTimezoneOffset(),K=R<0?"+":"-",ie=Math.floor(Math.abs(R/60)),de=Math.abs(R%60),xe=[K,te(ie),"'",te(de),"'"].join("");return["D:",g.getFullYear(),te(g.getMonth()+1),te(g.getDate()),te(g.getHours()),te(g.getMinutes()),te(g.getSeconds()),xe].join("")},he=p.__private__.convertPDFDateToDate=function(g){var R=parseInt(g.substr(2,4),10),K=parseInt(g.substr(6,2),10)-1,ie=parseInt(g.substr(8,2),10),de=parseInt(g.substr(10,2),10),xe=parseInt(g.substr(12,2),10),Ie=parseInt(g.substr(14,2),10);return new Date(R,K,ie,de,xe,Ie,0)},pe=p.__private__.setCreationDate=function(g){var R;if(g===void 0&&(g=new Date),g instanceof Date)R=X(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=g}return ue=R},M=p.__private__.getCreationDate=function(g){var R=ue;return g==="jsDate"&&(R=he(ue)),R};p.setCreationDate=function(g){return pe(g),this},p.getCreationDate=function(g){return M(g)};var G,te=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},re=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},se=0,B=[],oe=[],ye=0,be=[],Ce=[],je=!1,Re=oe;p.__private__.setCustomOutputDestination=function(g){je=!0,Re=g};var Ue=function(g){je||(Re=g)};p.__private__.resetCustomOutputDestination=function(){je=!1,Re=oe};var H=p.__private__.out=function(g){return g=g.toString(),ye+=g.length+1,Re.push(g),Re},Fe=p.__private__.write=function(g){return H(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},St=p.__private__.getArrayBuffer=function(g){for(var R=g.length,K=new ArrayBuffer(R),ie=new Uint8Array(K);R--;)ie[R]=g.charCodeAt(R);return K},ot=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ot};var Pe=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return Pe=F===k?g/At:g,this};var qe,Ve=p.__private__.getFontSize=p.getFontSize=function(){return F===C?Pe:Pe*At},rt=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return rt=g,this},p.__private__.getR2L=p.getR2L=function(){return rt};var at,Ht=p.__private__.setZoomMode=function(g){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))qe=g;else if(isNaN(g)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');qe=g}else qe=parseInt(g,10)};p.__private__.getZoomMode=function(){return qe};var Dt,ht=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');at=g};p.__private__.getPageMode=function(){return at};var Ot=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');Dt=g};p.__private__.getLayoutMode=function(){return Dt},p.__private__.setDisplayMode=p.setDisplayMode=function(g,R,K){return Ht(g),Ot(R),ht(K),this};var Rt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(Rt).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Rt[g]},p.__private__.getDocumentProperties=function(){return Rt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var R in Rt)Rt.hasOwnProperty(R)&&g[R]&&(Rt[R]=g[R]);return this},p.__private__.setDocumentProperty=function(g,R){if(Object.keys(Rt).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Rt[g]=R};var Qe,At,tt,Dn,jt,xt={},It={},pn=[],Je={},on={},ut={},wt={},tn=null,Pt=0,We=[],Gt=new o3(p),ji=t.hotfixes||[],$n={},Ps={},ls=[],it=function g(R,K,ie,de,xe,Ie){if(!(this instanceof g))return new g(R,K,ie,de,xe,Ie);isNaN(R)&&(R=1),isNaN(K)&&(K=0),isNaN(ie)&&(ie=0),isNaN(de)&&(de=1),isNaN(xe)&&(xe=0),isNaN(Ie)&&(Ie=0),this._matrix=[R,K,ie,de,xe,Ie]};Object.defineProperty(it.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(it.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(it.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(it.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(it.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(it.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(it.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(it.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(it.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(it.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(it.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(it.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(it.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(it.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(it.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(it.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),it.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(b).join(g)},it.prototype.multiply=function(g){var R=g.sx*this.sx+g.shy*this.shx,K=g.sx*this.shy+g.shy*this.sy,ie=g.shx*this.sx+g.sy*this.shx,de=g.shx*this.shy+g.sy*this.sy,xe=g.tx*this.sx+g.ty*this.shx+this.tx,Ie=g.tx*this.shy+g.ty*this.sy+this.ty;return new it(R,K,ie,de,xe,Ie)},it.prototype.decompose=function(){var g=this.sx,R=this.shy,K=this.shx,ie=this.sy,de=this.tx,xe=this.ty,Ie=Math.sqrt(g*g+R*R),He=(g/=Ie)*K+(R/=Ie)*ie;K-=g*He,ie-=R*He;var Xe=Math.sqrt(K*K+ie*ie);return He/=Xe,g*(ie/=Xe)<R*(K/=Xe)&&(g=-g,R=-R,He=-He,Ie=-Ie),{scale:new it(Ie,0,0,Xe,0,0),translate:new it(1,0,0,1,de,xe),rotate:new it(g,R,-R,g,0,0),skew:new it(1,0,He,1,0,0)}},it.prototype.toString=function(g){return this.join(" ")},it.prototype.inversed=function(){var g=this.sx,R=this.shy,K=this.shx,ie=this.sy,de=this.tx,xe=this.ty,Ie=1/(g*ie-R*K),He=ie*Ie,Xe=-R*Ie,dt=-K*Ie,gt=g*Ie;return new it(He,Xe,dt,gt,-He*de-dt*xe,-Xe*de-gt*xe)},it.prototype.applyToPoint=function(g){var R=g.x*this.sx+g.y*this.shx+this.tx,K=g.x*this.shy+g.y*this.sy+this.ty;return new Ds(R,K)},it.prototype.applyToRectangle=function(g){var R=this.applyToPoint(g),K=this.applyToPoint(new Ds(g.x+g.w,g.y+g.h));return new Os(R.x,R.y,K.x-R.x,K.y-R.y)},it.prototype.clone=function(){var g=this.sx,R=this.shy,K=this.shx,ie=this.sy,de=this.tx,xe=this.ty;return new it(g,R,K,ie,de,xe)},p.Matrix=it;var Cs=p.matrixMult=function(g,R){return R.multiply(g)},Ls=new it(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ls;var Ir=function(g,R){if(!on[g]){var K=(R instanceof ou?"Sh":"P")+(Object.keys(Je).length+1).toString(10);R.id=K,on[g]=K,Je[K]=R,Gt.publish("addPattern",R)}};p.ShadingPattern=ou,p.TilingPattern=Rc,p.addShadingPattern=function(g,R){return A("addShadingPattern()"),Ir(g,R),this},p.beginTilingPattern=function(g){A("beginTilingPattern()"),Ba(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,R){A("endTilingPattern()"),R.stream=Ce[G].join(`
`),Ir(g,R),Gt.publish("endTilingPattern",R),ls.pop().restore()};var ri,kn=p.__private__.newObject=function(){var g=Wn();return jn(g,!0),g},Wn=p.__private__.newObjectDeferred=function(){return se++,B[se]=function(){return ye},se},jn=function(g,R){return R=typeof R=="boolean"&&R,B[g]=ye,R&&H(g+" 0 obj"),g},Ra=p.__private__.newAdditionalObject=function(){var g={objId:Wn(),content:""};return be.push(g),g},Nr=Wn(),xi=Wn(),Fi=p.__private__.decodeColorString=function(g){var R=g.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length!==5||R[4]!=="k"&&R[4]!=="K"||(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var K=parseFloat(R[0]);R=[K,K,K,"r"]}for(var ie="#",de=0;de<3;de++)ie+=("0"+Math.floor(255*parseFloat(R[de])).toString(16)).slice(-2);return ie},ii=p.__private__.encodeColorString=function(g){var R;typeof g=="string"&&(g={ch1:g});var K=g.ch1,ie=g.ch2,de=g.ch3,xe=g.ch4,Ie=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof K=="string"&&K.charAt(0)!=="#"){var He=new E6(K);if(He.ok)K=He.toHex();else if(!/^\d*\.?\d*$/.test(K))throw new Error('Invalid color "'+K+'" passed to jsPDF.encodeColorString.')}if(typeof K=="string"&&/^#[0-9A-Fa-f]{3}$/.test(K)&&(K="#"+K[1]+K[1]+K[2]+K[2]+K[3]+K[3]),typeof K=="string"&&/^#[0-9A-Fa-f]{6}$/.test(K)){var Xe=parseInt(K.substr(1),16);K=Xe>>16&255,ie=Xe>>8&255,de=255&Xe}if(ie===void 0||xe===void 0&&K===ie&&ie===de)R=typeof K=="string"?K+" "+Ie[0]:g.precision===2?x(K/255)+" "+Ie[0]:I(K/255)+" "+Ie[0];else if(xe===void 0||en(xe)==="object"){if(xe&&!isNaN(xe.a)&&xe.a===0)return["1.","1.","1.",Ie[1]].join(" ");R=typeof K=="string"?[K,ie,de,Ie[1]].join(" "):g.precision===2?[x(K/255),x(ie/255),x(de/255),Ie[1]].join(" "):[I(K/255),I(ie/255),I(de/255),Ie[1]].join(" ")}else R=typeof K=="string"?[K,ie,de,xe,Ie[2]].join(" "):g.precision===2?[x(K),x(ie),x(de),x(xe),Ie[2]].join(" "):[I(K),I(ie),I(de),I(xe),Ie[2]].join(" ");return R},si=p.__private__.getFilters=function(){return a},ai=p.__private__.putStream=function(g){var R=(g=g||{}).data||"",K=g.filters||si(),ie=g.alreadyAppliedFilters||[],de=g.addLength1||!1,xe=R.length,Ie=g.objectId,He=function(h){return h};if(d!==null&&Ie===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(He=Tn.encryptor(Ie,0));var Xe={};K===!0&&(K=["FlateEncode"]);var dt=g.additionalKeyValues||[],gt=(Xe=st.API.processDataByFilters!==void 0?st.API.processDataByFilters(R,K):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(ie)?ie.join(" "):ie.toString());if(Xe.data.length!==0&&(dt.push({key:"Length",value:Xe.data.length}),de===!0&&dt.push({key:"Length1",value:xe})),gt.length!=0)if(gt.split("/").length-1==1)dt.push({key:"Filter",value:gt});else{dt.push({key:"Filter",value:"["+gt+"]"});for(var yt=0;yt<dt.length;yt+=1)if(dt[yt].key==="DecodeParms"){for(var wn=[],Fn=0;Fn<Xe.reverseChain.split("/").length-1;Fn+=1)wn.push("null");wn.push(dt[yt].value),dt[yt].value="["+wn.join(" ")+"]"}}H("<<");for(var Kt=0;Kt<dt.length;Kt++)H("/"+dt[Kt].key+" "+dt[Kt].value);H(">>"),Xe.data.length!==0&&(H("stream"),H(He(Xe.data)),H("endstream"))},Da=p.__private__.putPage=function(g){var R=g.number,K=g.data,ie=g.objId,de=g.contentsObjId;jn(ie,!0),H("<</Type /Page"),H("/Parent "+g.rootDictionaryObjId+" 0 R"),H("/Resources "+g.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(b(g.mediaBox.bottomLeftX))+" "+parseFloat(b(g.mediaBox.bottomLeftY))+" "+b(g.mediaBox.topRightX)+" "+b(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&H("/CropBox ["+b(g.cropBox.bottomLeftX)+" "+b(g.cropBox.bottomLeftY)+" "+b(g.cropBox.topRightX)+" "+b(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&H("/BleedBox ["+b(g.bleedBox.bottomLeftX)+" "+b(g.bleedBox.bottomLeftY)+" "+b(g.bleedBox.topRightX)+" "+b(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&H("/TrimBox ["+b(g.trimBox.bottomLeftX)+" "+b(g.trimBox.bottomLeftY)+" "+b(g.trimBox.topRightX)+" "+b(g.trimBox.topRightY)+"]"),g.artBox!==null&&H("/ArtBox ["+b(g.artBox.bottomLeftX)+" "+b(g.artBox.bottomLeftY)+" "+b(g.artBox.topRightX)+" "+b(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&H("/UserUnit "+g.userUnit),Gt.publish("putPage",{objId:ie,pageContext:We[R],pageNumber:R,page:K}),H("/Contents "+de+" 0 R"),H(">>"),H("endobj");var xe=K.join(`
`);return F===k&&(xe+=`
Q`),jn(de,!0),ai({data:xe,filters:si(),objectId:de}),H("endobj"),ie},Vi=p.__private__.putPages=function(){var g,R,K=[];for(g=1;g<=Pt;g++)We[g].objId=Wn(),We[g].contentsObjId=Wn();for(g=1;g<=Pt;g++)K.push(Da({number:g,data:Ce[g],objId:We[g].objId,contentsObjId:We[g].contentsObjId,mediaBox:We[g].mediaBox,cropBox:We[g].cropBox,bleedBox:We[g].bleedBox,trimBox:We[g].trimBox,artBox:We[g].artBox,userUnit:We[g].userUnit,rootDictionaryObjId:Nr,resourceDictionaryObjId:xi}));jn(Nr,!0),H("<</Type /Pages");var ie="/Kids [";for(R=0;R<Pt;R++)ie+=K[R]+" 0 R ";H(ie+"]"),H("/Count "+Pt),H(">>"),H("endobj"),Gt.publish("postPutPages")},Oa=function(g){Gt.publish("putFont",{font:g,out:H,newObject:kn,putStream:ai}),g.isAlreadyPutted!==!0&&(g.objectNumber=kn(),H("<<"),H("/Type /Font"),H("/BaseFont /"+_c(g.postScriptName)),H("/Subtype /Type1"),typeof g.encoding=="string"&&H("/Encoding /"+g.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},Rs=function(g){g.objectNumber=kn();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[b(g.x),b(g.y),b(g.x+g.width),b(g.y+g.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var K=g.pages[1].join(`
`);ai({data:K,additionalKeyValues:R,objectId:g.objectNumber}),H("endobj")},Ma=function(g,R){R||(R=21);var K=kn(),ie=function(Ie,He){var Xe,dt=[],gt=1/(He-1);for(Xe=0;Xe<1;Xe+=gt)dt.push(Xe);if(dt.push(1),Ie[0].offset!=0){var yt={offset:0,color:Ie[0].color};Ie.unshift(yt)}if(Ie[Ie.length-1].offset!=1){var wn={offset:1,color:Ie[Ie.length-1].color};Ie.push(wn)}for(var Fn="",Kt=0,h=0;h<dt.length;h++){for(Xe=dt[h];Xe>Ie[Kt+1].offset;)Kt++;var w=Ie[Kt].offset,T=(Xe-w)/(Ie[Kt+1].offset-w),q=Ie[Kt].color,fe=Ie[Kt+1].color;Fn+=re(Math.round((1-T)*q[0]+T*fe[0]).toString(16))+re(Math.round((1-T)*q[1]+T*fe[1]).toString(16))+re(Math.round((1-T)*q[2]+T*fe[2]).toString(16))}return Fn.trim()}(g.colors,R),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+R+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ai({data:ie,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:K}),H("endobj"),g.objectNumber=kn(),H("<< /ShadingType "+g.type),H("/ColorSpace /DeviceRGB");var xe="/Coords ["+b(parseFloat(g.coords[0]))+" "+b(parseFloat(g.coords[1]))+" ";g.type===2?xe+=b(parseFloat(g.coords[2]))+" "+b(parseFloat(g.coords[3])):xe+=b(parseFloat(g.coords[2]))+" "+b(parseFloat(g.coords[3]))+" "+b(parseFloat(g.coords[4]))+" "+b(parseFloat(g.coords[5])),H(xe+="]"),g.matrix&&H("/Matrix ["+g.matrix.toString()+"]"),H("/Function "+K+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},ta=function(g,R){var K=Wn(),ie=kn();R.push({resourcesOid:K,objectOid:ie}),g.objectNumber=ie;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+g.boundingBox.map(b).join(" ")+"]"}),de.push({key:"XStep",value:b(g.xStep)}),de.push({key:"YStep",value:b(g.yStep)}),de.push({key:"Resources",value:K+" 0 R"}),g.matrix&&de.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),ai({data:g.stream,additionalKeyValues:de,objectId:g.objectNumber}),H("endobj")},ja=function(g){for(var R in g.objectNumber=kn(),H("<<"),g)switch(R){case"opacity":H("/ca "+x(g[R]));break;case"stroke-opacity":H("/CA "+x(g[R]))}H(">>"),H("endobj")},zi=function(g){jn(g.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var R in H("/Font <<"),xt)xt.hasOwnProperty(R)&&(m===!1||m===!0&&y.hasOwnProperty(R))&&H("/"+R+" "+xt[R].objectNumber+" 0 R");H(">>")}(),function(){if(Object.keys(Je).length>0){for(var R in H("/Shading <<"),Je)Je.hasOwnProperty(R)&&Je[R]instanceof ou&&Je[R].objectNumber>=0&&H("/"+R+" "+Je[R].objectNumber+" 0 R");Gt.publish("putShadingPatternDict"),H(">>")}}(),function(R){if(Object.keys(Je).length>0){for(var K in H("/Pattern <<"),Je)Je.hasOwnProperty(K)&&Je[K]instanceof p.TilingPattern&&Je[K].objectNumber>=0&&Je[K].objectNumber<R&&H("/"+K+" "+Je[K].objectNumber+" 0 R");Gt.publish("putTilingPatternDict"),H(">>")}}(g.objectOid),function(){if(Object.keys(ut).length>0){var R;for(R in H("/ExtGState <<"),ut)ut.hasOwnProperty(R)&&ut[R].objectNumber>=0&&H("/"+R+" "+ut[R].objectNumber+" 0 R");Gt.publish("putGStateDict"),H(">>")}}(),function(){for(var R in H("/XObject <<"),$n)$n.hasOwnProperty(R)&&$n[R].objectNumber>=0&&H("/"+R+" "+$n[R].objectNumber+" 0 R");Gt.publish("putXobjectDict"),H(">>")}(),H(">>"),H("endobj")},xo=function(g){It[g.fontName]=It[g.fontName]||{},It[g.fontName][g.fontStyle]=g.id},Wu=function(g,R,K,ie,de){var xe={id:"F"+(Object.keys(xt).length+1).toString(10),postScriptName:g,fontName:R,fontStyle:K,encoding:ie,isStandardFont:de||!1,metadata:{}};return Gt.publish("addFont",{font:xe,instance:this}),xt[xe.id]=xe,xo(xe),xe.id},oi=p.__private__.pdfEscape=p.pdfEscape=function(g,R){return function(K,ie){var de,xe,Ie,He,Xe,dt,gt,yt,wn;if(Ie=(ie=ie||{}).sourceEncoding||"Unicode",Xe=ie.outputEncoding,(ie.autoencode||Xe)&&xt[Qe].metadata&&xt[Qe].metadata[Ie]&&xt[Qe].metadata[Ie].encoding&&(He=xt[Qe].metadata[Ie].encoding,!Xe&&xt[Qe].encoding&&(Xe=xt[Qe].encoding),!Xe&&He.codePages&&(Xe=He.codePages[0]),typeof Xe=="string"&&(Xe=He[Xe]),Xe)){for(gt=!1,dt=[],de=0,xe=K.length;de<xe;de++)(yt=Xe[K.charCodeAt(de)])?dt.push(String.fromCharCode(yt)):dt.push(K[de]),dt[de].charCodeAt(0)>>8&&(gt=!0);K=dt.join("")}for(de=K.length;gt===void 0&&de!==0;)K.charCodeAt(de-1)>>8&&(gt=!0),de--;if(!gt)return K;for(dt=ie.noBOM?[]:[254,255],de=0,xe=K.length;de<xe;de++){if((wn=(yt=K.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+K+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");dt.push(wn),dt.push(yt-(wn<<8))}return String.fromCharCode.apply(void 0,dt)}(g,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Eo=p.__private__.beginPage=function(g){Ce[++Pt]=[],We[Pt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},So(Pt),Ue(Ce[G])},Ul=function(g,R){var K,ie,de;switch(n=R||n,typeof g=="string"&&(K=E(g.toLowerCase()),Array.isArray(K)&&(ie=K[0],de=K[1])),Array.isArray(g)&&(ie=g[0]*At,de=g[1]*At),isNaN(ie)&&(ie=i[0],de=i[1]),(ie>14400||de>14400)&&(_n.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ie=Math.min(14400,ie),de=Math.min(14400,de)),i=[ie,de],n.substr(0,1)){case"l":de>ie&&(i=[de,ie]);break;case"p":ie>de&&(i=[de,ie])}Eo(i),mt(Wl),H(ln),ia!==0&&H(ia+" J"),Ei!==0&&H(Ei+" j"),Gt.publish("addPage",{pageNumber:Pt})},Fa=function(g){g>0&&g<=Pt&&(Ce.splice(g,1),We.splice(g,1),Pt--,G>Pt&&(G=Pt),this.setPage(G))},So=function(g){g>0&&g<=Pt&&(G=g)},Bl=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ce.length-1},ql=function(g,R,K){var ie,de=void 0;return K=K||{},g=g!==void 0?g:xt[Qe].fontName,R=R!==void 0?R:xt[Qe].fontStyle,ie=g.toLowerCase(),It[ie]!==void 0&&It[ie][R]!==void 0?de=It[ie][R]:It[g]!==void 0&&It[g][R]!==void 0?de=It[g][R]:K.disableWarning===!1&&_n.warn("Unable to look up font label for font '"+g+"', '"+R+"'. Refer to getFontList() for available fonts."),de||K.noFallback||(de=It.times[R])==null&&(de=It.times.normal),de},Ui=p.__private__.putInfo=function(){var g=kn(),R=function(ie){return ie};for(var K in d!==null&&(R=Tn.encryptor(g,0)),H("<<"),H("/Producer ("+oi(R("jsPDF "+st.version))+")"),Rt)Rt.hasOwnProperty(K)&&Rt[K]&&H("/"+K.substr(0,1).toUpperCase()+K.substr(1)+" ("+oi(R(Rt[K]))+")");H("/CreationDate ("+oi(R(ue))+")"),H(">>"),H("endobj")},Ao=p.__private__.putCatalog=function(g){var R=(g=g||{}).rootDictionaryObjId||Nr;switch(kn(),H("<<"),H("/Type /Catalog"),H("/Pages "+R+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var K=""+qe;K.substr(K.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&H("/OpenAction [3 0 R /XYZ null null "+x(qe)+"]")}switch(Dt||(Dt="continuous"),Dt){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}at&&H("/PageMode /"+at),Gt.publish("putCatalog"),H(">>"),H("endobj")},us=p.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(se+1)),H("/Root "+se+" 0 R"),H("/Info "+(se-1)+" 0 R"),d!==null&&H("/Encrypt "+Tn.oid+" 0 R"),H("/ID [ <"+we+"> <"+we+"> ]"),H(">>")},Xt=p.__private__.putHeader=function(){H("%PDF-"+N),H("%")},na=p.__private__.putXRef=function(){var g="0000000000";H("xref"),H("0 "+(se+1)),H("0000000000 65535 f ");for(var R=1;R<=se;R++)typeof B[R]=="function"?H((g+B[R]()).slice(-10)+" 00000 n "):B[R]!==void 0?H((g+B[R]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},Ur=p.__private__.buildDocument=function(){var g;se=0,ye=0,oe=[],B=[],be=[],Nr=Wn(),xi=Wn(),Ue(oe),Gt.publish("buildDocument"),Xt(),Vi(),function(){Gt.publish("putAdditionalObjects");for(var K=0;K<be.length;K++){var ie=be[K];jn(ie.objId,!0),H(ie.content),H("endobj")}Gt.publish("postPutAdditionalObjects")}(),g=[],function(){for(var K in xt)xt.hasOwnProperty(K)&&(m===!1||m===!0&&y.hasOwnProperty(K))&&Oa(xt[K])}(),function(){var K;for(K in ut)ut.hasOwnProperty(K)&&ja(ut[K])}(),function(){for(var K in $n)$n.hasOwnProperty(K)&&Rs($n[K])}(),function(K){var ie;for(ie in Je)Je.hasOwnProperty(ie)&&(Je[ie]instanceof ou?Ma(Je[ie]):Je[ie]instanceof Rc&&ta(Je[ie],K))}(g),Gt.publish("putResources"),g.forEach(zi),zi({resourcesOid:xi,objectOid:Number.MAX_SAFE_INTEGER}),Gt.publish("postPutResources"),d!==null&&(Tn.oid=kn(),H("<<"),H("/Filter /Standard"),H("/V "+Tn.v),H("/R "+Tn.r),H("/U <"+Tn.toHexString(Tn.U)+">"),H("/O <"+Tn.toHexString(Tn.O)+">"),H("/P "+Tn.P),H(">>"),H("endobj")),Ui(),Ao();var R=ye;return na(),us(),H("startxref"),H(""+R),H("%%EOF"),Ue(Ce[G]),oe.join(`
`)},ra=p.__private__.getBlob=function(g){return new Blob([St(g)],{type:"application/pdf"})},nn=p.output=p.__private__.output=(ri=function(g,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",g){case void 0:return Ur();case"save":p.save(R.filename);break;case"arraybuffer":return St(Ur());case"blob":return ra(Ur());case"bloburi":case"bloburl":if(_t.URL!==void 0&&typeof _t.URL.createObjectURL=="function")return _t.URL&&_t.URL.createObjectURL(ra(Ur()))||void 0;_n.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var K="",ie=Ur();try{K=i3(ie)}catch{K=i3(unescape(encodeURIComponent(ie)))}return"data:application/pdf;filename="+R.filename+";base64,"+K;case"pdfobjectnewwindow":if(Object.prototype.toString.call(_t)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(de=R.pdfObjectUrl,xe="");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",He=_t.open();return He!==null&&He.document.write(Ie),He}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(_t)==="[object Window]"){var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',dt=_t.open();if(dt!==null){dt.document.write(Xe);var gt=this;dt.document.documentElement.querySelector("#pdfViewer").onload=function(){dt.document.title=R.filename,dt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(gt.output("bloburl"))}}return dt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(_t)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',wn=_t.open();if(wn!==null&&(wn.document.write(yt),wn.document.title=R.filename),wn||typeof safari>"u")return wn;break;case"datauri":case"dataurl":return _t.document.location.href=this.output("datauristring",R);default:return null}},ri.foo=function(){try{return ri.apply(this,arguments)}catch(K){var g=K.stack||"";~g.indexOf(" at ")&&(g=g.split(" at ")[1]);var R="Error in function "+g.split(`
`)[0].split("<")[0]+": "+K.message;if(!_t.console)throw new Error(R);_t.console.error(R,K),_t.alert&&alert(R)}},ri.foo.bar=ri,ri.foo),Pr=function(g){return Array.isArray(ji)===!0&&ji.indexOf(g)>-1};switch(r){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=Pr("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);At=r}var Tn=null;pe(),ee();var li=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:We[g].objId,pageNumber:g,pageContext:We[g]}},Hu=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in We)if(We[R].objId===g)break;return li(R)},Gu=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:We[G].objId,pageNumber:G,pageContext:We[G]}};p.addPage=function(){return Ul.apply(this,arguments),this},p.setPage=function(){return So.apply(this,arguments),Ue.call(this,Ce[G]),this},p.insertPage=function(g){return this.addPage(),this.movePage(G,g),this},p.movePage=function(g,R){var K,ie;if(g>R){K=Ce[g],ie=We[g];for(var de=g;de>R;de--)Ce[de]=Ce[de-1],We[de]=We[de-1];Ce[R]=K,We[R]=ie,this.setPage(R)}else if(g<R){K=Ce[g],ie=We[g];for(var xe=g;xe<R;xe++)Ce[xe]=Ce[xe+1],We[xe]=We[xe+1];Ce[R]=K,We[R]=ie,this.setPage(R)}return this},p.deletePage=function(){return Fa.apply(this,arguments),this},p.__private__.text=p.text=function(g,R,K,ie,de){var xe,Ie,He,Xe,dt,gt,yt,wn,Fn,Kt=(ie=ie||{}).scope||this;if(typeof g=="number"&&typeof R=="number"&&(typeof K=="string"||Array.isArray(K))){var h=K;K=R,R=g,g=h}if(arguments[3]instanceof it==0?(He=arguments[4],Xe=arguments[5],en(yt=arguments[3])==="object"&&yt!==null||(typeof He=="string"&&(Xe=He,He=null),typeof yt=="string"&&(Xe=yt,yt=null),typeof yt=="number"&&(He=yt,yt=null),ie={flags:yt,angle:He,align:Xe})):(A("The transform parameter of text() with a Matrix value"),Fn=de),isNaN(R)||isNaN(K)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return Kt;var w,T="",q=typeof ie.lineHeightFactor=="number"?ie.lineHeightFactor:Va,fe=Kt.internal.scaleFactor;function _e(rn){return rn=rn.split("	").join(Array(ie.TabLen||9).join(" ")),oi(rn,yt)}function Oe(rn){for(var yn,Xn=rn.concat(),dr=[],Ga=Xn.length;Ga--;)typeof(yn=Xn.shift())=="string"?dr.push(yn):Array.isArray(rn)&&(yn.length===1||yn[1]===void 0&&yn[2]===void 0)?dr.push(yn[0]):dr.push([yn[0],yn[1],yn[2]]);return dr}function vt(rn,yn){var Xn;if(typeof rn=="string")Xn=yn(rn)[0];else if(Array.isArray(rn)){for(var dr,Ga,Uh=rn.concat(),ac=[],Wf=Uh.length;Wf--;)typeof(dr=Uh.shift())=="string"?ac.push(yn(dr)[0]):Array.isArray(dr)&&typeof dr[0]=="string"&&(Ga=yn(dr[0],dr[1],dr[2]),ac.push([Ga[0],Ga[1],Ga[2]]));Xn=ac}return Xn}var mn=!1,Ut=!0;if(typeof g=="string")mn=!0;else if(Array.isArray(g)){var bn=g.concat();Ie=[];for(var hr,In=bn.length;In--;)(typeof(hr=bn.shift())!="string"||Array.isArray(hr)&&typeof hr[0]!="string")&&(Ut=!1);mn=Ut}if(mn===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Br=Pe/Kt.internal.scaleFactor,qr=Br*(q-1);switch(ie.baseline){case"bottom":K-=qr;break;case"top":K+=Br-qr;break;case"hanging":K+=Br-2*qr;break;case"middle":K+=Br/2-qr}if((gt=ie.maxWidth||0)>0&&(typeof g=="string"?g=Kt.splitTextToSize(g,gt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(rn,yn){return rn.concat(Kt.splitTextToSize(yn,gt))},[]))),xe={text:g,x:R,y:K,options:ie,mutex:{pdfEscape:oi,activeFontKey:Qe,fonts:xt,activeFontSize:Pe}},Gt.publish("preProcessText",xe),g=xe.text,He=(ie=xe.options).angle,Fn instanceof it==0&&He&&typeof He=="number"){He*=Math.PI/180,ie.rotationDirection===0&&(He=-He),F===k&&(He=-He);var aa=Math.cos(He),$a=Math.sin(He);Fn=new it(aa,$a,-$a,aa,0,0)}else He&&He instanceof it&&(Fn=He);F!==k||Fn||(Fn=Ls),(dt=ie.charSpace||fs)!==void 0&&(T+=b(P(dt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(wn=ie.horizontalScale)!==void 0&&(T+=b(100*wn)+` Tz
`),ie.lang;var fi=-1,Wa=ie.renderingMode!==void 0?ie.renderingMode:ie.stroke,ic=Kt.internal.getCurrentPageInfo().pageContext;switch(Wa){case 0:case!1:case"fill":fi=0;break;case 1:case!0:case"stroke":fi=1;break;case 2:case"fillThenStroke":fi=2;break;case 3:case"invisible":fi=3;break;case 4:case"fillAndAddForClipping":fi=4;break;case 5:case"strokeAndAddPathForClipping":fi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fi=6;break;case 7:case"addToPathForClipping":fi=7}var qf=ic.usedRenderingMode!==void 0?ic.usedRenderingMode:-1;fi!==-1?T+=fi+` Tr
`:qf!==-1&&(T+=`0 Tr
`),fi!==-1&&(ic.usedRenderingMode=fi),Xe=ie.align||"left";var gs,Xl=Pe*q,Dh=Kt.internal.pageSize.getWidth(),Oh=xt[Qe];dt=ie.charSpace||fs,gt=ie.maxWidth||0,yt=Object.assign({autoencode:!0,noBOM:!0},ie.flags);var Po=[],Jl=function(rn){return Kt.getStringUnitWidth(rn,{font:Oh,charSpace:dt,fontSize:Pe,doKerning:!1})*Pe/fe};if(Object.prototype.toString.call(g)==="[object Array]"){var Bi;Ie=Oe(g),Xe!=="left"&&(gs=Ie.map(Jl));var qi,Co=0;if(Xe==="right"){R-=gs[0],g=[],In=Ie.length;for(var Ha=0;Ha<In;Ha++)Ha===0?(qi=ci(R),Bi=hi(K)):(qi=P(Co-gs[Ha]),Bi=-Xl),g.push([Ie[Ha],qi,Bi]),Co=gs[Ha]}else if(Xe==="center"){R-=gs[0]/2,g=[],In=Ie.length;for(var Lo=0;Lo<In;Lo++)Lo===0?(qi=ci(R),Bi=hi(K)):(qi=P((Co-gs[Lo])/2),Bi=-Xl),g.push([Ie[Lo],qi,Bi]),Co=gs[Lo]}else if(Xe==="left"){g=[],In=Ie.length;for(var Mh=0;Mh<In;Mh++)g.push(Ie[Mh])}else if(Xe==="justify"&&Oh.encoding==="Identity-H"){g=[],In=Ie.length,gt=gt!==0?gt:Dh;for(var sc=0,Qn=0;Qn<In;Qn++)if(Bi=Qn===0?hi(K):-Xl,qi=Qn===0?ci(R):sc,Qn<In-1){var $f=P((gt-gs[Qn])/(Ie[Qn].split(" ").length-1)),oa=Ie[Qn].split(" ");g.push([oa[0]+" ",qi,Bi]),sc=0;for(var la=1;la<oa.length;la++){var jh=(Jl(oa[la-1]+" "+oa[la])-Jl(oa[la]))*fe+$f;la==oa.length-1?g.push([oa[la],jh,0]):g.push([oa[la]+" ",jh,0]),sc-=jh}}else g.push([Ie[Qn],qi,Bi]);g.push(["",sc,0])}else{if(Xe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],In=Ie.length,gt=gt!==0?gt:Dh,Qn=0;Qn<In;Qn++){Bi=Qn===0?hi(K):-Xl,qi=Qn===0?ci(R):0;var Fh=Ie[Qn].split(" ").length-1,Vh=Fh>0?(gt-gs[Qn])/Fh:0;Qn<In-1?Po.push(b(P(Vh))):Po.push(0),g.push([Ie[Qn],qi,Bi])}}}(typeof ie.R2L=="boolean"?ie.R2L:rt)===!0&&(g=vt(g,function(rn,yn,Xn){return[rn.split("").reverse().join(""),yn,Xn]})),xe={text:g,x:R,y:K,options:ie,mutex:{pdfEscape:oi,activeFontKey:Qe,fonts:xt,activeFontSize:Pe}},Gt.publish("postProcessText",xe),g=xe.text,w=xe.mutex.isHex||!1;var zh=xt[Qe].encoding;zh!=="WinAnsiEncoding"&&zh!=="StandardEncoding"||(g=vt(g,function(rn,yn,Xn){return[_e(rn),yn,Xn]})),Ie=Oe(g),g=[];for(var Ro,Do,Oo,Zl=Array.isArray(Ie[0])?1:0,Mo="",eu=function(rn,yn,Xn){var dr="";return Xn instanceof it?(Xn=typeof ie.angle=="number"?Cs(Xn,new it(1,0,0,1,rn,yn)):Cs(new it(1,0,0,1,rn,yn),Xn),F===k&&(Xn=Cs(new it(1,0,0,-1,0,0),Xn)),dr=Xn.join(" ")+` Tm
`):dr=b(rn)+" "+b(yn)+` Td
`,dr},ys=0;ys<Ie.length;ys++){switch(Mo="",Zl){case 1:Oo=(w?"<":"(")+Ie[ys][0]+(w?">":")"),Ro=parseFloat(Ie[ys][1]),Do=parseFloat(Ie[ys][2]);break;case 0:Oo=(w?"<":"(")+Ie[ys]+(w?">":")"),Ro=ci(R),Do=hi(K)}Po!==void 0&&Po[ys]!==void 0&&(Mo=Po[ys]+` Tw
`),ys===0?g.push(Mo+eu(Ro,Do,Fn)+Oo):Zl===0?g.push(Mo+Oo):Zl===1&&g.push(Mo+eu(Ro,Do,Fn)+Oo)}g=Zl===0?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var ua=`BT
/`;return ua+=Qe+" "+Pe+` Tf
`,ua+=b(Pe*q)+` TL
`,ua+=za+`
`,ua+=T,ua+=g,H(ua+="ET"),y[Qe]=!0,Kt};var Lh=p.__private__.clip=p.clip=function(g){return H(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Lh("evenodd")},p.__private__.discardPath=p.discardPath=function(){return H("n"),this};var cs=p.__private__.isValidStyle=function(g){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(R=!0),R};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return cs(g)&&(u=g),this};var Ku=p.__private__.getStyle=p.getStyle=function(g){var R=u;switch(g){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=g}return R},Yu=p.close=function(){return H("h"),this};p.stroke=function(){return H("S"),this},p.fill=function(g){return hs("f",g),this},p.fillEvenOdd=function(g){return hs("f*",g),this},p.fillStroke=function(g){return hs("B",g),this},p.fillStrokeEvenOdd=function(g){return hs("B*",g),this};var hs=function(g,R){en(R)==="object"?Xu(R,g):H(g)},ui=function(g){g===null||F===k&&g===void 0||(g=Ku(g),H(g))};function Qu(g,R,K,ie,de){var xe=new Rc(R||this.boundingBox,K||this.xStep,ie||this.yStep,this.gState,de||this.matrix);xe.stream=this.stream;var Ie=g+"$$"+this.cloneIndex+++"$$";return Ir(Ie,xe),xe}var Xu=function(g,R){var K=on[g.key],ie=Je[K];if(ie instanceof ou)H("q"),H(Ju(R)),ie.gState&&p.setGState(ie.gState),H(g.matrix.toString()+" cm"),H("/"+K+" sh"),H("Q");else if(ie instanceof Rc){var de=new it(1,0,0,-1,0,sa());g.matrix&&(de=de.multiply(g.matrix||Ls),K=Qu.call(ie,g.key,g.boundingBox,g.xStep,g.yStep,de).id),H("q"),H("/Pattern cs"),H("/"+K+" scn"),ie.gState&&p.setGState(ie.gState),H(R),H("Q")}},Ju=function(g){switch(g){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ko=p.moveTo=function(g,R){return H(b(P(g))+" "+b(Z(R))+" m"),this},$l=p.lineTo=function(g,R){return H(b(P(g))+" "+b(Z(R))+" l"),this},wr=p.curveTo=function(g,R,K,ie,de,xe){return H([b(P(g)),b(Z(R)),b(P(K)),b(Z(ie)),b(P(de)),b(Z(xe)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,R,K,ie,de){if(isNaN(g)||isNaN(R)||isNaN(K)||isNaN(ie)||!cs(de))throw new Error("Invalid arguments passed to jsPDF.line");return F===C?this.lines([[K-g,ie-R]],g,R,[1,1],de||"S"):this.lines([[K-g,ie-R]],g,R,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,R,K,ie,de,xe){var Ie,He,Xe,dt,gt,yt,wn,Fn,Kt,h,w,T;if(typeof g=="number"&&(T=K,K=R,R=g,g=T),ie=ie||[1,1],xe=xe||!1,isNaN(R)||isNaN(K)||!Array.isArray(g)||!Array.isArray(ie)||!cs(de)||typeof xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ko(R,K),Ie=ie[0],He=ie[1],dt=g.length,h=R,w=K,Xe=0;Xe<dt;Xe++)(gt=g[Xe]).length===2?(h=gt[0]*Ie+h,w=gt[1]*He+w,$l(h,w)):(yt=gt[0]*Ie+h,wn=gt[1]*He+w,Fn=gt[2]*Ie+h,Kt=gt[3]*He+w,h=gt[4]*Ie+h,w=gt[5]*He+w,wr(yt,wn,Fn,Kt,h,w));return xe&&Yu(),ui(de),this},p.path=function(g){for(var R=0;R<g.length;R++){var K=g[R],ie=K.c;switch(K.op){case"m":ko(ie[0],ie[1]);break;case"l":$l(ie[0],ie[1]);break;case"c":wr.apply(this,ie);break;case"h":Yu()}}return this},p.__private__.rect=p.rect=function(g,R,K,ie,de){if(isNaN(g)||isNaN(R)||isNaN(K)||isNaN(ie)||!cs(de))throw new Error("Invalid arguments passed to jsPDF.rect");return F===C&&(ie=-ie),H([b(P(g)),b(Z(R)),b(P(K)),b(P(ie)),"re"].join(" ")),ui(de),this},p.__private__.triangle=p.triangle=function(g,R,K,ie,de,xe,Ie){if(isNaN(g)||isNaN(R)||isNaN(K)||isNaN(ie)||isNaN(de)||isNaN(xe)||!cs(Ie))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[K-g,ie-R],[de-K,xe-ie],[g-de,R-xe]],g,R,[1,1],Ie,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,R,K,ie,de,xe,Ie){if(isNaN(g)||isNaN(R)||isNaN(K)||isNaN(ie)||isNaN(de)||isNaN(xe)||!cs(Ie))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var He=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*K),xe=Math.min(xe,.5*ie),this.lines([[K-2*de,0],[de*He,0,de,xe-xe*He,de,xe],[0,ie-2*xe],[0,xe*He,-de*He,xe,-de,xe],[2*de-K,0],[-de*He,0,-de,-xe*He,-de,-xe],[0,2*xe-ie],[0,-xe*He,de*He,-xe,de,-xe]],g+de,R,[1,1],Ie,!0),this},p.__private__.ellipse=p.ellipse=function(g,R,K,ie,de){if(isNaN(g)||isNaN(R)||isNaN(K)||isNaN(ie)||!cs(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xe=4/3*(Math.SQRT2-1)*K,Ie=4/3*(Math.SQRT2-1)*ie;return ko(g+K,R),wr(g+K,R-Ie,g+xe,R-ie,g,R-ie),wr(g-xe,R-ie,g-K,R-Ie,g-K,R),wr(g-K,R+Ie,g-xe,R+ie,g,R+ie),wr(g+xe,R+ie,g+K,R+Ie,g+K,R),ui(de),this},p.__private__.circle=p.circle=function(g,R,K,ie){if(isNaN(g)||isNaN(R)||isNaN(K)||!cs(ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,R,K,K,ie)},p.setFont=function(g,R,K){return K&&(R=j(R,K)),Qe=ql(g,R,{disableWarning:!1}),this};var Rh=p.__private__.getFont=p.getFont=function(){return xt[ql.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,R,K={};for(g in It)if(It.hasOwnProperty(g))for(R in K[g]=[],It[g])It[g].hasOwnProperty(R)&&K[g].push(R);return K},p.addFont=function(g,R,K,ie,de){var xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xe.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&xe.indexOf(arguments[3])==-1&&(K=j(K,ie)),Wu.call(this,g,R,K,de=de||"Identity-H")};var Va,Wl=t.lineWidth||.200025,ds=p.__private__.getLineWidth=p.getLineWidth=function(){return Wl},mt=p.__private__.setLineWidth=p.setLineWidth=function(g){return Wl=g,H(b(P(g))+" w"),this};p.__private__.setLineDash=st.API.setLineDash=st.API.setLineDashPattern=function(g,R){if(g=g||[],R=R||0,isNaN(R)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(K){return b(P(K))}).join(" "),R=b(P(R)),H("["+g+"] "+R+" d"),this};var Hl=p.__private__.getLineHeight=p.getLineHeight=function(){return Pe*Va};p.__private__.getLineHeight=p.getLineHeight=function(){return Pe*Va};var To=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(Va=g),this},Zu=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Va};To(t.lineHeight);var ci=p.__private__.getHorizontalCoordinate=function(g){return P(g)},hi=p.__private__.getVerticalCoordinate=function(g){return F===k?g:We[G].mediaBox.topRightY-We[G].mediaBox.bottomLeftY-P(g)},ec=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return b(ci(g))},Gl=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return b(hi(g))},ln=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Fi(ln)},p.__private__.setStrokeColor=p.setDrawColor=function(g,R,K,ie){return ln=ii({ch1:g,ch2:R,ch3:K,ch4:ie,pdfColorType:"draw",precision:2}),H(ln),this};var Kl=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Fi(Kl)},p.__private__.setFillColor=p.setFillColor=function(g,R,K,ie){return Kl=ii({ch1:g,ch2:R,ch3:K,ch4:ie,pdfColorType:"fill",precision:2}),H(Kl),this};var za=t.textColor||"0 g",tc=p.__private__.getTextColor=p.getTextColor=function(){return Fi(za)};p.__private__.setTextColor=p.setTextColor=function(g,R,K,ie){return za=ii({ch1:g,ch2:R,ch3:K,ch4:ie,pdfColorType:"text",precision:3}),this};var fs=t.charSpace,nc=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(fs||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fs=g,this};var ia=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var R=p.CapJoinStyles[g];if(R===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ia=R,H(R+" J"),this};var Ei=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var R=p.CapJoinStyles[g];if(R===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ei=R,H(R+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(b(P(g))+" M"),this},p.GState=pm,p.setGState=function(g){(g=typeof g=="string"?ut[wt[g]]:Yl(null,g)).equals(tn)||(H("/"+g.id+" gs"),tn=g)};var Yl=function(g,R){if(!g||!wt[g]){var K=!1;for(var ie in ut)if(ut.hasOwnProperty(ie)&&ut[ie].equals(R)){K=!0;break}if(K)R=ut[ie];else{var de="GS"+(Object.keys(ut).length+1).toString(10);ut[de]=R,R.id=de}return g&&(wt[g]=R.id),Gt.publish("addGState",R),R}};p.addGState=function(g,R){return Yl(g,R),this},p.saveGraphicsState=function(){return H("q"),pn.push({key:Qe,size:Pe,color:za}),this},p.restoreGraphicsState=function(){H("Q");var g=pn.pop();return Qe=g.key,Pe=g.size,za=g.color,tn=null,this},p.setCurrentTransformationMatrix=function(g){return H(g.toString()+" cm"),this},p.comment=function(g){return H("#"+g),this};var Ds=function(g,R){var K=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return K},set:function(xe){isNaN(xe)||(K=parseFloat(xe))}});var ie=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ie},set:function(xe){isNaN(xe)||(ie=parseFloat(xe))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(xe){de=xe.toString()}}),this},Os=function(g,R,K,ie){Ds.call(this,g,R),this.type="rect";var de=K||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(Ie){isNaN(Ie)||(de=parseFloat(Ie))}});var xe=ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xe},set:function(Ie){isNaN(Ie)||(xe=parseFloat(Ie))}}),this},Ua=function(){this.page=Pt,this.currentPage=G,this.pages=Ce.slice(0),this.pagesContext=We.slice(0),this.x=tt,this.y=Dn,this.matrix=jt,this.width=Io(G),this.height=rc(G),this.outputDestination=Re,this.id="",this.objectNumber=-1};Ua.prototype.restore=function(){Pt=this.page,G=this.currentPage,We=this.pagesContext,Ce=this.pages,tt=this.x,Dn=this.y,jt=this.matrix,qa(G,this.width),ms(G,this.height),Re=this.outputDestination};var Ba=function(g,R,K,ie,de){ls.push(new Ua),Pt=G=0,Ce=[],tt=g,Dn=R,jt=de,Eo([K,ie])};for(var ps in p.beginFormObject=function(g,R,K,ie,de){return Ba(g,R,K,ie,de),this},p.endFormObject=function(g){return function(R){if(Ps[R])ls.pop().restore();else{var K=new Ua,ie="Xo"+(Object.keys($n).length+1).toString(10);K.id=ie,Ps[R]=ie,$n[ie]=K,Gt.publish("addFormObject",K),ls.pop().restore()}}(g),this},p.doFormObject=function(g,R){var K=$n[Ps[g]];return H("q"),H(R.toString()+" cm"),H("/"+K.id+" Do"),H("Q"),this},p.getFormObject=function(g){var R=$n[Ps[g]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},p.save=function(g,R){return g=g||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(au(ra(Ur()),g),typeof au.unload=="function"&&_t.setTimeout&&setTimeout(au.unload,911),this):new Promise(function(K,ie){try{var de=au(ra(Ur()),g);typeof au.unload=="function"&&_t.setTimeout&&setTimeout(au.unload,911),K(de)}catch(xe){ie(xe.message)}})},st.API)st.API.hasOwnProperty(ps)&&(ps==="events"&&st.API.events.length?function(g,R){var K,ie,de;for(de=R.length-1;de!==-1;de--)K=R[de][0],ie=R[de][1],g.subscribe.apply(g,[K].concat(typeof ie=="function"?[ie]:ie))}(Gt,st.API.events):p[ps]=st.API[ps]);function Io(g){return We[g].mediaBox.topRightX-We[g].mediaBox.bottomLeftX}function qa(g,R){We[g].mediaBox.topRightX=R+We[g].mediaBox.bottomLeftX}function rc(g){return We[g].mediaBox.topRightY-We[g].mediaBox.bottomLeftY}function ms(g,R){We[g].mediaBox.topRightY=R+We[g].mediaBox.bottomLeftY}var di=p.getPageWidth=function(g){return Io(g=g||G)/At},Ql=p.setPageWidth=function(g,R){qa(g,R*At)},sa=p.getPageHeight=function(g){return rc(g=g||G)/At},No=p.setPageHeight=function(g,R){ms(g,R*At)};return p.internal={pdfEscape:oi,getStyle:Ku,getFont:Rh,getFontSize:Ve,getCharSpace:nc,getTextColor:tc,getLineHeight:Hl,getLineHeightFactor:Zu,getLineWidth:ds,write:Fe,getHorizontalCoordinate:ci,getVerticalCoordinate:hi,getCoordinateString:ec,getVerticalCoordinateString:Gl,collections:{},newObject:kn,newAdditionalObject:Ra,newObjectDeferred:Wn,newObjectDeferredBegin:jn,getFilters:si,putStream:ai,events:Gt,scaleFactor:At,pageSize:{getWidth:function(){return di(G)},setWidth:function(g){Ql(G,g)},getHeight:function(){return sa(G)},setHeight:function(g){No(G,g)}},encryptionOptions:d,encryption:Tn,getEncryptor:function(g){return d!==null?Tn.encryptor(g,0):function(R){return R}},output:nn,getNumberOfPages:Bl,get pages(){return Ce},out:H,f2:x,f3:I,getPageInfo:li,getPageInfoByObjId:Hu,getCurrentPageInfo:Gu,getPDFVersion:L,Point:Ds,Rectangle:Os,Matrix:it,hasHotfix:Pr},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return di(G)},set:function(g){Ql(G,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return sa(G)},set:function(g){No(G,g)},enumerable:!0,configurable:!0}),(function(g){for(var R=0,K=ot.length;R<K;R++){var ie=Wu.call(this,g[R][0],g[R][1],g[R][2],ot[R][3],!0);m===!1&&(y[ie]=!0);var de=g[R][0].split("-");xo({id:ie,fontName:de[0],fontStyle:de[1]||""})}Gt.publish("addFonts",{fonts:xt,dictionary:It})}).call(p,ot),Qe="F1",Ul(i,n),Gt.publish("initialized"),p}vc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},vc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},vc.prototype.processOwnerPassword=function(t,e){return _y(vy(e).substr(0,5),t)},vc.prototype.encryptor=function(t,e){var n=vy(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return _y(n,r)}},pm.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||en(t)!==en(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},st.API={events:[]},st.version="4.1.0";var Kn=st.API,v5=1,$u=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mm=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var n=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},kt=function(t){return t.toFixed(2)},Go=function(t){return t.toFixed(5)};Kn.__acroform__={};var Mi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},l3=function(t){return t*v5},da=function(t){var e=new T6,n=Ye.internal.getHeight(t)||0,r=Ye.internal.getWidth(t)||0;return e.BBox=[0,0,Number(kt(r)),Number(kt(n))],e},Kz=Kn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Yz=Kn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Qz=Kn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},nr=Kn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Qz(t,e-1)},rr=Kn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Kz(t,e-1)},ir=Kn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Yz(t,e-1)},Xz=Kn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(kt(l.lowerLeft_X)),Number(kt(l.lowerLeft_Y)),Number(kt(l.upperRight_X)),Number(kt(l.upperRight_Y))]},Jz=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=wy(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+kt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=da(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},wy=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(x){return x.split(`
`)}):i.map(function(x){return[x]});var s=n,a=Ye.internal.getHeight(t)||0;a=a<0?-a:a;var o=Ye.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(x,I,P){if(x+1<i.length){var Z=I+" "+i[x+1][0];return Vp(Z,t,P).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,d,m=Vp("3",t,s).height,y=t.multiline?a-s:(a-m)/2,p=y+=2,N=0,L=0,V=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Vp(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var E="",C=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var F=!1;if(i[k].length!==1&&V!==i[k].length-1){if((m+2)*(C+2)+2>a)continue e;E+=i[k][V],F=!0,L=k,k--}else{E=(E+=i[k][V]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var J=parseInt(k),ne=l(J,E,s),j=k>=i.length-1;if(ne&&!j){E+=" ",V=0;continue}if(ne||j){if(j)L=J;else if(t.multiline&&(m+2)*(C+2)+2>a)continue e}else{if(!t.multiline||(m+2)*(C+2)+2>a)continue e;L=J}}for(var b="",A=N;A<=L;A++){var D=i[A];if(t.multiline){if(A===L){b+=D[V]+" ",V=(V+1)%D.length;continue}if(A===N){b+=D[D.length-1]+" ";continue}}b+=D[0]+" "}switch(b=b.substr(b.length-1)==" "?b.substr(0,b.length-1):b,d=Vp(b,t,s).width,t.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;default:u=2}e+=kt(u)+" "+kt(p)+` Td
`,e+="("+$u(b)+`) Tj
`,e+=-kt(u)+` 0 Td
`,p=-(s+2),d=0,N=F?L:L+1,C++,E=""}break}return r.text=e,r.fontSize=s,r},Vp=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Zz={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},eU=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},tU=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Zs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Zz)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");v5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new I6,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&eU(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=Xz(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ye.createDefaultAppearanceStream(o),en(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=Jz(o);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var m="";for(var y in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(y)){var p=o.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var N=p[a];typeof N=="function"&&(N=N.call(i,o)),m+="/"+a+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=p)=="function"&&(N=N.call(i,o)),m+="/"+a+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(L,V){for(var E in L)if(L.hasOwnProperty(E)){var C=E,k=L[E];V.internal.newObjectDeferredBegin(k.objId,!0),en(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete L[C]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},k6=Kn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),en(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)==="/"?i+="/"+mm(t[s].substr(1)):(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+$u(r(t[s].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},D0=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+$u(r(t))+")"},ba=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ba.prototype.toString=function(){return this.objId+" 0 R"},ba.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ba.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:k6(i,this.objId,this.scope)}):i instanceof ba?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var T6=function(){ba.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Mi(T6,ba);var I6=function(){ba.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+$u(n(t))+")"}},set:function(n){t=n}})};Mi(I6,ba);var Zs=function t(){ba.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!nr(e,3)},set:function(E){E?this.F=rr(e,3):this.F=ir(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');n=E}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(E){r=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(E){r[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(E){r[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(E){r[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(E){r[3]=E}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof gm)return;s="FieldObject"+t.FieldNum++}var E=function(C){return C};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+$u(E(s))+")"},set:function(E){s=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(E){s=E}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(E){a=E}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(E){o=E}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(E){l=E}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/v5:u},set:function(E){u=E}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(E){d=E}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof gm||this instanceof _u))return D0(m,this.objId,this.scope)},set:function(E){E=E.toString(),m=E}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Sr==0?D0(y,this.objId,this.scope):y},set:function(E){E=E.toString(),y=this instanceof Sr==0?E.substr(0,1)==="("?dc(E.substr(1,E.length-2)):dc(E):E}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sr==1?dc(y.substr(1,y.length-1)):y},set:function(E){E=E.toString(),y=this instanceof Sr==1?"/"+mm(E):E}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Sr==0?D0(p,this.objId,this.scope):p},set:function(E){E=E.toString(),p=this instanceof Sr==0?E.substr(0,1)==="("?dc(E.substr(1,E.length-2)):dc(E):E}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sr==1?dc(p.substr(1,p.length-1)):p},set:function(E){E=E.toString(),p=this instanceof Sr==1?"/"+mm(E):E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(E){E=!!E,L=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(E){N=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,1)},set:function(E){E?this.Ff=rr(this.Ff,1):this.Ff=ir(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,2)},set:function(E){E?this.Ff=rr(this.Ff,2):this.Ff=ir(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,3)},set:function(E){E?this.Ff=rr(this.Ff,3):this.Ff=ir(this.Ff,3)}});var V=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(V!==null)return V},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');V=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(V){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:V=2;break;case"center":case 1:V=1;break;default:V=0}}})};Mi(Zs,ba);var Yc=function(){Zs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return k6(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,18)},set:function(n){n?this.Ff=rr(this.Ff,18):this.Ff=ir(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=rr(this.Ff,19):this.Ff=ir(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,20)},set:function(n){n?(this.Ff=rr(this.Ff,20),e.sort()):this.Ff=ir(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,22)},set:function(n){n?this.Ff=rr(this.Ff,22):this.Ff=ir(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,23)},set:function(n){n?this.Ff=rr(this.Ff,23):this.Ff=ir(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,27)},set:function(n){n?this.Ff=rr(this.Ff,27):this.Ff=ir(this.Ff,27)}}),this.hasAppearanceStream=!1};Mi(Yc,Zs);var Qc=function(){Yc.call(this),this.fontName="helvetica",this.combo=!1};Mi(Qc,Yc);var Xc=function(){Qc.call(this),this.combo=!0};Mi(Xc,Qc);var d1=function(){Xc.call(this),this.edit=!0};Mi(d1,Xc);var Sr=function(){Zs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,15)},set:function(n){n?this.Ff=rr(this.Ff,15):this.Ff=ir(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,16)},set:function(n){n?this.Ff=rr(this.Ff,16):this.Ff=ir(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,17)},set:function(n){n?this.Ff=rr(this.Ff,17):this.Ff=ir(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,26)},set:function(n){n?this.Ff=rr(this.Ff,26):this.Ff=ir(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+$u(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){en(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+mm(n)}})};Mi(Sr,Zs);var f1=function(){Sr.call(this),this.pushButton=!0};Mi(f1,Sr);var Jc=function(){Sr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Mi(Jc,Sr);var gm=function(){var t,e;Zs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+$u(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){en(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ye.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Mi(gm,Zs),Jc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Jc.prototype.createOption=function(t){var e=new gm;return e.Parent=this,e.optionName=t,this.Kids.push(e),nU.call(this.scope,e),e};var p1=function(){Sr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ye.CheckBox.createAppearanceStream()};Mi(p1,Sr);var _u=function(){Zs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,13)},set:function(e){e?this.Ff=rr(this.Ff,13):this.Ff=ir(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,21)},set:function(e){e?this.Ff=rr(this.Ff,21):this.Ff=ir(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,23)},set:function(e){e?this.Ff=rr(this.Ff,23):this.Ff=ir(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,24)},set:function(e){e?this.Ff=rr(this.Ff,24):this.Ff=ir(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,25)},set:function(e){e?this.Ff=rr(this.Ff,25):this.Ff=ir(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,26)},set:function(e){e?this.Ff=rr(this.Ff,26):this.Ff=ir(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Mi(_u,Zs);var m1=function(){_u.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,14)},set:function(t){t?this.Ff=rr(this.Ff,14):this.Ff=ir(this.Ff,14)}}),this.password=!0};Mi(m1,_u);var Ye={CheckBox:{createAppearanceStream:function(){return{N:{On:Ye.CheckBox.YesNormal},D:{On:Ye.CheckBox.YesPushDown,Off:Ye.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=da(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=wy(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+kt(Ye.internal.getWidth(t))+" "+kt(Ye.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+kt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=da(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ye.internal.getHeight(t),a=Ye.internal.getWidth(t),o=wy(t,t.caption);return i.push("1 g"),i.push("0 0 "+kt(a)+" "+kt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+kt(a-1)+" "+kt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+kt(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=da(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kt(Ye.internal.getWidth(t))+" "+kt(Ye.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ye.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ye.RadioButton.Circle.YesNormal,e.D[t]=Ye.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=da(t);e.scope=t.scope;var n=[],r=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ye.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Go(Ye.internal.getWidth(t)/2)+" "+Go(Ye.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=da(t);e.scope=t.scope;var n=[],r=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ye.internal.Bezier_C).toFixed(5)),a=Number((r*Ye.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Go(Ye.internal.getWidth(t)/2)+" "+Go(Ye.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Go(Ye.internal.getWidth(t)/2)+" "+Go(Ye.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=da(t);e.scope=t.scope;var n=[],r=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ye.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Go(Ye.internal.getWidth(t)/2)+" "+Go(Ye.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ye.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ye.RadioButton.Cross.YesNormal,e.D[t]=Ye.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=da(t);e.scope=t.scope;var n=[],r=Ye.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+kt(Ye.internal.getWidth(t)-2)+" "+kt(Ye.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(kt(r.x1.x)+" "+kt(r.x1.y)+" m"),n.push(kt(r.x2.x)+" "+kt(r.x2.y)+" l"),n.push(kt(r.x4.x)+" "+kt(r.x4.y)+" m"),n.push(kt(r.x3.x)+" "+kt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=da(t);e.scope=t.scope;var n=Ye.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+kt(Ye.internal.getWidth(t))+" "+kt(Ye.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+kt(Ye.internal.getWidth(t)-2)+" "+kt(Ye.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(kt(n.x1.x)+" "+kt(n.x1.y)+" m"),r.push(kt(n.x2.x)+" "+kt(n.x2.y)+" l"),r.push(kt(n.x4.x)+" "+kt(n.x4.y)+" m"),r.push(kt(n.x3.x)+" "+kt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=da(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kt(Ye.internal.getWidth(t))+" "+kt(Ye.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ye.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ye.internal.getWidth(t),n=Ye.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ye.internal.getWidth=function(t){var e=0;return en(t)==="object"&&(e=l3(t.Rect[2])),e},Ye.internal.getHeight=function(t){var e=0;return en(t)==="object"&&(e=l3(t.Rect[3])),e};var nU=Kn.addField=function(t){if(tU(this,t),!(t instanceof Zs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Kn.AcroFormChoiceField=Yc,Kn.AcroFormListBox=Qc,Kn.AcroFormComboBox=Xc,Kn.AcroFormEditBox=d1,Kn.AcroFormButton=Sr,Kn.AcroFormPushButton=f1,Kn.AcroFormRadioButton=Jc,Kn.AcroFormCheckBox=p1,Kn.AcroFormTextField=_u,Kn.AcroFormPasswordField=m1,Kn.AcroFormAppearance=Ye,Kn.AcroForm={ChoiceField:Yc,ListBox:Qc,ComboBox:Xc,EditBox:d1,Button:Sr,PushButton:f1,RadioButton:Jc,CheckBox:p1,TextField:_u,PasswordField:m1,Appearance:Ye},st.AcroForm={ChoiceField:Yc,ListBox:Qc,ComboBox:Xc,EditBox:d1,Button:Sr,PushButton:f1,RadioButton:Jc,CheckBox:p1,TextField:_u,PasswordField:m1,Appearance:Ye};function N6(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(x,I){var P,Z,ue,we,ae,ee=n;if((I=I||n)==="RGBA"||x.data!==void 0&&x.data instanceof Uint8ClampedArray&&"height"in x&&"width"in x)return"RGBA";if(ne(x))for(ae in r)for(ue=r[ae],P=0;P<ue.length;P+=1){for(we=!0,Z=0;Z<ue[P].length;Z+=1)if(ue[P][Z]!==void 0&&ue[P][Z]!==x[Z]){we=!1;break}if(we===!0){ee=ae;break}}else for(ae in r)for(ue=r[ae],P=0;P<ue.length;P+=1){for(we=!0,Z=0;Z<ue[P].length;Z+=1)if(ue[P][Z]!==void 0&&ue[P][Z]!==x.charCodeAt(Z)){we=!1;break}if(we===!0){ee=ae;break}}return ee===n&&I!==n&&(ee=I),ee},s=function x(I){for(var P=this.internal.write,Z=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var we=[];if(we.push({key:"Type",value:"/XObject"}),we.push({key:"Subtype",value:"/Image"}),we.push({key:"Width",value:I.width}),we.push({key:"Height",value:I.height}),I.colorSpace===E.INDEXED?we.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(we.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===E.DEVICE_CMYK&&we.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),we.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&we.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var ae="",ee=0,X=I.transparency.length;ee<X;ee++)ae+=I.transparency[ee]+" "+I.transparency[ee]+" ";we.push({key:"Mask",value:"["+ae+"]"})}I.sMask!==void 0&&we.push({key:"SMask",value:I.objectId+1+" 0 R"});var he=I.filter!==void 0?["/"+I.filter]:void 0;if(Z({data:I.data,additionalKeyValues:we,alreadyAppliedFilters:he,objectId:I.objectId}),P("endobj"),"sMask"in I&&I.sMask!==void 0){var pe,M=(pe=I.sMaskBitsPerComponent)!==null&&pe!==void 0?pe:I.bitsPerComponent,G={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:I.sMask};"filter"in I&&(G.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(I.width),G.filter=I.filter),x.call(this,G)}if(I.colorSpace===E.INDEXED){var te=this.internal.newObject();Z({data:b(new Uint8Array(I.palette)),objectId:te}),P("endobj")}},a=function(){var x=this.internal.collections[e+"images"];for(var I in x)s.call(this,x[I])},o=function(){var x,I=this.internal.collections[e+"images"],P=this.internal.write;for(var Z in I)P("/I"+(x=I[Z]).index,x.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var x=this.internal.collections[e+"images"];return l.call(this),x},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(x){return typeof t["process"+x.toUpperCase()]=="function"},y=function(x){return en(x)==="object"&&x.nodeType===1},p=function(x,I){if(x.nodeName==="IMG"&&x.hasAttribute("src")){var P=""+x.getAttribute("src");if(P.indexOf("data:image/")===0)return h1(unescape(P).split("base64,").pop());var Z=t.loadFile(P,!0);if(Z!==void 0)return Z}if(x.nodeName==="CANVAS"){if(x.width===0||x.height===0)throw new Error("Given canvas must have data. Canvas width: "+x.width+", height: "+x.height);var ue;switch(I){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return h1(x.toDataURL(ue,1).split("base64,").pop())}},N=function(x){var I=this.internal.collections[e+"images"];if(I){for(var P in I)if(x===I[P].alias)return I[P]}},L=function(x,I,P){return x||I||(x=-96,I=-96),x<0&&(x=-1*P.width*72/x/this.internal.scaleFactor),I<0&&(I=-1*P.height*72/I/this.internal.scaleFactor),x===0&&(x=I*P.width/P.height),I===0&&(I=x*P.height/P.width),[x,I]},V=function(x,I,P,Z,ue,we){var ae=L.call(this,P,Z,ue),ee=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,he=u.call(this);if(P=ae[0],Z=ae[1],he[ue.index]=ue,we){we*=Math.PI/180;var pe=Math.cos(we),M=Math.sin(we),G=function(re){return re.toFixed(4)},te=[G(pe),G(M),G(-1*M),G(pe),0,0,"cm"]}this.internal.write("q"),we?(this.internal.write([1,"0","0",1,ee(x),X(I+Z),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([ee(P),"0","0",ee(Z),"0","0","cm"].join(" "))):this.internal.write([ee(P),"0","0",ee(Z),ee(x),X(I+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},E=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=t.__addimage__.sHashCode=function(x){var I,P,Z=0;if(typeof x=="string")for(P=x.length,I=0;I<P;I++)Z=(Z<<5)-Z+x.charCodeAt(I),Z|=0;else if(ne(x))for(P=x.byteLength/2,I=0;I<P;I++)Z=(Z<<5)-Z+x[I],Z|=0;return Z},F=t.__addimage__.validateStringAsBase64=function(x){(x=x||"").toString().trim();var I=!0;return x.length===0&&(I=!1),x.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(x.substr(0,x.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(x.substr(-2))===!1&&(I=!1),I},J=t.__addimage__.extractImageFromDataUrl=function(x){if(x==null||!(x=x.trim()).startsWith("data:"))return null;var I=x.indexOf(",");return I<0?null:x.substring(0,I).trim().endsWith("base64")?x.substring(I+1):null};t.__addimage__.isArrayBuffer=function(x){return x instanceof ArrayBuffer};var ne=t.__addimage__.isArrayBufferView=function(x){return x instanceof Int8Array||x instanceof Uint8Array||x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array},j=t.__addimage__.binaryStringToUint8Array=function(x){for(var I=x.length,P=new Uint8Array(I),Z=0;Z<I;Z++)P[Z]=x.charCodeAt(Z);return P},b=t.__addimage__.arrayBufferToBinaryString=function(x){for(var I="",P=ne(x)?x:new Uint8Array(x),Z=0;Z<P.length;Z+=8192)I+=String.fromCharCode.apply(null,P.subarray(Z,Z+8192));return I};t.addImage=function(){var x,I,P,Z,ue,we,ae,ee,X;if(typeof arguments[1]=="number"?(I=n,P=arguments[1],Z=arguments[2],ue=arguments[3],we=arguments[4],ae=arguments[5],ee=arguments[6],X=arguments[7]):(I=arguments[1],P=arguments[2],Z=arguments[3],ue=arguments[4],we=arguments[5],ae=arguments[6],ee=arguments[7],X=arguments[8]),en(x=arguments[0])==="object"&&!y(x)&&"imageData"in x){var he=x;x=he.imageData,I=he.format||I||n,P=he.x||P||0,Z=he.y||Z||0,ue=he.w||he.width||ue,we=he.h||he.height||we,ae=he.alias||ae,ee=he.compression||ee,X=he.rotation||he.angle||X}var pe=this.internal.getFilters();if(ee===void 0&&pe.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(P)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=A.call(this,x,I,ae,ee);return V.call(this,P,Z,ue,we,M,X),this};var A=function(x,I,P,Z){var ue,we,ae;if(typeof x=="string"&&i(x)===n){x=unescape(x);var ee=D(x,!1);(ee!==""||(ee=t.loadFile(x,!0))!==void 0)&&(x=ee)}if(y(x)&&(x=p(x,I)),I=i(x,I),!m(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((ae=P)==null||ae.length===0)&&(P=function(X){return typeof X=="string"||ne(X)?k(X):ne(X.data)?k(X.data):null}(x)),(ue=N.call(this,P))||(x instanceof Uint8Array||I==="RGBA"||(we=x,x=j(x)),ue=this["process"+I.toUpperCase()](x,d.call(this),P,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in t.image_compression?X:C.NONE}(Z),we)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},D=t.__addimage__.convertBase64ToBinaryString=function(x,I){I=typeof I!="boolean"||I;var P,Z="";if(typeof x=="string"){var ue;P=(ue=J(x))!==null&&ue!==void 0?ue:x;try{Z=h1(P)}catch(we){if(I)throw F(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+we.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Z};t.getImageProperties=function(x){var I,P,Z="";if(y(x)&&(x=p(x)),typeof x=="string"&&i(x)===n&&((Z=D(x,!1))===""&&(Z=t.loadFile(x)||""),x=Z),P=i(x),!m(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(x instanceof Uint8Array||(x=j(x)),!(I=this["process"+P.toUpperCase()](x)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=P,I}})(st.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};st.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,m=0;m<u.length&&!d;m++)switch((r=u[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var y=0;y<u.length;y++){r=u[y];var p=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),V=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(L.objId),C=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+p(E(r.contents))+")",s+=" /Popup "+V.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(E(C))+") >>",L.content=s;var k=L.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+k,r.open&&(s+=" /Open true"),s+=" >>",V.content=s,this.internal.write(L.objId,"0 R",V.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(N(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var J=this.annotations._nameMap[r.options.name];r.options.pageNumber=J.page,r.options.top=J.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var ne=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ne+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(n,o).length;a=Math.ceil(u*d)}else o=l,a=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,o,a,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(st.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(L){return e[L.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(L){return typeof L=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},o=t.__arabicParser__.isArabicEndLetter=function(L){return a(L)&&s(L)&&e[L.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(L){return a(L)&&i.indexOf(L.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return a(L)&&s(L)&&e[L.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(L){return a(L)&&s(L)&&e[L.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(L){return a(L)&&s(L)&&e[L.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(L){return a(L)&&s(L)&&e[L.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(L){var V=0,E=n,C="",k=0;for(V=0;V<L.length;V+=1)E[L.charCodeAt(V)]!==void 0?(k++,typeof(E=E[L.charCodeAt(V)])=="number"&&(C+=String.fromCharCode(E),E=n,k=0),V===L.length-1&&(E=n,C+=L.charAt(V-(k-1)),V-=k-1,k=0)):(E=n,C+=L.charAt(V-k),V-=k,k=0);return C};t.__arabicParser__.isArabicDiacritic=function(L){return L!==void 0&&r[L.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(L,V,E){return a(L)?s(L)===!1?-1:!u(L)||!a(V)&&!a(E)||!a(E)&&o(V)||o(L)&&!a(V)||o(L)&&l(V)||o(L)&&o(V)?0:d(L)&&a(V)&&!o(V)&&a(E)&&u(E)?3:o(L)||!a(E)?1:2:-1},p=function(L){var V=0,E=0,C=0,k="",F="",J="",ne=(L=L||"").split("\\s+"),j=[];for(V=0;V<ne.length;V+=1){for(j.push(""),E=0;E<ne[V].length;E+=1)k=ne[V][E],F=ne[V][E-1],J=ne[V][E+1],a(k)?(C=y(k,F,J),j[V]+=C!==-1?String.fromCharCode(e[k.charCodeAt(0)][C]):k):j[V]+=k;j[V]=m(j[V])}return j.join(" ")},N=t.__arabicParser__.processArabic=t.processArabic=function(){var L,V=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(V)){var C=0;for(E=[],C=0;C<V.length;C+=1)Array.isArray(V[C])?E.push([p(V[C][0]),V[C][1],V[C][2]]):E.push([p(V[C])]);L=E}else L=p(V);return typeof arguments[0]=="string"?L:(arguments[0].text=L,arguments[0])};t.events.push(["preProcessText",N])}(st.API),st.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(st.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(L){l=L}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(L){u=L}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(L){d=L}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(L){m=L}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(L){y=L}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(L){p=L}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(L){N=L}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),y=u.scaleFactor||this.internal.scaleFactor,p=0,N=0,L=0,V=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var E=u.maxWidth;E>0?typeof l=="string"?l=this.splitTextToSize(l,E):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(k,F){return k.concat(V.splitTextToSize(F,E))},[])):l=Array.isArray(l)?l:[l];for(var C=0;C<l.length;C++)p<(L=this.getStringUnitWidth(l[C],{font:m})*d)&&(p=L);return p!==0&&(N=l.length),{w:p/=y,h:Math.max((N*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,p&&y&&(this.printHeaderRow(l.lineNumber,!0),l.y+=y[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,d,m,y){if(r.call(this),!d)throw new Error("No data for PDF table.");var p,N,L,V,E=[],C=[],k=[],F={},J={},ne=[],j=[],b=(y=y||{}).autoSize||!1,A=y.printHeaders!==!1,D=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,x=y.margins||Object.assign({width:this.getPageWidth()},e),I=typeof y.padding=="number"?y.padding:3,P=y.headerBackgroundColor||"#c8c8c8",Z=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=A,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=Z,this.setFontSize(D),m==null)C=E=Object.keys(d[0]),k=E.map(function(){return"left"});else if(Array.isArray(m)&&en(m[0])==="object")for(E=m.map(function(he){return he.name}),C=m.map(function(he){return he.prompt||he.name||""}),k=m.map(function(he){return he.align||"left"}),p=0;p<m.length;p+=1)J[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(C=E=m,k=E.map(function(){return"left"}));if(b||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<E.length;p+=1){for(F[V=E[p]]=d.map(function(he){return he[V]}),this.setFont(void 0,"bold"),ne.push(this.getTextDimensions(C[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=F[V],this.setFont(void 0,"normal"),L=0;L<N.length;L+=1)ne.push(this.getTextDimensions(N[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);J[V]=Math.max.apply(null,ne)+I+I,ne=[]}if(A){var ue={};for(p=0;p<E.length;p+=1)ue[E[p]]={},ue[E[p]].text=C[p],ue[E[p]].align=k[p];var we=o.call(this,ue,J);j=E.map(function(he){return new s(l,u,J[he],we,ue[he].text,void 0,ue[he].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var ae=m.reduce(function(he,pe){return he[pe.name]=pe.align,he},{});for(p=0;p<d.length;p+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:p,data:d[p]},this);var ee=o.call(this,d[p],J);for(L=0;L<E.length;L+=1){var X=d[p][E[L]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:p,col:L,data:X},this),a.call(this,new s(l,u,J[E[L]],ee,X,p+2,ae[E[L]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var d=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(l).map(function(p){var N=l[p];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/y+d+d},this).reduce(function(p,N){return Math.max(p,N)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,y.push(d)),d.lineNumber=l;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(N)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}}(st.API);var P6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},C6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],by=N6(C6),L6=[100,200,300,400,500,600,700,800,900],rU=N6(L6);function O0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return P6[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof by[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function u3(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var iU={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},c3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function h3(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function d3(t){return t.trimLeft()}function sU(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function aU(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var fc,zp,f3,p3,m3,M0=["times"];function g3(t,e,n,r,i){var s=4,a=v3;switch(i){case st.API.image_compression.FAST:s=1,a=y3;break;case st.API.image_compression.MEDIUM:s=6,a=_3;break;case st.API.image_compression.SLOW:s=9,a=w3}t=function(l,u,d,m){for(var y,p=l.length/u,N=new Uint8Array(l.length+p),L=[oU,y3,v3,_3,w3],V=0;V<p;V+=1){var E=V*u,C=l.subarray(E,E+u);if(m)N.set(m(C,d,y),E+V);else{for(var k=L.length,F=[],J=0;J<k;J+=1)F[J]=L[J](C,d,y);var ne=uU(F.concat());N.set(F[ne],E+V)}y=C}return N}(t,e,Math.ceil(n*r/8),a);var o=ly(t,{level:s});return st.API.__addimage__.arrayBufferToBinaryString(o)}function oU(t){var e=Array.apply([],t);return e.unshift(0),e}function y3(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function v3(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=n&&n[s]||0;i[s+1]=t[s]-a+256&255}return i}function _3(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=t[s-e]||0,o=n&&n[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function w3(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=lU(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function lU(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function uU(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function j0(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),a=(1<<n)-1;return R6(t,i)>>s&a}function b3(t,e,n,r){var i=n*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,l=(e&o)<<a;(function(u,d,m){if(d+1<u.byteLength)u.setUint16(d,m,!1);else{var y=m>>8&255;u.setUint8(d,y)}})(t,s,R6(t,s)&~(o<<a)&65535|l)}function R6(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function cU(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,d=[],m=0,y=null,p=0,N=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,N=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var L=t[e++];m=t[e++]|t[e++]<<8,y=t[e++],1&L||(y=null),p=L>>2&7,e++;break;case 254:for(;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var V=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,F=t[e++],J=F>>6&1,ne=1<<1+(7&F),j=o,b=l,A=!1;F>>7&&(A=!0,j=e,b=ne,e+=3*ne);var D=e;for(e++;;){var x;if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}d.push({x:V,y:E,width:C,height:k,has_local_palette:A,palette_offset:j,palette_size:b,data_offset:D,data_length:e-D,transparent_index:y,interlaced:!!J,delay:m,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return N},this.frameInfo=function(I){if(I<0||I>=d.length)throw new Error("Frame index out of range.");return d[I]},this.decodeAndBlitFrameBGRA=function(I,P){var Z=this.frameInfo(I),ue=Z.width*Z.height,we=new Uint8Array(ue);x3(t,Z.data_offset,we,ue);var ae=Z.palette_offset,ee=Z.transparent_index;ee===null&&(ee=256);var X=Z.width,he=n-X,pe=X,M=4*(Z.y*n+Z.x),G=4*((Z.y+Z.height)*n+Z.x),te=M,re=4*he;Z.interlaced===!0&&(re+=4*n*7);for(var se=8,B=0,oe=we.length;B<oe;++B){var ye=we[B];if(pe===0&&(pe=X,(te+=re)>=G&&(re=4*he+4*n*(se-1),te=M+(X+he)*(se<<1),se>>=1)),ye===ee)te+=4;else{var be=t[ae+3*ye],Ce=t[ae+3*ye+1],je=t[ae+3*ye+2];P[te++]=je,P[te++]=Ce,P[te++]=be,P[te++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(I,P){var Z=this.frameInfo(I),ue=Z.width*Z.height,we=new Uint8Array(ue);x3(t,Z.data_offset,we,ue);var ae=Z.palette_offset,ee=Z.transparent_index;ee===null&&(ee=256);var X=Z.width,he=n-X,pe=X,M=4*(Z.y*n+Z.x),G=4*((Z.y+Z.height)*n+Z.x),te=M,re=4*he;Z.interlaced===!0&&(re+=4*n*7);for(var se=8,B=0,oe=we.length;B<oe;++B){var ye=we[B];if(pe===0&&(pe=X,(te+=re)>=G&&(re=4*he+4*n*(se-1),te=M+(X+he)*(se<<1),se>>=1)),ye===ee)te+=4;else{var be=t[ae+3*ye],Ce=t[ae+3*ye+1],je=t[ae+3*ye+2];P[te++]=be,P[te++]=Ce,P[te++]=je,P[te++]=255}--pe}}}function x3(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,d=0,m=0,y=0,p=t[e++],N=new Int32Array(4096),L=null;;){for(;d<16&&p!==0;)m|=t[e++]<<d,d+=8,p===1?p=t[e++]:--p;if(d<l)break;var V=m&u;if(m>>=l,d-=l,V!==s){if(V===a)break;for(var E=V<o?V:L,C=0,k=E;k>s;)k=N[k]>>8,++C;var F=k;if(y+C+(E!==V?1:0)>r)return void _n.log("Warning, gif stream longer than expected.");n[y++]=F;var J=y+=C;for(E!==V&&(n[y++]=F),k=E;C--;)k=N[k],n[--J]=255&k,k>>=8;L!==null&&o<4096&&(N[o++]=L<<8|F,o>=u+1&&l<12&&(++l,u=u<<1|1)),L=V}else o=a+1,u=(1<<(l=i+1))-1,L=null}return y!==r&&_n.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function F0(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),m=new Array(65535),y=new Array(65535),p=new Array(64),N=new Array(64),L=[],V=0,E=7,C=new Array(64),k=new Array(64),F=new Array(64),J=new Array(256),ne=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],b=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function we(M,G){for(var te=0,re=0,se=new Array,B=1;B<=16;B++){for(var oe=1;oe<=M[B];oe++)se[G[re]]=[],se[G[re]][0]=te,se[G[re]][1]=B,re++,te++;te*=2}return se}function ae(M){for(var G=M[0],te=M[1]-1;te>=0;)G&1<<te&&(V|=1<<E),te--,--E<0&&(V==255?(ee(255),ee(0)):ee(V),E=7,V=0)}function ee(M){L.push(M)}function X(M){ee(M>>8&255),ee(255&M)}function he(M,G,te,re,se){for(var B,oe=se[0],ye=se[240],be=function(Pe,qe){var Ve,rt,at,Ht,Dt,ht,Ot,Rt,Qe,At,tt=0;for(Qe=0;Qe<8;++Qe){Ve=Pe[tt],rt=Pe[tt+1],at=Pe[tt+2],Ht=Pe[tt+3],Dt=Pe[tt+4],ht=Pe[tt+5],Ot=Pe[tt+6];var Dn=Ve+(Rt=Pe[tt+7]),jt=Ve-Rt,xt=rt+Ot,It=rt-Ot,pn=at+ht,Je=at-ht,on=Ht+Dt,ut=Ht-Dt,wt=Dn+on,tn=Dn-on,Pt=xt+pn,We=xt-pn;Pe[tt]=wt+Pt,Pe[tt+4]=wt-Pt;var Gt=.707106781*(We+tn);Pe[tt+2]=tn+Gt,Pe[tt+6]=tn-Gt;var ji=.382683433*((wt=ut+Je)-(We=It+jt)),$n=.5411961*wt+ji,Ps=1.306562965*We+ji,ls=.707106781*(Pt=Je+It),it=jt+ls,Cs=jt-ls;Pe[tt+5]=Cs+$n,Pe[tt+3]=Cs-$n,Pe[tt+1]=it+Ps,Pe[tt+7]=it-Ps,tt+=8}for(tt=0,Qe=0;Qe<8;++Qe){Ve=Pe[tt],rt=Pe[tt+8],at=Pe[tt+16],Ht=Pe[tt+24],Dt=Pe[tt+32],ht=Pe[tt+40],Ot=Pe[tt+48];var Ls=Ve+(Rt=Pe[tt+56]),Ir=Ve-Rt,ri=rt+Ot,kn=rt-Ot,Wn=at+ht,jn=at-ht,Ra=Ht+Dt,Nr=Ht-Dt,xi=Ls+Ra,Fi=Ls-Ra,ii=ri+Wn,si=ri-Wn;Pe[tt]=xi+ii,Pe[tt+32]=xi-ii;var ai=.707106781*(si+Fi);Pe[tt+16]=Fi+ai,Pe[tt+48]=Fi-ai;var Da=.382683433*((xi=Nr+jn)-(si=kn+Ir)),Vi=.5411961*xi+Da,Oa=1.306562965*si+Da,Rs=.707106781*(ii=jn+kn),Ma=Ir+Rs,ta=Ir-Rs;Pe[tt+40]=ta+Vi,Pe[tt+24]=ta-Vi,Pe[tt+8]=Ma+Oa,Pe[tt+56]=Ma-Oa,tt++}for(Qe=0;Qe<64;++Qe)At=Pe[Qe]*qe[Qe],p[Qe]=At>0?At+.5|0:At-.5|0;return p}(M,G),Ce=0;Ce<64;++Ce)N[j[Ce]]=be[Ce];var je=N[0]-te;te=N[0],je==0?ae(re[0]):(ae(re[y[B=32767+je]]),ae(m[B]));for(var Re=63;Re>0&&N[Re]==0;)Re--;if(Re==0)return ae(oe),te;for(var Ue,H=1;H<=Re;){for(var Fe=H;N[H]==0&&H<=Re;)++H;var St=H-Fe;if(St>=16){Ue=St>>4;for(var ot=1;ot<=Ue;++ot)ae(ye);St&=15}B=32767+N[H],ae(se[(St<<4)+y[B]]),ae(m[B]),H++}return Re!=63&&ae(oe),te}function pe(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(G){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var se=a((te[re]*G+50)/100);se=Math.min(Math.max(se,1),255),o[j[re]]=se}for(var B=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var ye=a((B[oe]*G+50)/100);ye=Math.min(Math.max(ye,1),255),l[j[oe]]=ye}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,je=0;je<8;je++)for(var Re=0;Re<8;Re++)u[Ce]=1/(o[j[Ce]]*be[je]*be[Re]*8),d[Ce]=1/(l[j[Ce]]*be[je]*be[Re]*8),Ce++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,G){G&&pe(G),L=new Array,V=0,E=7,X(65496),X(65504),X(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),X(1),X(1),ee(0),ee(0),function(){X(65499),X(132),ee(0);for(var rt=0;rt<64;rt++)ee(o[rt]);ee(1);for(var at=0;at<64;at++)ee(l[at])}(),function(rt,at){X(65472),X(17),ee(8),X(at),X(rt),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)}(M.width,M.height),function(){X(65476),X(418),ee(0);for(var rt=0;rt<16;rt++)ee(b[rt+1]);for(var at=0;at<=11;at++)ee(A[at]);ee(16);for(var Ht=0;Ht<16;Ht++)ee(D[Ht+1]);for(var Dt=0;Dt<=161;Dt++)ee(x[Dt]);ee(1);for(var ht=0;ht<16;ht++)ee(I[ht+1]);for(var Ot=0;Ot<=11;Ot++)ee(P[Ot]);ee(17);for(var Rt=0;Rt<16;Rt++)ee(Z[Rt+1]);for(var Qe=0;Qe<=161;Qe++)ee(ue[Qe])}(),X(65498),X(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var te=0,re=0,se=0;V=0,E=7,this.encode.displayName="_encode_";for(var B,oe,ye,be,Ce,je,Re,Ue,H,Fe=M.data,St=M.width,ot=M.height,Pe=4*St,qe=0;qe<ot;){for(B=0;B<Pe;){for(Ce=Pe*qe+B,Re=-1,Ue=0,H=0;H<64;H++)je=Ce+(Ue=H>>3)*Pe+(Re=4*(7&H)),qe+Ue>=ot&&(je-=Pe*(qe+1+Ue-ot)),B+Re>=Pe&&(je-=B+Re-Pe+4),oe=Fe[je++],ye=Fe[je++],be=Fe[je++],C[H]=(ne[oe]+ne[ye+256|0]+ne[be+512|0]>>16)-128,k[H]=(ne[oe+768|0]+ne[ye+1024|0]+ne[be+1280|0]>>16)-128,F[H]=(ne[oe+1280|0]+ne[ye+1536|0]+ne[be+1792|0]>>16)-128;te=he(C,u,te,e,r),re=he(k,d,re,n,i),se=he(F,d,se,n,i),B+=32}qe+=8}if(E>=0){var Ve=[];Ve[1]=E+1,Ve[0]=(1<<E+1)-1,ae(Ve)}return X(65497),new Uint8Array(L)},t=t||50,function(){for(var M=String.fromCharCode,G=0;G<256;G++)J[G]=M(G)}(),e=we(b,A),n=we(I,P),r=we(D,x),i=we(Z,ue),function(){for(var M=1,G=2,te=1;te<=15;te++){for(var re=M;re<G;re++)y[32767+re]=te,m[32767+re]=[],m[32767+re][1]=te,m[32767+re][0]=re;for(var se=-(G-1);se<=-M;se++)y[32767+se]=te,m[32767+se]=[],m[32767+se][1]=te,m[32767+se][0]=G-1+se;M<<=1,G<<=1}}(),function(){for(var M=0;M<256;M++)ne[M]=19595*M,ne[M+256|0]=38470*M,ne[M+512|0]=7471*M+32768,ne[M+768|0]=-11059*M,ne[M+1024|0]=-21709*M,ne[M+1280|0]=32768*M+8421375,ne[M+1536|0]=-27439*M,ne[M+1792|0]=-5329*M}(),pe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function zs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function E3(t){function e(A){if(!A)throw Error("assert :P")}function n(A,D,x){for(var I=0;4>I;I++)if(A[D+I]!=x.charCodeAt(I))return!0;return!1}function r(A,D,x,I,P){for(var Z=0;Z<P;Z++)A[D+Z]=x[I+Z]}function i(A,D,x,I){for(var P=0;P<I;P++)A[D+P]=x}function s(A){return new Int32Array(A)}function a(A,D){for(var x=[],I=0;I<A;I++)x.push(new D);return x}function o(A,D){var x=[];return function I(P,Z,ue){for(var we=ue[Z],ae=0;ae<we&&(P.push(ue.length>Z+1?[]:new D),!(ue.length<Z+1));ae++)I(P[ae],Z+1,ue)}(x,0,A),x}var l=function(){var A=this;function D(c,f){for(var _=1<<f-1>>>0;c&_;)_>>>=1;return _?(c&_-1)+_:c}function x(c,f,_,S,O){e(!(S%_));do c[f+(S-=_)]=O;while(0<S)}function I(c,f,_,S,O){if(e(2328>=O),512>=O)var z=s(512);else if((z=s(O))==null)return 0;return function(U,$,W,Y,le,ve){var Q,ce,me=$,Ee=1<<W,ge=s(16),Se=s(16);for(e(le!=0),e(Y!=null),e(U!=null),e(0<W),ce=0;ce<le;++ce){if(15<Y[ce])return 0;++ge[Y[ce]]}if(ge[0]==le)return 0;for(Se[1]=0,Q=1;15>Q;++Q){if(ge[Q]>1<<Q)return 0;Se[Q+1]=Se[Q]+ge[Q]}for(ce=0;ce<le;++ce)Q=Y[ce],0<Y[ce]&&(ve[Se[Q]++]=ce);if(Se[15]==1)return(Y=new P).g=0,Y.value=ve[0],x(U,me,1,Ee,Y),Ee;var Ae,Le=-1,Ne=Ee-1,nt=0,Ke=1,Ct=1,Ze=1<<W;for(ce=0,Q=1,le=2;Q<=W;++Q,le<<=1){if(Ke+=Ct<<=1,0>(Ct-=ge[Q]))return 0;for(;0<ge[Q];--ge[Q])(Y=new P).g=Q,Y.value=ve[ce++],x(U,me+nt,le,Ze,Y),nt=D(nt,Q)}for(Q=W+1,le=2;15>=Q;++Q,le<<=1){if(Ke+=Ct<<=1,0>(Ct-=ge[Q]))return 0;for(;0<ge[Q];--ge[Q]){if(Y=new P,(nt&Ne)!=Le){for(me+=Ze,Ae=1<<(Le=Q)-W;15>Le&&!(0>=(Ae-=ge[Le]));)++Le,Ae<<=1;Ee+=Ze=1<<(Ae=Le-W),U[$+(Le=nt&Ne)].g=Ae+W,U[$+Le].value=me-$-Le}Y.g=Q-W,Y.value=ve[ce++],x(U,me+(nt>>W),le,Ze,Y),nt=D(nt,Q)}}return Ke!=2*Se[15]-1?0:Ee}(c,f,_,S,O,z)}function P(){this.value=this.g=0}function Z(){this.value=this.g=0}function ue(){this.G=a(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Jl,Z)}function we(c,f,_,S){e(c!=null),e(f!=null),e(2147483648>S),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=f,c.pa=_,c.Jd=f,c.Yc=_+S,c.Zc=4<=S?_+S-4+1:_,oe(c)}function ae(c,f){for(var _=0;0<f--;)_|=be(c,128)<<f;return _}function ee(c,f){var _=ae(c,f);return ye(c)?-_:_}function X(c,f,_,S){var O,z=0;for(e(c!=null),e(f!=null),e(4294967288>S),c.Sb=S,c.Ra=0,c.u=0,c.h=0,4<S&&(S=4),O=0;O<S;++O)z+=f[_+O]<<8*O;c.Ra=z,c.bb=S,c.oa=f,c.pa=_}function he(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Co-8>>>0,++c.bb,c.u-=8;re(c)&&(c.h=1,c.u=0)}function pe(c,f){if(e(0<=f),!c.h&&f<=qi){var _=te(c)&Bi[f];return c.u+=f,he(c),_}return c.h=1,c.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(c){return c.Ra>>>(c.u&Co-1)>>>0}function re(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Co}function se(c,f){c.u=f,c.h=re(c)}function B(c){c.u>=Ha&&(e(c.u>=Ha),he(c))}function oe(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function ye(c){return ae(c,1)}function be(c,f){var _=c.Ca;0>c.b&&oe(c);var S=c.b,O=_*f>>>8,z=(c.I>>>S>O)+0;for(z?(_-=O,c.I-=O+1<<S>>>0):_=O+1,S=_,O=0;256<=S;)O+=8,S>>=8;return S=7^O+Lo[S],c.b-=S,c.Ca=(_<<S)-1,z}function Ce(c,f,_){c[f+0]=_>>24&255,c[f+1]=_>>16&255,c[f+2]=_>>8&255,c[f+3]=255&_}function je(c,f){return c[f+0]|c[f+1]<<8}function Re(c,f){return je(c,f)|c[f+2]<<16}function Ue(c,f){return je(c,f)|je(c,f+2)<<16}function H(c,f){var _=1<<f;return e(c!=null),e(0<f),c.X=s(_),c.X==null?0:(c.Mb=32-f,c.Xa=f,1)}function Fe(c,f){e(c!=null),e(f!=null),e(c.Xa==f.Xa),r(f.X,0,c.X,0,1<<f.Xa)}function St(){this.X=[],this.Xa=this.Mb=0}function ot(c,f,_,S){e(_!=null),e(S!=null);var O=_[0],z=S[0];return O==0&&(O=(c*z+f/2)/f),z==0&&(z=(f*O+c/2)/c),0>=O||0>=z?0:(_[0]=O,S[0]=z,1)}function Pe(c,f){return c+(1<<f)-1>>>f}function qe(c,f){return((4278255360&c)+(4278255360&f)>>>0&4278255360)+((16711935&c)+(16711935&f)>>>0&16711935)>>>0}function Ve(c,f){A[f]=function(_,S,O,z,U,$,W){var Y;for(Y=0;Y<U;++Y){var le=A[c]($[W+Y-1],O,z+Y);$[W+Y]=qe(_[S+Y],le)}}}function rt(){this.ud=this.hd=this.jd=0}function at(c,f){return((4278124286&(c^f))>>>1)+(c&f)>>>0}function Ht(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function Dt(c,f){return Ht(c+(c-f+.5>>1))}function ht(c,f,_){return Math.abs(f-_)-Math.abs(c-_)}function Ot(c,f,_,S,O,z,U){for(S=z[U-1],_=0;_<O;++_)z[U+_]=S=qe(c[f+_],S)}function Rt(c,f,_,S,O){var z;for(z=0;z<_;++z){var U=c[f+z],$=U>>8&255,W=16711935&(W=(W=16711935&U)+(($<<16)+$));S[O+z]=(4278255360&U)+W>>>0}}function Qe(c,f){f.jd=255&c,f.hd=c>>8&255,f.ud=c>>16&255}function At(c,f,_,S,O,z){var U;for(U=0;U<S;++U){var $=f[_+U],W=$>>>8,Y=$,le=255&(le=(le=$>>>16)+((c.jd<<24>>24)*(W<<24>>24)>>>5));Y=255&(Y=(Y+=(c.hd<<24>>24)*(W<<24>>24)>>>5)+((c.ud<<24>>24)*(le<<24>>24)>>>5)),O[z+U]=(4278255360&$)+(le<<16)+Y}}function tt(c,f,_,S,O){A[f]=function(z,U,$,W,Y,le,ve,Q,ce){for(W=ve;W<Q;++W)for(ve=0;ve<ce;++ve)Y[le++]=O($[S(z[U++])])},A[c]=function(z,U,$,W,Y,le,ve){var Q=8>>z.b,ce=z.Ea,me=z.K[0],Ee=z.w;if(8>Q)for(z=(1<<z.b)-1,Ee=(1<<Q)-1;U<$;++U){var ge,Se=0;for(ge=0;ge<ce;++ge)ge&z||(Se=S(W[Y++])),le[ve++]=O(me[Se&Ee]),Se>>=Q}else A["VP8LMapColor"+_](W,Y,me,Ee,le,ve,U,$,ce)}}function Dn(c,f,_,S,O){for(_=f+_;f<_;){var z=c[f++];S[O++]=z>>16&255,S[O++]=z>>8&255,S[O++]=255&z}}function jt(c,f,_,S,O){for(_=f+_;f<_;){var z=c[f++];S[O++]=z>>16&255,S[O++]=z>>8&255,S[O++]=255&z,S[O++]=z>>24&255}}function xt(c,f,_,S,O){for(_=f+_;f<_;){var z=(U=c[f++])>>16&240|U>>12&15,U=240&U|U>>28&15;S[O++]=z,S[O++]=U}}function It(c,f,_,S,O){for(_=f+_;f<_;){var z=(U=c[f++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;S[O++]=z,S[O++]=U}}function pn(c,f,_,S,O){for(_=f+_;f<_;){var z=c[f++];S[O++]=255&z,S[O++]=z>>8&255,S[O++]=z>>16&255}}function Je(c,f,_,S,O,z){if(z==0)for(_=f+_;f<_;)Ce(S,((z=c[f++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),O+=32;else r(S,O,c,f,_)}function on(c,f){A[f][0]=A[c+"0"],A[f][1]=A[c+"1"],A[f][2]=A[c+"2"],A[f][3]=A[c+"3"],A[f][4]=A[c+"4"],A[f][5]=A[c+"5"],A[f][6]=A[c+"6"],A[f][7]=A[c+"7"],A[f][8]=A[c+"8"],A[f][9]=A[c+"9"],A[f][10]=A[c+"10"],A[f][11]=A[c+"11"],A[f][12]=A[c+"12"],A[f][13]=A[c+"13"],A[f][14]=A[c+"0"],A[f][15]=A[c+"0"]}function ut(c){return c==og||c==lg||c==Xf||c==ug}function wt(){this.eb=[],this.size=this.A=this.fb=0}function tn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Pt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new wt,this.f.kb=new tn,this.sd=null}function We(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ji(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function $n(c,f){var _=c.T,S=f.ba.f.RGBA,O=S.eb,z=S.fb+c.ka*S.A,U=_s[f.ba.S],$=c.y,W=c.O,Y=c.f,le=c.N,ve=c.ea,Q=c.W,ce=f.cc,me=f.dc,Ee=f.Mc,ge=f.Nc,Se=c.ka,Ae=c.ka+c.T,Le=c.U,Ne=Le+1>>1;for(Se==0?U($,W,null,null,Y,le,ve,Q,Y,le,ve,Q,O,z,null,null,Le):(U(f.ec,f.fc,$,W,ce,me,Ee,ge,Y,le,ve,Q,O,z-S.A,O,z,Le),++_);Se+2<Ae;Se+=2)ce=Y,me=le,Ee=ve,ge=Q,le+=c.Rc,Q+=c.Rc,z+=2*S.A,U($,(W+=2*c.fa)-c.fa,$,W,ce,me,Ee,ge,Y,le,ve,Q,O,z-S.A,O,z,Le);return W+=c.fa,c.j+Ae<c.o?(r(f.ec,f.fc,$,W,Le),r(f.cc,f.dc,Y,le,Ne),r(f.Mc,f.Nc,ve,Q,Ne),_--):1&Ae||U($,W,null,null,Y,le,ve,Q,Y,le,ve,Q,O,z+S.A,null,null,Le),_}function Ps(c,f,_){var S=c.F,O=[c.J];if(S!=null){var z=c.U,U=f.ba.S,$=U==Qf||U==Xf;f=f.ba.f.RGBA;var W=[0],Y=c.ka;W[0]=c.T,c.Kb&&(Y==0?--W[0]:(--Y,O[0]-=c.width),c.j+c.ka+c.T==c.o&&(W[0]=c.o-c.j-Y));var le=f.eb;Y=f.fb+Y*f.A,c=k5(S,O[0],c.width,z,W,le,Y+($?0:3),f.A),e(_==W),c&&ut(U)&&Bh(le,Y,$,z,W,f.A)}return 0}function ls(c){var f=c.ma,_=f.ba.S,S=11>_,O=_==Kf||_==Yf||_==Qf||_==ag||_==12||ut(_);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!Dh(f.Oa,c,O?11:12))return 0;if(O&&ut(_)&&Oe(),c.da)alert("todo:use_scaling");else{if(S){if(f.Ib=ji,c.Kb){if(_=c.U+1>>1,f.memory=s(c.U+2*_),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+c.U,f.Mc=f.cc,f.Nc=f.dc+_,f.Ib=$n,Oe()}}else alert("todo:EmitYUV");O&&(f.Jb=Ps,S&&fe())}if(S&&!q5){for(c=0;256>c;++c)eT[c]=89858*(c-128)+Zf>>Jf,rT[c]=-22014*(c-128)+Zf,nT[c]=-45773*(c-128),tT[c]=113618*(c-128)+Zf>>Jf;for(c=$h;c<dg;++c)f=76283*(c-16)+Zf>>Jf,iT[c-$h]=Ui(f,255),sT[c-$h]=Ui(f+8>>4,15);q5=1}return 1}function it(c){var f=c.ma,_=c.U,S=c.T;return e(!(1&c.ka)),0>=_||0>=S?0:(_=f.Ib(c,f),f.Jb!=null&&f.Jb(c,f,_),f.Dc+=_,1)}function Cs(c){c.ma.memory=null}function Ls(c,f,_,S){return pe(c,8)!=47?0:(f[0]=pe(c,14)+1,_[0]=pe(c,14)+1,S[0]=pe(c,1),pe(c,3)!=0?0:!c.h)}function Ir(c,f){if(4>c)return c+1;var _=c-2>>1;return(2+(1&c)<<_)+pe(f,_)+1}function ri(c,f){return 120<f?f-120:1<=(_=((_=z6[f-1])>>4)*c+(8-(15&_)))?_:1;var _}function kn(c,f,_){var S=te(_),O=c[f+=255&S].g-8;return 0<O&&(se(_,_.u+8),S=te(_),f+=c[f].value,f+=S&(1<<O)-1),se(_,_.u+c[f].g),c[f].value}function Wn(c,f,_){return _.g+=c.g,_.value+=c.value<<f>>>0,e(8>=_.g),c.g}function jn(c,f,_){var S=c.xc;return e((f=S==0?0:c.vc[c.md*(_>>S)+(f>>S)])<c.Wb),c.Ya[f]}function Ra(c,f,_,S){var O=c.ab,z=c.c*f,U=c.C;f=U+f;var $=_,W=S;for(S=c.Ta,_=c.Ua;0<O--;){var Y=c.gc[O],le=U,ve=f,Q=$,ce=W,me=(W=S,$=_,Y.Ea);switch(e(le<ve),e(ve<=Y.nc),Y.hc){case 2:Qn(Q,ce,(ve-le)*me,W,$);break;case 0:var Ee=le,ge=ve,Se=W,Ae=$,Le=(Ze=Y).Ea;Ee==0&&(Mh(Q,ce,null,null,1,Se,Ae),Ot(Q,ce+1,0,0,Le-1,Se,Ae+1),ce+=Le,Ae+=Le,++Ee);for(var Ne=1<<Ze.b,nt=Ne-1,Ke=Pe(Le,Ze.b),Ct=Ze.K,Ze=Ze.w+(Ee>>Ze.b)*Ke;Ee<ge;){var Bt=Ct,fr=Ze,Lt=1;for(sc(Q,ce,Se,Ae-Le,1,Se,Ae);Lt<Le;){var et=(Lt&~nt)+Ne;et>Le&&(et=Le),(0,Fh[Bt[fr++]>>8&15])(Q,ce+ +Lt,Se,Ae+Lt-Le,et-Lt,Se,Ae+Lt),Lt=et}ce+=Le,Ae+=Le,++Ee&nt||(Ze+=Ke)}ve!=Y.nc&&r(W,$-me,W,$+(ve-le-1)*me,me);break;case 1:for(me=Q,ge=ce,Le=(Q=Y.Ea)-(Ae=Q&~(Se=(ce=1<<Y.b)-1)),Ee=Pe(Q,Y.b),Ne=Y.K,Y=Y.w+(le>>Y.b)*Ee;le<ve;){for(nt=Ne,Ke=Y,Ct=new rt,Ze=ge+Ae,Bt=ge+Q;ge<Ze;)Qe(nt[Ke++],Ct),Vh(Ct,me,ge,ce,W,$),ge+=ce,$+=ce;ge<Bt&&(Qe(nt[Ke++],Ct),Vh(Ct,me,ge,Le,W,$),ge+=Le,$+=Le),++le&Se||(Y+=Ee)}break;case 3:if(Q==W&&ce==$&&0<Y.b){for(ge=W,Q=me=$+(ve-le)*me-(Ae=(ve-le)*Pe(Y.Ea,Y.b)),ce=W,Se=$,Ee=[],Ae=(Le=Ae)-1;0<=Ae;--Ae)Ee[Ae]=ce[Se+Ae];for(Ae=Le-1;0<=Ae;--Ae)ge[Q+Ae]=Ee[Ae];$f(Y,le,ve,W,me,W,$)}else $f(Y,le,ve,Q,ce,W,$)}$=S,W=_}W!=_&&r(S,_,$,W,z)}function Nr(c,f){var _=c.V,S=c.Ba+c.c*c.C,O=f-c.C;if(e(f<=c.l.o),e(16>=O),0<O){var z=c.l,U=c.Ta,$=c.Ua,W=z.width;if(Ra(c,O,_,S),O=$=[$],e((_=c.C)<(S=f)),e(z.v<z.va),S>z.o&&(S=z.o),_<z.j){var Y=z.j-_;_=z.j,O[0]+=Y*W}if(_>=S?_=0:(O[0]+=4*z.v,z.ka=_-z.j,z.U=z.va-z.v,z.T=S-_,_=1),_){if($=$[0],11>(_=c.ca).S){var le=_.f.RGBA,ve=(S=_.S,O=z.U,z=z.T,Y=le.eb,le.A),Q=z;for(le=le.fb+c.Ma*le.A;0<Q--;){var ce=U,me=$,Ee=O,ge=Y,Se=le;switch(S){case Gf:zh(ce,me,Ee,ge,Se);break;case Kf:Ro(ce,me,Ee,ge,Se);break;case og:Ro(ce,me,Ee,ge,Se),Bh(ge,Se,0,Ee,1,0);break;case R5:Zl(ce,me,Ee,ge,Se);break;case Yf:Je(ce,me,Ee,ge,Se,1);break;case lg:Je(ce,me,Ee,ge,Se,1),Bh(ge,Se,0,Ee,1,0);break;case Qf:Je(ce,me,Ee,ge,Se,0);break;case Xf:Je(ce,me,Ee,ge,Se,0),Bh(ge,Se,1,Ee,1,0);break;case ag:Do(ce,me,Ee,ge,Se);break;case ug:Do(ce,me,Ee,ge,Se),A5(ge,Se,Ee,1,0);break;case D5:Oo(ce,me,Ee,ge,Se);break;default:e(0)}$+=W,le+=ve}c.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=_.height)}}c.C=f,e(c.C<=c.i)}function xi(c){var f;if(0<c.ua)return 0;for(f=0;f<c.Wb;++f){var _=c.Ya[f].G,S=c.Ya[f].H;if(0<_[1][S[1]+0].g||0<_[2][S[2]+0].g||0<_[3][S[3]+0].g)return 0}return 1}function Fi(c,f,_,S,O,z){if(c.Z!=0){var U=c.qd,$=c.rd;for(e(Fo[c.Z]!=null);f<_;++f)Fo[c.Z](U,$,S,O,S,O,z),U=S,$=O,O+=z;c.qd=U,c.rd=$}}function ii(c,f){var _=c.l.ma,S=_.Z==0||_.Z==1?c.l.j:c.C;if(S=c.C<S?S:c.C,e(f<=c.l.o),f>S){var O=c.l.width,z=_.ca,U=_.tb+O*S,$=c.V,W=c.Ba+c.c*S,Y=c.gc;e(c.ab==1),e(Y[0].hc==3),la(Y[0],S,f,$,W,z,U),Fi(_,S,f,z,U,O)}c.C=c.Ma=f}function si(c,f,_,S,O,z,U){var $=c.$/S,W=c.$%S,Y=c.m,le=c.s,ve=_+c.$,Q=ve;O=_+S*O;var ce=_+S*z,me=280+le.ua,Ee=c.Pb?$:16777216,ge=0<le.ua?le.Wa:null,Se=le.wc,Ae=ve<ce?jn(le,W,$):null;e(c.C<z),e(ce<=O);var Le=!1;e:for(;;){for(;Le||ve<ce;){var Ne=0;if($>=Ee){var nt=ve-_;e((Ee=c).Pb),Ee.wd=Ee.m,Ee.xd=nt,0<Ee.s.ua&&Fe(Ee.s.Wa,Ee.s.vb),Ee=$+B6}if(W&Se||(Ae=jn(le,W,$)),e(Ae!=null),Ae.Qb&&(f[ve]=Ae.qb,Le=!0),!Le)if(B(Y),Ae.jc){Ne=Y,nt=f;var Ke=ve,Ct=Ae.pd[te(Ne)&Jl-1];e(Ae.jc),256>Ct.g?(se(Ne,Ne.u+Ct.g),nt[Ke]=Ct.value,Ne=0):(se(Ne,Ne.u+Ct.g-256),e(256<=Ct.value),Ne=Ct.value),Ne==0&&(Le=!0)}else Ne=kn(Ae.G[0],Ae.H[0],Y);if(Y.h)break;if(Le||256>Ne){if(!Le)if(Ae.nd)f[ve]=(Ae.qb|Ne<<8)>>>0;else{if(B(Y),Le=kn(Ae.G[1],Ae.H[1],Y),B(Y),nt=kn(Ae.G[2],Ae.H[2],Y),Ke=kn(Ae.G[3],Ae.H[3],Y),Y.h)break;f[ve]=(Ke<<24|Le<<16|Ne<<8|nt)>>>0}if(Le=!1,++ve,++W>=S&&(W=0,++$,U!=null&&$<=z&&!($%16)&&U(c,$),ge!=null))for(;Q<ve;)Ne=f[Q++],ge.X[(506832829*Ne&4294967295)>>>ge.Mb]=Ne}else if(280>Ne){if(Ne=Ir(Ne-256,Y),nt=kn(Ae.G[4],Ae.H[4],Y),B(Y),nt=ri(S,nt=Ir(nt,Y)),Y.h)break;if(ve-_<nt||O-ve<Ne)break e;for(Ke=0;Ke<Ne;++Ke)f[ve+Ke]=f[ve+Ke-nt];for(ve+=Ne,W+=Ne;W>=S;)W-=S,++$,U!=null&&$<=z&&!($%16)&&U(c,$);if(e(ve<=O),W&Se&&(Ae=jn(le,W,$)),ge!=null)for(;Q<ve;)Ne=f[Q++],ge.X[(506832829*Ne&4294967295)>>>ge.Mb]=Ne}else{if(!(Ne<me))break e;for(Le=Ne-280,e(ge!=null);Q<ve;)Ne=f[Q++],ge.X[(506832829*Ne&4294967295)>>>ge.Mb]=Ne;Ne=ve,e(!(Le>>>(nt=ge).Xa)),f[Ne]=nt.X[Le],Le=!0}Le||e(Y.h==re(Y))}if(c.Pb&&Y.h&&ve<O)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Fe(c.s.vb,c.s.Wa);else{if(Y.h)break e;U!=null&&U(c,$>z?z:$),c.a=0,c.$=ve-_}return 1}return c.a=3,0}function ai(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var f=c.Wa;f!=null&&(f.X=null),c.vb=null,e(c!=null)}function Da(){var c=new dt;return c==null?null:(c.a=0,c.xb=j5,on("Predictor","VP8LPredictors"),on("Predictor","VP8LPredictors_C"),on("PredictorAdd","VP8LPredictorsAdd"),on("PredictorAdd","VP8LPredictorsAdd_C"),Qn=Rt,Vh=At,zh=Dn,Ro=jt,Do=xt,Oo=It,Zl=pn,A.VP8LMapColor32b=oa,A.VP8LMapColor8b=jh,c)}function Vi(c,f,_,S,O){var z=1,U=[c],$=[f],W=S.m,Y=S.s,le=null,ve=0;e:for(;;){if(_)for(;z&&pe(W,1);){var Q=U,ce=$,me=S,Ee=1,ge=me.m,Se=me.gc[me.ab],Ae=pe(ge,2);if(me.Oc&1<<Ae)z=0;else{switch(me.Oc|=1<<Ae,Se.hc=Ae,Se.Ea=Q[0],Se.nc=ce[0],Se.K=[null],++me.ab,e(4>=me.ab),Ae){case 0:case 1:Se.b=pe(ge,3)+2,Ee=Vi(Pe(Se.Ea,Se.b),Pe(Se.nc,Se.b),0,me,Se.K),Se.K=Se.K[0];break;case 3:var Le,Ne=pe(ge,8)+1,nt=16<Ne?0:4<Ne?1:2<Ne?2:3;if(Q[0]=Pe(Se.Ea,nt),Se.b=nt,Le=Ee=Vi(Ne,1,0,me,Se.K)){var Ke,Ct=Ne,Ze=Se,Bt=1<<(8>>Ze.b),fr=s(Bt);if(fr==null)Le=0;else{var Lt=Ze.K[0],et=Ze.w;for(fr[0]=Ze.K[0][0],Ke=1;Ke<1*Ct;++Ke)fr[Ke]=qe(Lt[et+Ke],fr[Ke-1]);for(;Ke<4*Bt;++Ke)fr[Ke]=0;Ze.K[0]=null,Ze.K[0]=fr,Le=1}}Ee=Le;break;case 2:break;default:e(0)}z=Ee}}if(U=U[0],$=$[0],z&&pe(W,1)&&!(z=1<=(ve=pe(W,4))&&11>=ve)){S.a=3;break e}var ze;if(ze=z)t:{var Jn,Nt,$t,Nn=S,Cr=U,pi=$,Hn=ve,$r=_,mi=Nn.m,pr=Nn.s,Yt=[null],un=1,Gn=0,cn=U6[Hn];n:for(;;){if($r&&pe(mi,1)){var Lr=pe(mi,3)+2,js=Pe(Cr,Lr),Zn=Pe(pi,Lr),Si=js*Zn;if(!Vi(js,Zn,0,Nn,Yt))break n;for(Yt=Yt[0],pr.xc=Lr,Jn=0;Jn<Si;++Jn){var vn=Yt[Jn]>>8&65535;Yt[Jn]=vn,vn>=un&&(un=vn+1)}}if(mi.h)break n;for(Nt=0;5>Nt;++Nt){var mr=O5[Nt];!Nt&&0<Hn&&(mr+=1<<Hn),Gn<mr&&(Gn=mr)}var Wi=a(un*cn,P),gi=un,Hi=a(gi,ue);if(Hi==null)var Gi=null;else e(65536>=gi),Gi=Hi;var Ai=s(Gn);if(Gi==null||Ai==null||Wi==null){Nn.a=1;break n}var Ki=Wi;for(Jn=$t=0;Jn<un;++Jn){var xn=Gi[Jn],Yi=xn.G,Fs=xn.H,tu=0,Ya=1,Rr=0;for(Nt=0;5>Nt;++Nt){mr=O5[Nt],Yi[Nt]=Ki,Fs[Nt]=$t,!Nt&&0<Hn&&(mr+=1<<Hn);i:{var tp,fg=mr,np=Nn,Wh=Ai,lT=Ki,uT=$t,pg=0,Vo=np.m,cT=pe(Vo,1);if(i(Wh,0,0,fg),cT){var hT=pe(Vo,1)+1,dT=pe(Vo,1),H5=pe(Vo,dT==0?1:8);Wh[H5]=1,hT==2&&(Wh[H5=pe(Vo,8)]=1);var rp=1}else{var G5=s(19),K5=pe(Vo,4)+4;if(19<K5){np.a=3;var ip=0;break i}for(tp=0;tp<K5;++tp)G5[V6[tp]]=pe(Vo,3);var mg=void 0,Hh=void 0,Y5=np,fT=G5,sp=fg,Q5=Wh,gg=0,zo=Y5.m,X5=8,J5=a(128,P);r:for(;I(J5,0,7,fT,19);){if(pe(zo,1)){var pT=2+2*pe(zo,3);if((mg=2+pe(zo,pT))>sp)break r}else mg=sp;for(Hh=0;Hh<sp&&mg--;){B(zo);var Z5=J5[0+(127&te(zo))];se(zo,zo.u+Z5.g);var oc=Z5.value;if(16>oc)Q5[Hh++]=oc,oc!=0&&(X5=oc);else{var mT=oc==16,e_=oc-16,gT=j6[e_],t_=pe(zo,M6[e_])+gT;if(Hh+t_>sp)break r;for(var yT=mT?X5:0;0<t_--;)Q5[Hh++]=yT}}gg=1;break r}gg||(Y5.a=3),rp=gg}(rp=rp&&!Vo.h)&&(pg=I(lT,uT,8,Wh,fg)),rp&&pg!=0?ip=pg:(np.a=3,ip=0)}if(ip==0)break n;if(Ya&&F6[Nt]==1&&(Ya=Ki[$t].g==0),tu+=Ki[$t].g,$t+=ip,3>=Nt){var Gh,yg=Ai[0];for(Gh=1;Gh<mr;++Gh)Ai[Gh]>yg&&(yg=Ai[Gh]);Rr+=yg}}if(xn.nd=Ya,xn.Qb=0,Ya&&(xn.qb=(Yi[3][Fs[3]+0].value<<24|Yi[1][Fs[1]+0].value<<16|Yi[2][Fs[2]+0].value)>>>0,tu==0&&256>Yi[0][Fs[0]+0].value&&(xn.Qb=1,xn.qb+=Yi[0][Fs[0]+0].value<<8)),xn.jc=!xn.Qb&&6>Rr,xn.jc){var ap,Qa=xn;for(ap=0;ap<Jl;++ap){var Uo=ap,Bo=Qa.pd[Uo],op=Qa.G[0][Qa.H[0]+Uo];256<=op.value?(Bo.g=op.g+256,Bo.value=op.value):(Bo.g=0,Bo.value=0,Uo>>=Wn(op,8,Bo),Uo>>=Wn(Qa.G[1][Qa.H[1]+Uo],16,Bo),Uo>>=Wn(Qa.G[2][Qa.H[2]+Uo],0,Bo),Wn(Qa.G[3][Qa.H[3]+Uo],24,Bo))}}}pr.vc=Yt,pr.Wb=un,pr.Ya=Gi,pr.yc=Wi,ze=1;break t}ze=0}if(!(z=ze)){S.a=3;break e}if(0<ve){if(Y.ua=1<<ve,!H(Y.Wa,ve)){S.a=1,z=0;break e}}else Y.ua=0;var vg=S,n_=U,vT=$,_g=vg.s,wg=_g.xc;if(vg.c=n_,vg.i=vT,_g.md=Pe(n_,wg),_g.wc=wg==0?-1:(1<<wg)-1,_){S.xb=Y6;break e}if((le=s(U*$))==null){S.a=1,z=0;break e}z=(z=si(S,le,0,U,$,$,null))&&!W.h;break e}return z?(O!=null?O[0]=le:(e(le==null),e(_)),S.$=0,_||ai(Y)):ai(Y),z}function Oa(c,f){var _=c.c*c.i,S=_+f+16*f;return e(c.c<=f),c.V=s(S),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+_+f,1)}function Rs(c,f){var _=c.C,S=f-_,O=c.V,z=c.Ba+c.c*_;for(e(f<=c.l.o);0<S;){var U=16<S?16:S,$=c.l.ma,W=c.l.width,Y=W*U,le=$.ca,ve=$.tb+W*_,Q=c.Ta,ce=c.Ua;Ra(c,U,O,z),T5(Q,ce,le,ve,Y),Fi($,_,_+U,le,ve,W),S-=U,O+=U*c.c,_+=U}e(_==f),c.C=c.Ma=f}function Ma(){this.ub=this.yd=this.td=this.Rb=0}function ta(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ja(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function zi(){this.Yb=function(){var c=[];return function f(_,S,O){for(var z=O[S],U=0;U<z&&(_.push(O.length>S+1?[]:0),!(O.length<S+1));U++)f(_[U],S+1,O)}(c,0,[3,11]),c}()}function xo(){this.jb=s(3),this.Wc=o([4,8],zi),this.Xc=o([4,17],zi)}function Wu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function oi(){this.ld=this.La=this.dd=this.tc=0}function Eo(){this.Na=this.la=0}function Ul(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fa(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function So(){this.uc=this.M=this.Nb=0,this.wa=Array(new oi),this.Y=0,this.ya=Array(new Fa),this.aa=0,this.l=new Ao}function Bl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ql(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new Ma,this.Kc=new ta,this.ed=new Wu,this.Qa=new ja,this.Ic=this.$c=this.Aa=0,this.D=new So,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,M),this.ia=0,this.pb=a(4,Ul),this.Pa=new xo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Bl),this.Hd=0,this.rb=Array(new Eo),this.sb=0,this.wa=Array(new oi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fa),this.L=this.aa=0,this.gd=o([4,2],oi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ui(c,f){return 0>c?0:c>f?f:c}function Ao(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function us(){var c=new ql;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,qh||(qh=ra)),c}function Xt(c,f,_){return c.a==0&&(c.a=f,c.sc=_,c.cb=0),0}function na(c,f,_){return 3<=_&&c[f+0]==157&&c[f+1]==1&&c[f+2]==42}function Ur(c,f){if(c==null)return 0;if(c.a=0,c.sc="OK",f==null)return Xt(c,2,"null VP8Io passed to VP8GetHeaders()");var _=f.data,S=f.w,O=f.ha;if(4>O)return Xt(c,7,"Truncated header.");var z=_[S+0]|_[S+1]<<8|_[S+2]<<16,U=c.Od;if(U.Rb=!(1&z),U.td=z>>1&7,U.yd=z>>4&1,U.ub=z>>5,3<U.td)return Xt(c,3,"Incorrect keyframe parameters.");if(!U.yd)return Xt(c,4,"Frame not displayable.");S+=3,O-=3;var $=c.Kc;if(U.Rb){if(7>O)return Xt(c,7,"cannot parse picture header");if(!na(_,S,O))return Xt(c,3,"Bad code word");$.c=16383&(_[S+4]<<8|_[S+3]),$.Td=_[S+4]>>6,$.i=16383&(_[S+6]<<8|_[S+5]),$.Ud=_[S+6]>>6,S+=7,O-=7,c.za=$.c+15>>4,c.Ub=$.i+15>>4,f.width=$.c,f.height=$.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((z=c.Pa).jb,0,255,z.jb.length),e((z=c.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,i(z.Zb,0,0,z.Zb.length),i(z.Lb,0,0,z.Lb)}if(U.ub>O)return Xt(c,7,"bad partition length");we(z=c.m,_,S,U.ub),S+=U.ub,O-=U.ub,U.Rb&&($.Ld=ye(z),$.Kd=ye(z)),$=c.Qa;var W,Y=c.Pa;if(e(z!=null),e($!=null),$.Cb=ye(z),$.Cb){if($.Bb=ye(z),ye(z)){for($.Fb=ye(z),W=0;4>W;++W)$.Zb[W]=ye(z)?ee(z,7):0;for(W=0;4>W;++W)$.Lb[W]=ye(z)?ee(z,6):0}if($.Bb)for(W=0;3>W;++W)Y.jb[W]=ye(z)?ae(z,8):255}else $.Bb=0;if(z.Ka)return Xt(c,3,"cannot parse segment header");if(($=c.ed).zd=ye(z),$.Tb=ae(z,6),$.wb=ae(z,3),$.Pc=ye(z),$.Pc&&ye(z)){for(Y=0;4>Y;++Y)ye(z)&&($.vd[Y]=ee(z,6));for(Y=0;4>Y;++Y)ye(z)&&($.od[Y]=ee(z,6))}if(c.L=$.Tb==0?0:$.zd?1:2,z.Ka)return Xt(c,3,"cannot parse filter header");var le=O;if(O=W=S,S=W+le,$=le,c.Xb=(1<<ae(c.m,2))-1,le<3*(Y=c.Xb))_=7;else{for(W+=3*Y,$-=3*Y,le=0;le<Y;++le){var ve=_[O+0]|_[O+1]<<8|_[O+2]<<16;ve>$&&(ve=$),we(c.Jc[+le],_,W,ve),W+=ve,$-=ve,O+=3}we(c.Jc[+Y],_,W,$),_=W<S?0:5}if(_!=0)return Xt(c,_,"cannot parse partitions");for(_=ae(W=c.m,7),O=ye(W)?ee(W,4):0,S=ye(W)?ee(W,4):0,$=ye(W)?ee(W,4):0,Y=ye(W)?ee(W,4):0,W=ye(W)?ee(W,4):0,le=c.Qa,ve=0;4>ve;++ve){if(le.Cb){var Q=le.Zb[ve];le.Fb||(Q+=_)}else{if(0<ve){c.pb[ve]=c.pb[0];continue}Q=_}var ce=c.pb[ve];ce.Sc[0]=cg[Ui(Q+O,127)],ce.Sc[1]=hg[Ui(Q+0,127)],ce.Eb[0]=2*cg[Ui(Q+S,127)],ce.Eb[1]=101581*hg[Ui(Q+$,127)]>>16,8>ce.Eb[1]&&(ce.Eb[1]=8),ce.Qc[0]=cg[Ui(Q+Y,117)],ce.Qc[1]=hg[Ui(Q+W,127)],ce.lc=Q+W}if(!U.Rb)return Xt(c,4,"Not a key frame.");for(ye(z),U=c.Pa,_=0;4>_;++_){for(O=0;8>O;++O)for(S=0;3>S;++S)for($=0;11>$;++$)Y=be(z,G6[_][O][S][$])?ae(z,8):W6[_][O][S][$],U.Wc[_][O].Yb[S][$]=Y;for(O=0;17>O;++O)U.Xc[_][O]=U.Wc[_][K6[O]]}return c.kc=ye(z),c.kc&&(c.Bd=ae(z,8)),c.cb=1}function ra(c,f,_,S,O,z,U){var $=f[O].Yb[_];for(_=0;16>O;++O){if(!be(c,$[_+0]))return O;for(;!be(c,$[_+1]);)if($=f[++O].Yb[0],_=0,O==16)return 16;var W=f[O+1].Yb;if(be(c,$[_+2])){var Y=c,le=0;if(be(Y,(Q=$)[(ve=_)+3]))if(be(Y,Q[ve+6])){for($=0,ve=2*(le=be(Y,Q[ve+8]))+(Q=be(Y,Q[ve+9+le])),le=0,Q=q6[ve];Q[$];++$)le+=le+be(Y,Q[$]);le+=3+(8<<ve)}else be(Y,Q[ve+7])?(le=7+2*be(Y,165),le+=be(Y,145)):le=5+be(Y,159);else le=be(Y,Q[ve+4])?3+be(Y,Q[ve+5]):2;$=W[2]}else le=1,$=W[1];W=U+$6[O],0>(Y=c).b&&oe(Y);var ve,Q=Y.b,ce=(ve=Y.Ca>>1)-(Y.I>>Q)>>31;--Y.b,Y.Ca+=ce,Y.Ca|=1,Y.I-=(ve+1&ce)<<Q,z[W]=((le^ce)-ce)*S[(0<O)+0]}return 16}function nn(c){var f=c.rb[c.sb-1];f.la=0,f.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function Pr(c,f,_,S,O){O=c[f+_+32*S]+(O>>3),c[f+_+32*S]=-256&O?0>O?0:255:O}function Tn(c,f,_,S,O,z){Pr(c,f,0,_,S+O),Pr(c,f,1,_,S+z),Pr(c,f,2,_,S-z),Pr(c,f,3,_,S-O)}function li(c){return(20091*c>>16)+c}function Hu(c,f,_,S){var O,z=0,U=s(16);for(O=0;4>O;++O){var $=c[f+0]+c[f+8],W=c[f+0]-c[f+8],Y=(35468*c[f+4]>>16)-li(c[f+12]),le=li(c[f+4])+(35468*c[f+12]>>16);U[z+0]=$+le,U[z+1]=W+Y,U[z+2]=W-Y,U[z+3]=$-le,z+=4,f++}for(O=z=0;4>O;++O)$=(c=U[z+0]+4)+U[z+8],W=c-U[z+8],Y=(35468*U[z+4]>>16)-li(U[z+12]),Pr(_,S,0,0,$+(le=li(U[z+4])+(35468*U[z+12]>>16))),Pr(_,S,1,0,W+Y),Pr(_,S,2,0,W-Y),Pr(_,S,3,0,$-le),z++,S+=32}function Gu(c,f,_,S){var O=c[f+0]+4,z=35468*c[f+4]>>16,U=li(c[f+4]),$=35468*c[f+1]>>16;Tn(_,S,0,O+U,c=li(c[f+1]),$),Tn(_,S,1,O+z,c,$),Tn(_,S,2,O-z,c,$),Tn(_,S,3,O-U,c,$)}function Lh(c,f,_,S,O){Hu(c,f,_,S),O&&Hu(c,f+16,_,S+4)}function cs(c,f,_,S){eu(c,f+0,_,S,1),eu(c,f+32,_,S+128,1)}function Ku(c,f,_,S){var O;for(c=c[f+0]+4,O=0;4>O;++O)for(f=0;4>f;++f)Pr(_,S,f,O,c)}function Yu(c,f,_,S){c[f+0]&&rn(c,f+0,_,S),c[f+16]&&rn(c,f+16,_,S+4),c[f+32]&&rn(c,f+32,_,S+128),c[f+48]&&rn(c,f+48,_,S+128+4)}function hs(c,f,_,S){var O,z=s(16);for(O=0;4>O;++O){var U=c[f+0+O]+c[f+12+O],$=c[f+4+O]+c[f+8+O],W=c[f+4+O]-c[f+8+O],Y=c[f+0+O]-c[f+12+O];z[0+O]=U+$,z[8+O]=U-$,z[4+O]=Y+W,z[12+O]=Y-W}for(O=0;4>O;++O)U=(c=z[0+4*O]+3)+z[3+4*O],$=z[1+4*O]+z[2+4*O],W=z[1+4*O]-z[2+4*O],Y=c-z[3+4*O],_[S+0]=U+$>>3,_[S+16]=Y+W>>3,_[S+32]=U-$>>3,_[S+48]=Y-W>>3,S+=64}function ui(c,f,_){var S,O=f-32,z=$i,U=255-c[O-1];for(S=0;S<_;++S){var $,W=z,Y=U+c[f-1];for($=0;$<_;++$)c[f+$]=W[Y+c[O+$]];f+=32}}function Qu(c,f){ui(c,f,4)}function Xu(c,f){ui(c,f,8)}function Ju(c,f){ui(c,f,16)}function ko(c,f){var _;for(_=0;16>_;++_)r(c,f+32*_,c,f-32,16)}function $l(c,f){var _;for(_=16;0<_;--_)i(c,f,c[f-1],16),f+=32}function wr(c,f,_){var S;for(S=0;16>S;++S)i(f,_+32*S,c,16)}function Rh(c,f){var _,S=16;for(_=0;16>_;++_)S+=c[f-1+32*_]+c[f+_-32];wr(S>>5,c,f)}function Va(c,f){var _,S=8;for(_=0;16>_;++_)S+=c[f-1+32*_];wr(S>>4,c,f)}function Wl(c,f){var _,S=8;for(_=0;16>_;++_)S+=c[f+_-32];wr(S>>4,c,f)}function ds(c,f){wr(128,c,f)}function mt(c,f,_){return c+2*f+_+2>>2}function Hl(c,f){var _,S=f-32;for(S=new Uint8Array([mt(c[S-1],c[S+0],c[S+1]),mt(c[S+0],c[S+1],c[S+2]),mt(c[S+1],c[S+2],c[S+3]),mt(c[S+2],c[S+3],c[S+4])]),_=0;4>_;++_)r(c,f+32*_,S,0,S.length)}function To(c,f){var _=c[f-1],S=c[f-1+32],O=c[f-1+64],z=c[f-1+96];Ce(c,f+0,16843009*mt(c[f-1-32],_,S)),Ce(c,f+32,16843009*mt(_,S,O)),Ce(c,f+64,16843009*mt(S,O,z)),Ce(c,f+96,16843009*mt(O,z,z))}function Zu(c,f){var _,S=4;for(_=0;4>_;++_)S+=c[f+_-32]+c[f-1+32*_];for(S>>=3,_=0;4>_;++_)i(c,f+32*_,S,4)}function ci(c,f){var _=c[f-1+0],S=c[f-1+32],O=c[f-1+64],z=c[f-1-32],U=c[f+0-32],$=c[f+1-32],W=c[f+2-32],Y=c[f+3-32];c[f+0+96]=mt(S,O,c[f-1+96]),c[f+1+96]=c[f+0+64]=mt(_,S,O),c[f+2+96]=c[f+1+64]=c[f+0+32]=mt(z,_,S),c[f+3+96]=c[f+2+64]=c[f+1+32]=c[f+0+0]=mt(U,z,_),c[f+3+64]=c[f+2+32]=c[f+1+0]=mt($,U,z),c[f+3+32]=c[f+2+0]=mt(W,$,U),c[f+3+0]=mt(Y,W,$)}function hi(c,f){var _=c[f+1-32],S=c[f+2-32],O=c[f+3-32],z=c[f+4-32],U=c[f+5-32],$=c[f+6-32],W=c[f+7-32];c[f+0+0]=mt(c[f+0-32],_,S),c[f+1+0]=c[f+0+32]=mt(_,S,O),c[f+2+0]=c[f+1+32]=c[f+0+64]=mt(S,O,z),c[f+3+0]=c[f+2+32]=c[f+1+64]=c[f+0+96]=mt(O,z,U),c[f+3+32]=c[f+2+64]=c[f+1+96]=mt(z,U,$),c[f+3+64]=c[f+2+96]=mt(U,$,W),c[f+3+96]=mt($,W,W)}function ec(c,f){var _=c[f-1+0],S=c[f-1+32],O=c[f-1+64],z=c[f-1-32],U=c[f+0-32],$=c[f+1-32],W=c[f+2-32],Y=c[f+3-32];c[f+0+0]=c[f+1+64]=z+U+1>>1,c[f+1+0]=c[f+2+64]=U+$+1>>1,c[f+2+0]=c[f+3+64]=$+W+1>>1,c[f+3+0]=W+Y+1>>1,c[f+0+96]=mt(O,S,_),c[f+0+64]=mt(S,_,z),c[f+0+32]=c[f+1+96]=mt(_,z,U),c[f+1+32]=c[f+2+96]=mt(z,U,$),c[f+2+32]=c[f+3+96]=mt(U,$,W),c[f+3+32]=mt($,W,Y)}function Gl(c,f){var _=c[f+0-32],S=c[f+1-32],O=c[f+2-32],z=c[f+3-32],U=c[f+4-32],$=c[f+5-32],W=c[f+6-32],Y=c[f+7-32];c[f+0+0]=_+S+1>>1,c[f+1+0]=c[f+0+64]=S+O+1>>1,c[f+2+0]=c[f+1+64]=O+z+1>>1,c[f+3+0]=c[f+2+64]=z+U+1>>1,c[f+0+32]=mt(_,S,O),c[f+1+32]=c[f+0+96]=mt(S,O,z),c[f+2+32]=c[f+1+96]=mt(O,z,U),c[f+3+32]=c[f+2+96]=mt(z,U,$),c[f+3+64]=mt(U,$,W),c[f+3+96]=mt($,W,Y)}function ln(c,f){var _=c[f-1+0],S=c[f-1+32],O=c[f-1+64],z=c[f-1+96];c[f+0+0]=_+S+1>>1,c[f+2+0]=c[f+0+32]=S+O+1>>1,c[f+2+32]=c[f+0+64]=O+z+1>>1,c[f+1+0]=mt(_,S,O),c[f+3+0]=c[f+1+32]=mt(S,O,z),c[f+3+32]=c[f+1+64]=mt(O,z,z),c[f+3+64]=c[f+2+64]=c[f+0+96]=c[f+1+96]=c[f+2+96]=c[f+3+96]=z}function Kl(c,f){var _=c[f-1+0],S=c[f-1+32],O=c[f-1+64],z=c[f-1+96],U=c[f-1-32],$=c[f+0-32],W=c[f+1-32],Y=c[f+2-32];c[f+0+0]=c[f+2+32]=_+U+1>>1,c[f+0+32]=c[f+2+64]=S+_+1>>1,c[f+0+64]=c[f+2+96]=O+S+1>>1,c[f+0+96]=z+O+1>>1,c[f+3+0]=mt($,W,Y),c[f+2+0]=mt(U,$,W),c[f+1+0]=c[f+3+32]=mt(_,U,$),c[f+1+32]=c[f+3+64]=mt(S,_,U),c[f+1+64]=c[f+3+96]=mt(O,S,_),c[f+1+96]=mt(z,O,S)}function za(c,f){var _;for(_=0;8>_;++_)r(c,f+32*_,c,f-32,8)}function tc(c,f){var _;for(_=0;8>_;++_)i(c,f,c[f-1],8),f+=32}function fs(c,f,_){var S;for(S=0;8>S;++S)i(f,_+32*S,c,8)}function nc(c,f){var _,S=8;for(_=0;8>_;++_)S+=c[f+_-32]+c[f-1+32*_];fs(S>>4,c,f)}function ia(c,f){var _,S=4;for(_=0;8>_;++_)S+=c[f+_-32];fs(S>>3,c,f)}function Ei(c,f){var _,S=4;for(_=0;8>_;++_)S+=c[f-1+32*_];fs(S>>3,c,f)}function Yl(c,f){fs(128,c,f)}function Ds(c,f,_){var S=c[f-_],O=c[f+0],z=3*(O-S)+sg[1020+c[f-2*_]-c[f+_]],U=Hf[112+(z+4>>3)];c[f-_]=$i[255+S+Hf[112+(z+3>>3)]],c[f+0]=$i[255+O-U]}function Os(c,f,_,S){var O=c[f+0],z=c[f+_];return vs[255+c[f-2*_]-c[f-_]]>S||vs[255+z-O]>S}function Ua(c,f,_,S){return 4*vs[255+c[f-_]-c[f+0]]+vs[255+c[f-2*_]-c[f+_]]<=S}function Ba(c,f,_,S,O){var z=c[f-3*_],U=c[f-2*_],$=c[f-_],W=c[f+0],Y=c[f+_],le=c[f+2*_],ve=c[f+3*_];return 4*vs[255+$-W]+vs[255+U-Y]>S?0:vs[255+c[f-4*_]-z]<=O&&vs[255+z-U]<=O&&vs[255+U-$]<=O&&vs[255+ve-le]<=O&&vs[255+le-Y]<=O&&vs[255+Y-W]<=O}function ps(c,f,_,S){var O=2*S+1;for(S=0;16>S;++S)Ua(c,f+S,_,O)&&Ds(c,f+S,_)}function Io(c,f,_,S){var O=2*S+1;for(S=0;16>S;++S)Ua(c,f+S*_,1,O)&&Ds(c,f+S*_,1)}function qa(c,f,_,S){var O;for(O=3;0<O;--O)ps(c,f+=4*_,_,S)}function rc(c,f,_,S){var O;for(O=3;0<O;--O)Io(c,f+=4,_,S)}function ms(c,f,_,S,O,z,U,$){for(z=2*z+1;0<O--;){if(Ba(c,f,_,z,U))if(Os(c,f,_,$))Ds(c,f,_);else{var W=c,Y=f,le=_,ve=W[Y-2*le],Q=W[Y-le],ce=W[Y+0],me=W[Y+le],Ee=W[Y+2*le],ge=27*(Ae=sg[1020+3*(ce-Q)+sg[1020+ve-me]])+63>>7,Se=18*Ae+63>>7,Ae=9*Ae+63>>7;W[Y-3*le]=$i[255+W[Y-3*le]+Ae],W[Y-2*le]=$i[255+ve+Se],W[Y-le]=$i[255+Q+ge],W[Y+0]=$i[255+ce-ge],W[Y+le]=$i[255+me-Se],W[Y+2*le]=$i[255+Ee-Ae]}f+=S}}function di(c,f,_,S,O,z,U,$){for(z=2*z+1;0<O--;){if(Ba(c,f,_,z,U))if(Os(c,f,_,$))Ds(c,f,_);else{var W=c,Y=f,le=_,ve=W[Y-le],Q=W[Y+0],ce=W[Y+le],me=Hf[112+(4+(Ee=3*(Q-ve))>>3)],Ee=Hf[112+(Ee+3>>3)],ge=me+1>>1;W[Y-2*le]=$i[255+W[Y-2*le]+ge],W[Y-le]=$i[255+ve+Ee],W[Y+0]=$i[255+Q-me],W[Y+le]=$i[255+ce-ge]}f+=S}}function Ql(c,f,_,S,O,z){ms(c,f,_,1,16,S,O,z)}function sa(c,f,_,S,O,z){ms(c,f,1,_,16,S,O,z)}function No(c,f,_,S,O,z){var U;for(U=3;0<U;--U)di(c,f+=4*_,_,1,16,S,O,z)}function g(c,f,_,S,O,z){var U;for(U=3;0<U;--U)di(c,f+=4,1,_,16,S,O,z)}function R(c,f,_,S,O,z,U,$){ms(c,f,O,1,8,z,U,$),ms(_,S,O,1,8,z,U,$)}function K(c,f,_,S,O,z,U,$){ms(c,f,1,O,8,z,U,$),ms(_,S,1,O,8,z,U,$)}function ie(c,f,_,S,O,z,U,$){di(c,f+4*O,O,1,8,z,U,$),di(_,S+4*O,O,1,8,z,U,$)}function de(c,f,_,S,O,z,U,$){di(c,f+4,1,O,8,z,U,$),di(_,S+4,1,O,8,z,U,$)}function xe(){this.ba=new Pt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ie(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function He(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Xe(){this.ua=0,this.Wa=new St,this.vb=new St,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new P}function dt(){this.xb=this.a=0,this.l=new Ao,this.ca=new Pt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Xe,this.ab=0,this.gc=a(4,He),this.Oc=0}function gt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ao,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function yt(c,f,_,S,O,z,U){for(c=c==null?0:c[f+0],f=0;f<U;++f)O[z+f]=c+_[S+f]&255,c=O[z+f]}function wn(c,f,_,S,O,z,U){var $;if(c==null)yt(null,null,_,S,O,z,U);else for($=0;$<U;++$)O[z+$]=c[f+$]+_[S+$]&255}function Fn(c,f,_,S,O,z,U){if(c==null)yt(null,null,_,S,O,z,U);else{var $,W=c[f+0],Y=W,le=W;for($=0;$<U;++$)Y=le+(W=c[f+$])-Y,le=_[S+$]+(-256&Y?0>Y?0:255:Y)&255,Y=W,O[z+$]=le}}function Kt(c,f,_,S){var O=f.width,z=f.o;if(e(c!=null&&f!=null),0>_||0>=S||_+S>z)return null;if(!c.Cc){if(c.ga==null){var U;if(c.ga=new gt,(U=c.ga==null)||(U=f.width*f.o,e(c.Gb.length==0),c.Gb=s(U),c.Uc=0,c.Gb==null?U=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,U=1),U=!U),!U){U=c.ga;var $=c.Fa,W=c.P,Y=c.qc,le=c.mb,ve=c.nb,Q=W+1,ce=Y-1,me=U.l;if(e($!=null&&le!=null&&f!=null),Fo[0]=null,Fo[1]=yt,Fo[2]=wn,Fo[3]=Fn,U.ca=le,U.tb=ve,U.c=f.width,U.i=f.height,e(0<U.c&&0<U.i),1>=Y)f=0;else if(U.$a=3&$[W+0],U.Z=$[W+0]>>2&3,U.Lc=$[W+0]>>4&3,W=$[W+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||W)f=0;else if(me.put=it,me.ac=ls,me.bc=Cs,me.ma=U,me.width=f.width,me.height=f.height,me.Da=f.Da,me.v=f.v,me.va=f.va,me.j=f.j,me.o=f.o,U.$a)e:{e(U.$a==1),f=Da();t:for(;;){if(f==null){f=0;break e}if(e(U!=null),U.mc=f,f.c=U.c,f.i=U.i,f.l=U.l,f.l.ma=U,f.l.width=U.c,f.l.height=U.i,f.a=0,X(f.m,$,Q,ce),!Vi(U.c,U.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&xi(f.s)?(U.ic=1,$=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s($),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(U.ic=0,f=Oa(f,U.c)),!f))break t;f=1;break e}U.mc=null,f=0}else f=ce>=U.c*U.i;U=!f}if(U)return null;c.ga.Lc!=1?c.Ga=0:S=z-_}e(c.ga!=null),e(_+S<=z);e:{if(f=($=c.ga).c,z=$.l.o,$.$a==0){if(Q=c.rc,ce=c.Vc,me=c.Fa,W=c.P+1+_*f,Y=c.mb,le=c.nb+_*f,e(W<=c.P+c.qc),$.Z!=0)for(e(Fo[$.Z]!=null),U=0;U<S;++U)Fo[$.Z](Q,ce,me,W,Y,le,f),Q=Y,ce=le,le+=f,W+=f;else for(U=0;U<S;++U)r(Y,le,me,W,f),Q=Y,ce=le,le+=f,W+=f;c.rc=Q,c.Vc=ce}else{if(e($.mc!=null),f=_+S,e((U=$.mc)!=null),e(f<=U.i),U.C>=f)f=1;else if($.ic||fe(),$.ic){$=U.V,Q=U.Ba,ce=U.c;var Ee=U.i,ge=(me=1,W=U.$/ce,Y=U.$%ce,le=U.m,ve=U.s,U.$),Se=ce*Ee,Ae=ce*f,Le=ve.wc,Ne=ge<Ae?jn(ve,Y,W):null;e(ge<=Se),e(f<=Ee),e(xi(ve));t:for(;;){for(;!le.h&&ge<Ae;){if(Y&Le||(Ne=jn(ve,Y,W)),e(Ne!=null),B(le),256>(Ee=kn(Ne.G[0],Ne.H[0],le)))$[Q+ge]=Ee,++ge,++Y>=ce&&(Y=0,++W<=f&&!(W%16)&&ii(U,W));else{if(!(280>Ee)){me=0;break t}Ee=Ir(Ee-256,le);var nt,Ke=kn(Ne.G[4],Ne.H[4],le);if(B(le),!(ge>=(Ke=ri(ce,Ke=Ir(Ke,le)))&&Se-ge>=Ee)){me=0;break t}for(nt=0;nt<Ee;++nt)$[Q+ge+nt]=$[Q+ge+nt-Ke];for(ge+=Ee,Y+=Ee;Y>=ce;)Y-=ce,++W<=f&&!(W%16)&&ii(U,W);ge<Ae&&Y&Le&&(Ne=jn(ve,Y,W))}e(le.h==re(le))}ii(U,W>f?f:W);break t}!me||le.h&&ge<Se?(me=0,U.a=le.h?5:3):U.$=ge,f=me}else f=si(U,U.V,U.Ba,U.c,U.i,f,Rs);if(!f){S=0;break e}}_+S>=z&&(c.Cc=1),S=1}if(!S)return null;if(c.Cc&&((S=c.ga)!=null&&(S.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+_*O}function h(c,f,_,S,O,z){for(;0<O--;){var U,$=c,W=f+(_?1:0),Y=c,le=f+(_?0:3);for(U=0;U<S;++U){var ve=Y[le+4*U];ve!=255&&(ve*=32897,$[W+4*U+0]=$[W+4*U+0]*ve>>23,$[W+4*U+1]=$[W+4*U+1]*ve>>23,$[W+4*U+2]=$[W+4*U+2]*ve>>23)}f+=z}}function w(c,f,_,S,O){for(;0<S--;){var z;for(z=0;z<_;++z){var U=c[f+2*z+0],$=15&(Y=c[f+2*z+1]),W=4369*$,Y=(240&Y|Y>>4)*W>>16;c[f+2*z+0]=(240&U|U>>4)*W>>16&240|(15&U|U<<4)*W>>16>>4&15,c[f+2*z+1]=240&Y|$}f+=O}}function T(c,f,_,S,O,z,U,$){var W,Y,le=255;for(Y=0;Y<O;++Y){for(W=0;W<S;++W){var ve=c[f+W];z[U+4*W]=ve,le&=ve}f+=_,U+=$}return le!=255}function q(c,f,_,S,O){var z;for(z=0;z<O;++z)_[S+z]=c[f+z]>>8}function fe(){Bh=h,A5=w,k5=T,T5=q}function _e(c,f,_){A[c]=function(S,O,z,U,$,W,Y,le,ve,Q,ce,me,Ee,ge,Se,Ae,Le){var Ne,nt=Le-1>>1,Ke=$[W+0]|Y[le+0]<<16,Ct=ve[Q+0]|ce[me+0]<<16;e(S!=null);var Ze=3*Ke+Ct+131074>>2;for(f(S[O+0],255&Ze,Ze>>16,Ee,ge),z!=null&&(Ze=3*Ct+Ke+131074>>2,f(z[U+0],255&Ze,Ze>>16,Se,Ae)),Ne=1;Ne<=nt;++Ne){var Bt=$[W+Ne]|Y[le+Ne]<<16,fr=ve[Q+Ne]|ce[me+Ne]<<16,Lt=Ke+Bt+Ct+fr+524296,et=Lt+2*(Bt+Ct)>>3;Ze=et+Ke>>1,Ke=(Lt=Lt+2*(Ke+fr)>>3)+Bt>>1,f(S[O+2*Ne-1],255&Ze,Ze>>16,Ee,ge+(2*Ne-1)*_),f(S[O+2*Ne-0],255&Ke,Ke>>16,Ee,ge+(2*Ne-0)*_),z!=null&&(Ze=Lt+Ct>>1,Ke=et+fr>>1,f(z[U+2*Ne-1],255&Ze,Ze>>16,Se,Ae+(2*Ne-1)*_),f(z[U+2*Ne+0],255&Ke,Ke>>16,Se,Ae+(2*Ne+0)*_)),Ke=Bt,Ct=fr}1&Le||(Ze=3*Ke+Ct+131074>>2,f(S[O+Le-1],255&Ze,Ze>>16,Ee,ge+(Le-1)*_),z!=null&&(Ze=3*Ct+Ke+131074>>2,f(z[U+Le-1],255&Ze,Ze>>16,Se,Ae+(Le-1)*_)))}}function Oe(){_s[Gf]=Q6,_s[Kf]=F5,_s[R5]=X6,_s[Yf]=V5,_s[Qf]=z5,_s[ag]=U5,_s[D5]=J6,_s[og]=F5,_s[lg]=V5,_s[Xf]=z5,_s[ug]=U5}function vt(c){return c&~Z6?0>c?0:255:c>>B5}function mn(c,f){return vt((19077*c>>8)+(26149*f>>8)-14234)}function Ut(c,f,_){return vt((19077*c>>8)-(6419*f>>8)-(13320*_>>8)+8708)}function bn(c,f){return vt((19077*c>>8)+(33050*f>>8)-17685)}function hr(c,f,_,S,O){S[O+0]=mn(c,_),S[O+1]=Ut(c,f,_),S[O+2]=bn(c,f)}function In(c,f,_,S,O){S[O+0]=bn(c,f),S[O+1]=Ut(c,f,_),S[O+2]=mn(c,_)}function Br(c,f,_,S,O){var z=Ut(c,f,_);f=z<<3&224|bn(c,f)>>3,S[O+0]=248&mn(c,_)|z>>5,S[O+1]=f}function qr(c,f,_,S,O){var z=240&bn(c,f)|15;S[O+0]=240&mn(c,_)|Ut(c,f,_)>>4,S[O+1]=z}function aa(c,f,_,S,O){S[O+0]=255,hr(c,f,_,S,O+1)}function $a(c,f,_,S,O){In(c,f,_,S,O),S[O+3]=255}function fi(c,f,_,S,O){hr(c,f,_,S,O),S[O+3]=255}function Wa(c,f,_){A[c]=function(S,O,z,U,$,W,Y,le,ve){for(var Q=le+(-2&ve)*_;le!=Q;)f(S[O+0],z[U+0],$[W+0],Y,le),f(S[O+1],z[U+0],$[W+0],Y,le+_),O+=2,++U,++W,le+=2*_;1&ve&&f(S[O+0],z[U+0],$[W+0],Y,le)}}function ic(c,f,_){return _==0?c==0?f==0?6:5:f==0?4:0:_}function qf(c,f,_,S,O){switch(c>>>30){case 3:eu(f,_,S,O,0);break;case 2:ys(f,_,S,O);break;case 1:rn(f,_,S,O)}}function gs(c,f){var _,S,O=f.M,z=f.Nb,U=c.oc,$=c.pc+40,W=c.oc,Y=c.pc+584,le=c.oc,ve=c.pc+600;for(_=0;16>_;++_)U[$+32*_-1]=129;for(_=0;8>_;++_)W[Y+32*_-1]=129,le[ve+32*_-1]=129;for(0<O?U[$-1-32]=W[Y-1-32]=le[ve-1-32]=129:(i(U,$-32-1,127,21),i(W,Y-32-1,127,9),i(le,ve-32-1,127,9)),S=0;S<c.za;++S){var Q=f.ya[f.aa+S];if(0<S){for(_=-1;16>_;++_)r(U,$+32*_-4,U,$+32*_+12,4);for(_=-1;8>_;++_)r(W,Y+32*_-4,W,Y+32*_+4,4),r(le,ve+32*_-4,le,ve+32*_+4,4)}var ce=c.Gd,me=c.Hd+S,Ee=Q.ad,ge=Q.Hc;if(0<O&&(r(U,$-32,ce[me].y,0,16),r(W,Y-32,ce[me].f,0,8),r(le,ve-32,ce[me].ea,0,8)),Q.Za){var Se=U,Ae=$-32+16;for(0<O&&(S>=c.za-1?i(Se,Ae,ce[me].y[15],4):r(Se,Ae,ce[me+1].y,0,4)),_=0;4>_;_++)Se[Ae+128+_]=Se[Ae+256+_]=Se[Ae+384+_]=Se[Ae+0+_];for(_=0;16>_;++_,ge<<=2)Se=U,Ae=$+$5[_],Ms[Q.Ob[_]](Se,Ae),qf(ge,Ee,16*+_,Se,Ae)}else if(Se=ic(S,O,Q.Ob[0]),jo[Se](U,$),ge!=0)for(_=0;16>_;++_,ge<<=2)qf(ge,Ee,16*+_,U,$+$5[_]);for(_=Q.Gc,Se=ic(S,O,Q.Dd),Ka[Se](W,Y),Ka[Se](le,ve),ge=Ee,Se=W,Ae=Y,255&(Q=0|_)&&(170&Q?ua(ge,256,Se,Ae):yn(ge,256,Se,Ae)),Q=le,ge=ve,255&(_>>=8)&&(170&_?ua(Ee,320,Q,ge):yn(Ee,320,Q,ge)),O<c.Ub-1&&(r(ce[me].y,0,U,$+480,16),r(ce[me].f,0,W,Y+224,8),r(ce[me].ea,0,le,ve+224,8)),_=8*z*c.B,ce=c.sa,me=c.ta+16*S+16*z*c.R,Ee=c.qa,Q=c.ra+8*S+_,ge=c.Ha,Se=c.Ia+8*S+_,_=0;16>_;++_)r(ce,me+_*c.R,U,$+32*_,16);for(_=0;8>_;++_)r(Ee,Q+_*c.B,W,Y+32*_,8),r(ge,Se+_*c.B,le,ve+32*_,8)}}function Xl(c,f,_,S,O,z,U,$,W){var Y=[0],le=[0],ve=0,Q=W!=null?W.kd:0,ce=W??new Ie;if(c==null||12>_)return 7;ce.data=c,ce.w=f,ce.ha=_,f=[f],_=[_],ce.gb=[ce.gb];e:{var me=f,Ee=_,ge=ce.gb;if(e(c!=null),e(Ee!=null),e(ge!=null),ge[0]=0,12<=Ee[0]&&!n(c,me[0],"RIFF")){if(n(c,me[0]+8,"WEBP")){ge=3;break e}var Se=Ue(c,me[0]+4);if(12>Se||4294967286<Se){ge=3;break e}if(Q&&Se>Ee[0]-8){ge=7;break e}ge[0]=Se,me[0]+=12,Ee[0]-=12}ge=0}if(ge!=0)return ge;for(Se=0<ce.gb[0],_=_[0];;){e:{var Ae=c;Ee=f,ge=_;var Le=Y,Ne=le,nt=me=[0];if((Ze=ve=[ve])[0]=0,8>ge[0])ge=7;else{if(!n(Ae,Ee[0],"VP8X")){if(Ue(Ae,Ee[0]+4)!=10){ge=3;break e}if(18>ge[0]){ge=7;break e}var Ke=Ue(Ae,Ee[0]+8),Ct=1+Re(Ae,Ee[0]+12);if(2147483648<=Ct*(Ae=1+Re(Ae,Ee[0]+15))){ge=3;break e}nt!=null&&(nt[0]=Ke),Le!=null&&(Le[0]=Ct),Ne!=null&&(Ne[0]=Ae),Ee[0]+=18,ge[0]-=18,Ze[0]=1}ge=0}}if(ve=ve[0],me=me[0],ge!=0)return ge;if(Ee=!!(2&me),!Se&&ve)return 3;if(z!=null&&(z[0]=!!(16&me)),U!=null&&(U[0]=Ee),$!=null&&($[0]=0),U=Y[0],me=le[0],ve&&Ee&&W==null){ge=0;break}if(4>_){ge=7;break}if(Se&&ve||!Se&&!ve&&!n(c,f[0],"ALPH")){_=[_],ce.na=[ce.na],ce.P=[ce.P],ce.Sa=[ce.Sa];e:{Ke=c,ge=f,Se=_;var Ze=ce.gb;Le=ce.na,Ne=ce.P,nt=ce.Sa,Ct=22,e(Ke!=null),e(Se!=null),Ae=ge[0];var Bt=Se[0];for(e(Le!=null),e(nt!=null),Le[0]=null,Ne[0]=null,nt[0]=0;;){if(ge[0]=Ae,Se[0]=Bt,8>Bt){ge=7;break e}var fr=Ue(Ke,Ae+4);if(4294967286<fr){ge=3;break e}var Lt=8+fr+1&-2;if(Ct+=Lt,0<Ze&&Ct>Ze){ge=3;break e}if(!n(Ke,Ae,"VP8 ")||!n(Ke,Ae,"VP8L")){ge=0;break e}if(Bt[0]<Lt){ge=7;break e}n(Ke,Ae,"ALPH")||(Le[0]=Ke,Ne[0]=Ae+8,nt[0]=fr),Ae+=Lt,Bt-=Lt}}if(_=_[0],ce.na=ce.na[0],ce.P=ce.P[0],ce.Sa=ce.Sa[0],ge!=0)break}_=[_],ce.Ja=[ce.Ja],ce.xa=[ce.xa];e:if(Ze=c,ge=f,Se=_,Le=ce.gb[0],Ne=ce.Ja,nt=ce.xa,Ke=ge[0],Ae=!n(Ze,Ke,"VP8 "),Ct=!n(Ze,Ke,"VP8L"),e(Ze!=null),e(Se!=null),e(Ne!=null),e(nt!=null),8>Se[0])ge=7;else{if(Ae||Ct){if(Ze=Ue(Ze,Ke+4),12<=Le&&Ze>Le-12){ge=3;break e}if(Q&&Ze>Se[0]-8){ge=7;break e}Ne[0]=Ze,ge[0]+=8,Se[0]-=8,nt[0]=Ct}else nt[0]=5<=Se[0]&&Ze[Ke+0]==47&&!(Ze[Ke+4]>>5),Ne[0]=Se[0];ge=0}if(_=_[0],ce.Ja=ce.Ja[0],ce.xa=ce.xa[0],f=f[0],ge!=0)break;if(4294967286<ce.Ja)return 3;if($==null||Ee||($[0]=ce.xa?2:1),U=[U],me=[me],ce.xa){if(5>_){ge=7;break}$=U,Q=me,Ee=z,c==null||5>_?c=0:5<=_&&c[f+0]==47&&!(c[f+4]>>5)?(Se=[0],Ze=[0],Le=[0],X(Ne=new G,c,f,_),Ls(Ne,Se,Ze,Le)?($!=null&&($[0]=Se[0]),Q!=null&&(Q[0]=Ze[0]),Ee!=null&&(Ee[0]=Le[0]),c=1):c=0):c=0}else{if(10>_){ge=7;break}$=me,c==null||10>_||!na(c,f+3,_-3)?c=0:(Q=c[f+0]|c[f+1]<<8|c[f+2]<<16,Ee=16383&(c[f+7]<<8|c[f+6]),c=16383&(c[f+9]<<8|c[f+8]),1&Q||3<(Q>>1&7)||!(Q>>4&1)||Q>>5>=ce.Ja||!Ee||!c?c=0:(U&&(U[0]=Ee),$&&($[0]=c),c=1))}if(!c||(U=U[0],me=me[0],ve&&(Y[0]!=U||le[0]!=me)))return 3;W!=null&&(W[0]=ce,W.offset=f-W.w,e(4294967286>f-W.w),e(W.offset==W.ha-_));break}return ge==0||ge==7&&ve&&W==null?(z!=null&&(z[0]|=ce.na!=null&&0<ce.na.length),S!=null&&(S[0]=U),O!=null&&(O[0]=me),0):ge}function Dh(c,f,_){var S=f.width,O=f.height,z=0,U=0,$=S,W=O;if(f.Da=c!=null&&0<c.Da,f.Da&&($=c.cd,W=c.bd,z=c.v,U=c.j,11>_||(z&=-2,U&=-2),0>z||0>U||0>=$||0>=W||z+$>S||U+W>O))return 0;if(f.v=z,f.j=U,f.va=z+$,f.o=U+W,f.U=$,f.T=W,f.da=c!=null&&0<c.da,f.da){if(!ot($,W,_=[c.ib],z=[c.hb]))return 0;f.ib=_[0],f.hb=z[0]}return f.ob=c!=null&&c.ob,f.Kb=c==null||!c.Sd,f.da&&(f.ob=f.ib<3*S/4&&f.hb<3*O/4,f.Kb=0),1}function Oh(c){if(c==null)return 2;if(11>c.S){var f=c.f.RGBA;f.fb+=(c.height-1)*f.A,f.A=-f.A}else f=c.f.kb,c=c.height,f.O+=(c-1)*f.fa,f.fa=-f.fa,f.N+=(c-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(c-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(c-1)*f.lb,f.lb=-f.lb);return 0}function Po(c,f,_,S){if(S==null||0>=c||0>=f)return 2;if(_!=null){if(_.Da){var O=_.cd,z=_.bd,U=-2&_.v,$=-2&_.j;if(0>U||0>$||0>=O||0>=z||U+O>c||$+z>f)return 2;c=O,f=z}if(_.da){if(!ot(c,f,O=[_.ib],z=[_.hb]))return 2;c=O[0],f=z[0]}}S.width=c,S.height=f;e:{var W=S.width,Y=S.height;if(c=S.S,0>=W||0>=Y||!(c>=Gf&&13>c))c=2;else{if(0>=S.Rd&&S.sd==null){U=z=O=f=0;var le=($=W*W5[c])*Y;if(11>c||(z=(Y+1)/2*(f=(W+1)/2),c==12&&(U=(O=W)*Y)),(Y=s(le+2*z+U))==null){c=1;break e}S.sd=Y,11>c?((W=S.f.RGBA).eb=Y,W.fb=0,W.A=$,W.size=le):((W=S.f.kb).y=Y,W.O=0,W.fa=$,W.Fd=le,W.f=Y,W.N=0+le,W.Ab=f,W.Cd=z,W.ea=Y,W.W=0+le+z,W.Db=f,W.Ed=z,c==12&&(W.F=Y,W.J=0+le+2*z),W.Tc=U,W.lb=O)}if(f=1,O=S.S,z=S.width,U=S.height,O>=Gf&&13>O)if(11>O)c=S.f.RGBA,f&=($=Math.abs(c.A))*(U-1)+z<=c.size,f&=$>=z*W5[O],f&=c.eb!=null;else{c=S.f.kb,$=(z+1)/2,le=(U+1)/2,W=Math.abs(c.fa),Y=Math.abs(c.Ab);var ve=Math.abs(c.Db),Q=Math.abs(c.lb),ce=Q*(U-1)+z;f&=W*(U-1)+z<=c.Fd,f&=Y*(le-1)+$<=c.Cd,f=(f&=ve*(le-1)+$<=c.Ed)&W>=z&Y>=$&ve>=$,f&=c.y!=null,f&=c.f!=null,f&=c.ea!=null,O==12&&(f&=Q>=z,f&=ce<=c.Tc,f&=c.F!=null)}else f=0;c=f?0:2}}return c!=0||_!=null&&_.fd&&(c=Oh(S)),c}var Jl=64,Bi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qi=24,Co=32,Ha=8,Lo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(c){return c},A.Predictor2=function(c,f,_){return f[_+0]},A.Predictor3=function(c,f,_){return f[_+1]},A.Predictor4=function(c,f,_){return f[_-1]},A.Predictor5=function(c,f,_){return at(at(c,f[_+1]),f[_+0])},A.Predictor6=function(c,f,_){return at(c,f[_-1])},A.Predictor7=function(c,f,_){return at(c,f[_+0])},A.Predictor8=function(c,f,_){return at(f[_-1],f[_+0])},A.Predictor9=function(c,f,_){return at(f[_+0],f[_+1])},A.Predictor10=function(c,f,_){return at(at(c,f[_-1]),at(f[_+0],f[_+1]))},A.Predictor11=function(c,f,_){var S=f[_+0];return 0>=ht(S>>24&255,c>>24&255,(f=f[_-1])>>24&255)+ht(S>>16&255,c>>16&255,f>>16&255)+ht(S>>8&255,c>>8&255,f>>8&255)+ht(255&S,255&c,255&f)?S:c},A.Predictor12=function(c,f,_){var S=f[_+0];return(Ht((c>>24&255)+(S>>24&255)-((f=f[_-1])>>24&255))<<24|Ht((c>>16&255)+(S>>16&255)-(f>>16&255))<<16|Ht((c>>8&255)+(S>>8&255)-(f>>8&255))<<8|Ht((255&c)+(255&S)-(255&f)))>>>0},A.Predictor13=function(c,f,_){var S=f[_-1];return(Dt((c=at(c,f[_+0]))>>24&255,S>>24&255)<<24|Dt(c>>16&255,S>>16&255)<<16|Dt(c>>8&255,S>>8&255)<<8|Dt(255&c,255&S))>>>0};var Mh=A.PredictorAdd0;A.PredictorAdd1=Ot,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var sc=A.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Qn,$f=A.ColorIndexInverseTransform,oa=A.MapARGB,la=A.VP8LColorIndexInverseTransformAlpha,jh=A.MapAlpha,Fh=A.VP8LPredictorsAdd=[];Fh.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var Vh,zh,Ro,Do,Oo,Zl,Mo,eu,ys,ua,rn,yn,Xn,dr,Ga,Uh,ac,Wf,_5,w5,b5,x5,E5,S5,Bh,A5,k5,T5,I5=s(511),N5=s(2041),P5=s(225),C5=s(767),L5=0,sg=N5,Hf=P5,$i=C5,vs=I5,Gf=0,Kf=1,R5=2,Yf=3,Qf=4,ag=5,D5=6,og=7,lg=8,Xf=9,ug=10,M6=[2,3,7],j6=[3,3,11],O5=[280,256,256,256,40],F6=[0,1,1,1,0],V6=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],z6=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],U6=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],B6=8,cg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],hg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qh=null,q6=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$6=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],M5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],W6=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],H6=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],G6=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],K6=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],jo=[],Ms=[],Ka=[],Y6=1,j5=2,Fo=[],_s=[];_e("UpsampleRgbLinePair",hr,3),_e("UpsampleBgrLinePair",In,3),_e("UpsampleRgbaLinePair",fi,4),_e("UpsampleBgraLinePair",$a,4),_e("UpsampleArgbLinePair",aa,4),_e("UpsampleRgba4444LinePair",qr,2),_e("UpsampleRgb565LinePair",Br,2);var Q6=A.UpsampleRgbLinePair,X6=A.UpsampleBgrLinePair,F5=A.UpsampleRgbaLinePair,V5=A.UpsampleBgraLinePair,z5=A.UpsampleArgbLinePair,U5=A.UpsampleRgba4444LinePair,J6=A.UpsampleRgb565LinePair,Jf=16,Zf=1<<Jf-1,$h=-227,dg=482,B5=6,Z6=(256<<B5)-1,q5=0,eT=s(256),tT=s(256),nT=s(256),rT=s(256),iT=s(dg-$h),sT=s(dg-$h);Wa("YuvToRgbRow",hr,3),Wa("YuvToBgrRow",In,3),Wa("YuvToRgbaRow",fi,4),Wa("YuvToBgraRow",$a,4),Wa("YuvToArgbRow",aa,4),Wa("YuvToRgba4444Row",qr,2),Wa("YuvToRgb565Row",Br,2);var $5=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ep=[0,2,8],aT=[8,7,6,4,4,2,2,2,1,1,1,1],oT=1;this.WebPDecodeRGBA=function(c,f,_,S,O){var z=Kf,U=new xe,$=new Pt;U.ba=$,$.S=z,$.width=[$.width],$.height=[$.height];var W=$.width,Y=$.height,le=new We;if(le==null||c==null)var ve=2;else e(le!=null),ve=Xl(c,f,_,le.width,le.height,le.Pd,le.Qd,le.format,null);if(ve!=0?W=0:(W!=null&&(W[0]=le.width[0]),Y!=null&&(Y[0]=le.height[0]),W=1),W){$.width=$.width[0],$.height=$.height[0],S!=null&&(S[0]=$.width),O!=null&&(O[0]=$.height);e:{if(S=new Ao,(O=new Ie).data=c,O.w=f,O.ha=_,O.kd=1,f=[0],e(O!=null),((c=Xl(O.data,O.w,O.ha,null,null,null,f,null,O))==0||c==7)&&f[0]&&(c=4),(f=c)==0){if(e(U!=null),S.data=O.data,S.w=O.w+O.offset,S.ha=O.ha-O.offset,S.put=it,S.ac=ls,S.bc=Cs,S.ma=U,O.xa){if((c=Da())==null){U=1;break e}if(function(Q,ce){var me=[0],Ee=[0],ge=[0];t:for(;;){if(Q==null)return 0;if(ce==null)return Q.a=2,0;if(Q.l=ce,Q.a=0,X(Q.m,ce.data,ce.w,ce.ha),!Ls(Q.m,me,Ee,ge)){Q.a=3;break t}if(Q.xb=j5,ce.width=me[0],ce.height=Ee[0],!Vi(me[0],Ee[0],1,Q,null))break t;return 1}return e(Q.a!=0),0}(c,S)){if(S=(f=Po(S.width,S.height,U.Oa,U.ba))==0){t:{S=c;n:for(;;){if(S==null){S=0;break t}if(e(S.s.yc!=null),e(S.s.Ya!=null),e(0<S.s.Wb),e((_=S.l)!=null),e((O=_.ma)!=null),S.xb!=0){if(S.ca=O.ba,S.tb=O.tb,e(S.ca!=null),!Dh(O.Oa,_,Yf)){S.a=2;break n}if(!Oa(S,_.width)||_.da)break n;if((_.da||ut(S.ca.S))&&fe(),11>S.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),S.ca.f.kb.F!=null&&fe()),S.Pb&&0<S.s.ua&&S.s.vb.X==null&&!H(S.s.vb,S.s.Wa.Xa)){S.a=1;break n}S.xb=0}if(!si(S,S.V,S.Ba,S.c,S.i,_.o,Nr))break n;O.Dc=S.Ma,S=1;break t}e(S.a!=0),S=0}S=!S}S&&(f=c.a)}else f=c.a}else{if((c=new us)==null){U=1;break e}if(c.Fa=O.na,c.P=O.P,c.qc=O.Sa,Ur(c,S)){if((f=Po(S.width,S.height,U.Oa,U.ba))==0){if(c.Aa=0,_=U.Oa,e((O=c)!=null),_!=null){if(0<(W=0>(W=_.Md)?0:100<W?255:255*W/100)){for(Y=le=0;4>Y;++Y)12>(ve=O.pb[Y]).lc&&(ve.ia=W*aT[0>ve.lc?0:ve.lc]>>3),le|=ve.ia;le&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=_.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(Q,ce){if(Q==null)return 0;if(ce==null)return Xt(Q,2,"NULL VP8Io parameter in VP8Decode().");if(!Q.cb&&!Ur(Q,ce))return 0;if(e(Q.cb),ce.ac==null||ce.ac(ce)){ce.ob&&(Q.L=0);var me=ep[Q.L];if(Q.L==2?(Q.yb=0,Q.zb=0):(Q.yb=ce.v-me>>4,Q.zb=ce.j-me>>4,0>Q.yb&&(Q.yb=0),0>Q.zb&&(Q.zb=0)),Q.Va=ce.o+15+me>>4,Q.Hb=ce.va+15+me>>4,Q.Hb>Q.za&&(Q.Hb=Q.za),Q.Va>Q.Ub&&(Q.Va=Q.Ub),0<Q.L){var Ee=Q.ed;for(me=0;4>me;++me){var ge;if(Q.Qa.Cb){var Se=Q.Qa.Lb[me];Q.Qa.Fb||(Se+=Ee.Tb)}else Se=Ee.Tb;for(ge=0;1>=ge;++ge){var Ae=Q.gd[me][ge],Le=Se;if(Ee.Pc&&(Le+=Ee.vd[0],ge&&(Le+=Ee.od[0])),0<(Le=0>Le?0:63<Le?63:Le)){var Ne=Le;0<Ee.wb&&(Ne=4<Ee.wb?Ne>>2:Ne>>1)>9-Ee.wb&&(Ne=9-Ee.wb),1>Ne&&(Ne=1),Ae.dd=Ne,Ae.tc=2*Le+Ne,Ae.ld=40<=Le?2:15<=Le?1:0}else Ae.tc=0;Ae.La=ge}}}me=0}else Xt(Q,6,"Frame setup failed"),me=Q.a;if(me=me==0){if(me){Q.$c=0,0<Q.Aa||(Q.Ic=oT);t:{me=Q.Ic,Ee=4*(Ne=Q.za);var nt=32*Ne,Ke=Ne+1,Ct=0<Q.L?Ne*(0<Q.Aa?2:1):0,Ze=(Q.Aa==2?2:1)*Ne;if((Ae=Ee+832+(ge=3*(16*me+ep[Q.L])/2*nt)+(Se=Q.Fa!=null&&0<Q.Fa.length?Q.Kc.c*Q.Kc.i:0))!=Ae)me=0;else{if(Ae>Q.Vb){if(Q.Vb=0,Q.Ec=s(Ae),Q.Fc=0,Q.Ec==null){me=Xt(Q,1,"no memory during frame initialization.");break t}Q.Vb=Ae}Ae=Q.Ec,Le=Q.Fc,Q.Ac=Ae,Q.Bc=Le,Le+=Ee,Q.Gd=a(nt,Bl),Q.Hd=0,Q.rb=a(Ke+1,Eo),Q.sb=1,Q.wa=Ct?a(Ct,oi):null,Q.Y=0,Q.D.Nb=0,Q.D.wa=Q.wa,Q.D.Y=Q.Y,0<Q.Aa&&(Q.D.Y+=Ne),e(!0),Q.oc=Ae,Q.pc=Le,Le+=832,Q.ya=a(Ze,Fa),Q.aa=0,Q.D.ya=Q.ya,Q.D.aa=Q.aa,Q.Aa==2&&(Q.D.aa+=Ne),Q.R=16*Ne,Q.B=8*Ne,Ne=(nt=ep[Q.L])*Q.R,nt=nt/2*Q.B,Q.sa=Ae,Q.ta=Le+Ne,Q.qa=Q.sa,Q.ra=Q.ta+16*me*Q.R+nt,Q.Ha=Q.qa,Q.Ia=Q.ra+8*me*Q.B+nt,Q.$c=0,Le+=ge,Q.mb=Se?Ae:null,Q.nb=Se?Le:null,e(Le+Se<=Q.Fc+Q.Vb),nn(Q),i(Q.Ac,Q.Bc,0,Ee),me=1}}if(me){if(ce.ka=0,ce.y=Q.sa,ce.O=Q.ta,ce.f=Q.qa,ce.N=Q.ra,ce.ea=Q.Ha,ce.Vd=Q.Ia,ce.fa=Q.R,ce.Rc=Q.B,ce.F=null,ce.J=0,!L5){for(me=-255;255>=me;++me)I5[255+me]=0>me?-me:me;for(me=-1020;1020>=me;++me)N5[1020+me]=-128>me?-128:127<me?127:me;for(me=-112;112>=me;++me)P5[112+me]=-16>me?-16:15<me?15:me;for(me=-255;510>=me;++me)C5[255+me]=0>me?0:255<me?255:me;L5=1}Mo=hs,eu=Lh,ua=cs,rn=Ku,yn=Yu,ys=Gu,Xn=Ql,dr=sa,Ga=R,Uh=K,ac=No,Wf=g,_5=ie,w5=de,b5=ps,x5=Io,E5=qa,S5=rc,Ms[0]=Zu,Ms[1]=Qu,Ms[2]=Hl,Ms[3]=To,Ms[4]=ci,Ms[5]=ec,Ms[6]=hi,Ms[7]=Gl,Ms[8]=Kl,Ms[9]=ln,jo[0]=Rh,jo[1]=Ju,jo[2]=ko,jo[3]=$l,jo[4]=Va,jo[5]=Wl,jo[6]=ds,Ka[0]=nc,Ka[1]=Xu,Ka[2]=za,Ka[3]=tc,Ka[4]=Ei,Ka[5]=ia,Ka[6]=Yl,me=1}else me=0}me&&(me=function(Bt,fr){for(Bt.M=0;Bt.M<Bt.Va;++Bt.M){var Lt,et=Bt.Jc[Bt.M&Bt.Xb],ze=Bt.m,Jn=Bt;for(Lt=0;Lt<Jn.za;++Lt){var Nt=ze,$t=Jn,Nn=$t.Ac,Cr=$t.Bc+4*Lt,pi=$t.zc,Hn=$t.ya[$t.aa+Lt];if($t.Qa.Bb?Hn.$b=be(Nt,$t.Pa.jb[0])?2+be(Nt,$t.Pa.jb[2]):be(Nt,$t.Pa.jb[1]):Hn.$b=0,$t.kc&&(Hn.Ad=be(Nt,$t.Bd)),Hn.Za=!be(Nt,145)+0,Hn.Za){var $r=Hn.Ob,mi=0;for($t=0;4>$t;++$t){var pr,Yt=pi[0+$t];for(pr=0;4>pr;++pr){Yt=H6[Nn[Cr+pr]][Yt];for(var un=M5[be(Nt,Yt[0])];0<un;)un=M5[2*un+be(Nt,Yt[un])];Yt=-un,Nn[Cr+pr]=Yt}r($r,mi,Nn,Cr,4),mi+=4,pi[0+$t]=Yt}}else Yt=be(Nt,156)?be(Nt,128)?1:3:be(Nt,163)?2:0,Hn.Ob[0]=Yt,i(Nn,Cr,Yt,4),i(pi,0,Yt,4);Hn.Dd=be(Nt,142)?be(Nt,114)?be(Nt,183)?1:3:2:0}if(Jn.m.Ka)return Xt(Bt,7,"Premature end-of-partition0 encountered.");for(;Bt.ja<Bt.za;++Bt.ja){if(Jn=et,Nt=(ze=Bt).rb[ze.sb-1],Nn=ze.rb[ze.sb+ze.ja],Lt=ze.ya[ze.aa+ze.ja],Cr=ze.kc?Lt.Ad:0)Nt.la=Nn.la=0,Lt.Za||(Nt.Na=Nn.Na=0),Lt.Hc=0,Lt.Gc=0,Lt.ia=0;else{var Gn,cn;if(Nt=Nn,Nn=Jn,Cr=ze.Pa.Xc,pi=ze.ya[ze.aa+ze.ja],Hn=ze.pb[pi.$b],$t=pi.ad,$r=0,mi=ze.rb[ze.sb-1],Yt=pr=0,i($t,$r,0,384),pi.Za)var Lr=0,js=Cr[3];else{un=s(16);var Zn=Nt.Na+mi.Na;if(Zn=qh(Nn,Cr[1],Zn,Hn.Eb,0,un,0),Nt.Na=mi.Na=(0<Zn)+0,1<Zn)Mo(un,0,$t,$r);else{var Si=un[0]+3>>3;for(un=0;256>un;un+=16)$t[$r+un]=Si}Lr=1,js=Cr[0]}var vn=15&Nt.la,mr=15&mi.la;for(un=0;4>un;++un){var Wi=1&mr;for(Si=cn=0;4>Si;++Si)vn=vn>>1|(Wi=(Zn=qh(Nn,js,Zn=Wi+(1&vn),Hn.Sc,Lr,$t,$r))>Lr)<<7,cn=cn<<2|(3<Zn?3:1<Zn?2:$t[$r+0]!=0),$r+=16;vn>>=4,mr=mr>>1|Wi<<7,pr=(pr<<8|cn)>>>0}for(js=vn,Lr=mr>>4,Gn=0;4>Gn;Gn+=2){for(cn=0,vn=Nt.la>>4+Gn,mr=mi.la>>4+Gn,un=0;2>un;++un){for(Wi=1&mr,Si=0;2>Si;++Si)Zn=Wi+(1&vn),vn=vn>>1|(Wi=0<(Zn=qh(Nn,Cr[2],Zn,Hn.Qc,0,$t,$r)))<<3,cn=cn<<2|(3<Zn?3:1<Zn?2:$t[$r+0]!=0),$r+=16;vn>>=2,mr=mr>>1|Wi<<5}Yt|=cn<<4*Gn,js|=vn<<4<<Gn,Lr|=(240&mr)<<Gn}Nt.la=js,mi.la=Lr,pi.Hc=pr,pi.Gc=Yt,pi.ia=43690&Yt?0:Hn.ia,Cr=!(pr|Yt)}if(0<ze.L&&(ze.wa[ze.Y+ze.ja]=ze.gd[Lt.$b][Lt.Za],ze.wa[ze.Y+ze.ja].La|=!Cr),Jn.Ka)return Xt(Bt,7,"Premature end-of-file encountered.")}if(nn(Bt),ze=fr,Jn=1,Lt=(et=Bt).D,Nt=0<et.L&&et.M>=et.zb&&et.M<=et.Va,et.Aa==0)t:{if(Lt.M=et.M,Lt.uc=Nt,gs(et,Lt),Jn=1,Lt=(cn=et.D).Nb,Nt=(Yt=ep[et.L])*et.R,Nn=Yt/2*et.B,un=16*Lt*et.R,Si=8*Lt*et.B,Cr=et.sa,pi=et.ta-Nt+un,Hn=et.qa,$t=et.ra-Nn+Si,$r=et.Ha,mi=et.Ia-Nn+Si,mr=(vn=cn.M)==0,pr=vn>=et.Va-1,et.Aa==2&&gs(et,cn),cn.uc)for(Wi=(Zn=et).D.M,e(Zn.D.uc),cn=Zn.yb;cn<Zn.Hb;++cn){Lr=cn,js=Wi;var gi=(Hi=(Rr=Zn).D).Nb;Gn=Rr.R;var Hi=Hi.wa[Hi.Y+Lr],Gi=Rr.sa,Ai=Rr.ta+16*gi*Gn+16*Lr,Ki=Hi.dd,xn=Hi.tc;if(xn!=0)if(e(3<=xn),Rr.L==1)0<Lr&&x5(Gi,Ai,Gn,xn+4),Hi.La&&S5(Gi,Ai,Gn,xn),0<js&&b5(Gi,Ai,Gn,xn+4),Hi.La&&E5(Gi,Ai,Gn,xn);else{var Yi=Rr.B,Fs=Rr.qa,tu=Rr.ra+8*gi*Yi+8*Lr,Ya=Rr.Ha,Rr=Rr.Ia+8*gi*Yi+8*Lr;gi=Hi.ld,0<Lr&&(dr(Gi,Ai,Gn,xn+4,Ki,gi),Uh(Fs,tu,Ya,Rr,Yi,xn+4,Ki,gi)),Hi.La&&(Wf(Gi,Ai,Gn,xn,Ki,gi),w5(Fs,tu,Ya,Rr,Yi,xn,Ki,gi)),0<js&&(Xn(Gi,Ai,Gn,xn+4,Ki,gi),Ga(Fs,tu,Ya,Rr,Yi,xn+4,Ki,gi)),Hi.La&&(ac(Gi,Ai,Gn,xn,Ki,gi),_5(Fs,tu,Ya,Rr,Yi,xn,Ki,gi))}}if(et.ia&&alert("todo:DitherRow"),ze.put!=null){if(cn=16*vn,vn=16*(vn+1),mr?(ze.y=et.sa,ze.O=et.ta+un,ze.f=et.qa,ze.N=et.ra+Si,ze.ea=et.Ha,ze.W=et.Ia+Si):(cn-=Yt,ze.y=Cr,ze.O=pi,ze.f=Hn,ze.N=$t,ze.ea=$r,ze.W=mi),pr||(vn-=Yt),vn>ze.o&&(vn=ze.o),ze.F=null,ze.J=null,et.Fa!=null&&0<et.Fa.length&&cn<vn&&(ze.J=Kt(et,ze,cn,vn-cn),ze.F=et.mb,ze.F==null&&ze.F.length==0)){Jn=Xt(et,3,"Could not decode alpha data.");break t}cn<ze.j&&(Yt=ze.j-cn,cn=ze.j,e(!(1&Yt)),ze.O+=et.R*Yt,ze.N+=et.B*(Yt>>1),ze.W+=et.B*(Yt>>1),ze.F!=null&&(ze.J+=ze.width*Yt)),cn<vn&&(ze.O+=ze.v,ze.N+=ze.v>>1,ze.W+=ze.v>>1,ze.F!=null&&(ze.J+=ze.v),ze.ka=cn-ze.j,ze.U=ze.va-ze.v,ze.T=vn-cn,Jn=ze.put(ze))}Lt+1!=et.Ic||pr||(r(et.sa,et.ta-Nt,Cr,pi+16*et.R,Nt),r(et.qa,et.ra-Nn,Hn,$t+8*et.B,Nn),r(et.Ha,et.Ia-Nn,$r,mi+8*et.B,Nn))}if(!Jn)return Xt(Bt,6,"Output aborted.")}return 1}(Q,ce)),ce.bc!=null&&ce.bc(ce),me&=1}return me?(Q.cb=0,me):0})(c,S)||(f=c.a)}}else f=c.a}f==0&&U.Oa!=null&&U.Oa.fd&&(f=Oh(U.ba))}U=f}z=U!=0?null:11>z?$.f.RGBA.eb:$.f.kb.y}else z=null;return z};var W5=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(A,D){for(var x="",I=0;I<4;I++)x+=String.fromCharCode(A[D++]);return x}function d(A,D){return A[D+0]|A[D+1]<<8}function m(A,D){return(A[D+0]|A[D+1]<<8|A[D+2]<<16)>>>0}function y(A,D){return(A[D+0]|A[D+1]<<8|A[D+2]<<16|A[D+3]<<24)>>>0}new l;var p=[0],N=[0],L=[],V=new l,E=t,C=function(A,D){var x={},I=0,P=!1,Z=0,ue=0;if(x.frames=[],!function(M,G){for(var te=0;te<4;te++)if(M[G+te]!="RIFF".charCodeAt(te))return!0;return!1}(A,D)){for(y(A,D+=4),D+=8;D<A.length;){var we=u(A,D),ae=y(A,D+=4);D+=4;var ee=ae+(1&ae);switch(we){case"VP8 ":case"VP8L":x.frames[I]===void 0&&(x.frames[I]={}),(pe=x.frames[I]).src_off=P?ue:D-8,pe.src_size=Z+ae+8,I++,P&&(P=!1,Z=0,ue=0);break;case"VP8X":(pe=x.header={}).feature_flags=A[D];var X=D+4;pe.canvas_width=1+m(A,X),X+=3,pe.canvas_height=1+m(A,X),X+=3;break;case"ALPH":P=!0,Z=ee+8,ue=D-8;break;case"ANIM":(pe=x.header).bgcolor=y(A,D),X=D+4,pe.loop_count=d(A,X),X+=2;break;case"ANMF":var he,pe;(pe=x.frames[I]={}).offset_x=2*m(A,D),D+=3,pe.offset_y=2*m(A,D),D+=3,pe.width=1+m(A,D),D+=3,pe.height=1+m(A,D),D+=3,pe.duration=m(A,D),D+=3,he=A[D++],pe.dispose=1&he,pe.blend=he>>1&1}we!="ANMF"&&(D+=ee)}return x}}(E,0);C.response=E,C.rgbaoutput=!0,C.dataurl=!1;var k=C.header?C.header:null,F=C.frames?C.frames:null;if(k){k.loop_counter=k.loop_count,p=[k.canvas_height],N=[k.canvas_width];for(var J=0;J<F.length&&F[J].blend!=0;J++);}var ne=F[0],j=V.WebPDecodeRGBA(E,ne.src_off,ne.src_size,N,p);ne.rgba=j,ne.imgwidth=N[0],ne.imgheight=p[0];for(var b=0;b<N[0]*p[0]*4;b++)L[b]=j[b];return this.width=N,this.height=p,this.data=L,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function hU(){var t,e=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function dU(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,n,r,i,s,a,o,l,u,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new a,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new a,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var m=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=M;Object.defineProperty(this,"pdf",{get:function(){return G}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(H){te=!!H}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(H){re=!!H}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(H){isNaN(H)||(se=H)}});var B=0;Object.defineProperty(this,"posY",{get:function(){return B},set:function(H){isNaN(H)||(B=H)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(H){var Fe;typeof H=="number"?Fe=[H,H,H,H]:((Fe=new Array(4))[0]=H[0],Fe[1]=H.length>=2?H[1]:Fe[0],Fe[2]=H.length>=3?H[2]:Fe[0],Fe[3]=H.length>=4?H[3]:Fe[1]),u.margin=Fe}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(H){oe=H}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(H){ye=H}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(H){be=H}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(H){H instanceof d&&(u=H)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(H){u.path=H}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(H){Ce=H}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(H){var Fe;Fe=y(H),this.ctx.fillStyle=Fe.style,this.ctx.isFillTransparent=Fe.a===0,this.ctx.fillOpacity=Fe.a,this.pdf.setFillColor(Fe.r,Fe.g,Fe.b,{a:Fe.a}),this.pdf.setTextColor(Fe.r,Fe.g,Fe.b,{a:Fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(H){var Fe=y(H);this.ctx.strokeStyle=Fe.style,this.ctx.isStrokeTransparent=Fe.a===0,this.ctx.strokeOpacity=Fe.a,Fe.a===0?this.pdf.setDrawColor(255,255,255):(Fe.a,this.pdf.setDrawColor(Fe.r,Fe.g,Fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(H){["butt","round","square"].indexOf(H)!==-1&&(this.ctx.lineCap=H,this.pdf.setLineCap(H))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(H){isNaN(H)||(this.ctx.lineWidth=H,this.pdf.setLineWidth(H))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(H){["bevel","round","miter"].indexOf(H)!==-1&&(this.ctx.lineJoin=H,this.pdf.setLineJoin(H))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(H){isNaN(H)||(this.ctx.miterLimit=H,this.pdf.setMiterLimit(H))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(H){this.ctx.textBaseline=H}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(H){["right","end","center","left","start"].indexOf(H)!==-1&&(this.ctx.textAlign=H)}});var je=null,Re=null,Ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ue},set:function(H){je=null,Re=null,Ue=H}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(H){var Fe;if(this.ctx.font=H,(Fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(H))!==null){var St=Fe[1];Fe[2];var ot=Fe[3],Pe=Fe[4];Fe[5];var qe=Fe[6],Ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor(Ve==="px"?parseFloat(Pe)*this.pdf.internal.scaleFactor:Ve==="em"?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var rt=function(tt){var Dn,jt,xt=[],It=tt.trim();if(It==="")return M0;if(It in c3)return[c3[It]];for(;It!=="";){switch(jt=null,Dn=(It=d3(It)).charAt(0)){case'"':case"'":jt=sU(It.substring(1),Dn);break;default:jt=aU(It)}if(jt===null||(xt.push(jt[0]),(It=d3(jt[1]))!==""&&It.charAt(0)!==","))return M0;It=It.replace(/^,/,"")}return xt}(qe);if(this.fontFaces){var at=function(tt,Dn){var jt=tt.getFontList(),xt=JSON.stringify(jt);if(je===null||Re!==xt){var It=function(pn){var Je=[];return Object.keys(pn).forEach(function(on){pn[on].forEach(function(ut){var wt=null;switch(ut){case"bold":wt={family:on,weight:"bold"};break;case"italic":wt={family:on,style:"italic"};break;case"bolditalic":wt={family:on,weight:"bold",style:"italic"};break;case"":case"normal":wt={family:on}}wt!==null&&(wt.ref={name:on,style:ut},Je.push(wt))})}),Je}(jt);je=function(pn){for(var Je={},on=0;on<pn.length;++on){var ut=O0(pn[on]),wt=ut.family,tn=ut.stretch,Pt=ut.style,We=ut.weight;Je[wt]=Je[wt]||{},Je[wt][tn]=Je[wt][tn]||{},Je[wt][tn][Pt]=Je[wt][tn][Pt]||{},Je[wt][tn][Pt][We]=ut}return Je}(It.concat(Dn)),Re=xt}return je}(this.pdf,this.fontFaces),Ht=rt.map(function(tt){return{family:tt,stretch:"normal",weight:ot,style:St}}),Dt=function(tt,Dn,jt){for(var xt=(jt=jt||{}).defaultFontFamily||"times",It=Object.assign({},iU,jt.genericFontFamilies||{}),pn=null,Je=null,on=0;on<Dn.length;++on)if(It[(pn=O0(Dn[on])).family]&&(pn.family=It[pn.family]),tt.hasOwnProperty(pn.family)){Je=tt[pn.family];break}if(!(Je=Je||tt[xt]))throw new Error("Could not find a font-family for the rule '"+h3(pn)+"' and default family '"+xt+"'.");if(Je=function(ut,wt){if(wt[ut])return wt[ut];var tn=by[ut],Pt=tn<=by.normal?-1:1,We=u3(wt,C6,tn,Pt);if(!We)throw new Error("Could not find a matching font-stretch value for "+ut);return We}(pn.stretch,Je),Je=function(ut,wt){if(wt[ut])return wt[ut];for(var tn=P6[ut],Pt=0;Pt<tn.length;++Pt)if(wt[tn[Pt]])return wt[tn[Pt]];throw new Error("Could not find a matching font-style for "+ut)}(pn.style,Je),!(Je=function(ut,wt){if(wt[ut])return wt[ut];if(ut===400&&wt[500])return wt[500];if(ut===500&&wt[400])return wt[400];var tn=rU[ut],Pt=u3(wt,L6,tn,ut<400?-1:1);if(!Pt)throw new Error("Could not find a matching font-weight for value "+ut);return Pt}(pn.weight,Je)))throw new Error("Failed to resolve a font for the rule '"+h3(pn)+"'.");return Je}(at,Ht);this.pdf.setFont(Dt.ref.name,Dt.ref.style)}else{var ht="";(ot==="bold"||parseInt(ot,10)>=700||St==="bold")&&(ht="bold"),St==="italic"&&(ht+="italic"),ht.length===0&&(ht="normal");for(var Ot="",Rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qe=0;Qe<rt.length;Qe++){if(this.pdf.internal.getFont(rt[Qe],ht,{noFallback:!0,disableWarning:!0})!==void 0){Ot=rt[Qe];break}if(ht==="bolditalic"&&this.pdf.internal.getFont(rt[Qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ot=rt[Qe],ht="bold";else if(this.pdf.internal.getFont(rt[Qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ot=rt[Qe],ht="normal";break}}if(Ot===""){for(var At=0;At<rt.length;At++)if(Rt[rt[At]]){Ot=Rt[rt[At]];break}}Ot=Ot===""?"Times":Ot,this.pdf.setFont(Ot,ht)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(H){this.ctx.globalCompositeOperation=H}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(H){this.ctx.globalAlpha=H}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(H){this.ctx.lineDashOffset=H,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(H){this.ctx.lineDash=H,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(H){this.ctx.ignoreClearRect=!!H}})};m.prototype.setLineDash=function(M){this.lineDash=M},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){F.call(this,"fill",!1)},m.prototype.stroke=function(){F.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(M,G){if(isNaN(M)||isNaN(G))throw _n.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new a(M,G));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new a(M,G)},m.prototype.closePath=function(){var M=new a(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&en(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){M=new a(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(M.x,M.y)},m.prototype.lineTo=function(M,G){if(isNaN(M)||isNaN(G))throw _n.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new a(M,G));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new a(te.x,te.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},m.prototype.quadraticCurveTo=function(M,G,te,re){if(isNaN(te)||isNaN(re)||isNaN(M)||isNaN(G))throw _n.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new a(te,re)),B=this.ctx.transform.applyToPoint(new a(M,G));this.path.push({type:"qct",x1:B.x,y1:B.y,x:se.x,y:se.y}),this.ctx.lastPoint=new a(se.x,se.y)},m.prototype.bezierCurveTo=function(M,G,te,re,se,B){if(isNaN(se)||isNaN(B)||isNaN(M)||isNaN(G)||isNaN(te)||isNaN(re))throw _n.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new a(se,B)),ye=this.ctx.transform.applyToPoint(new a(M,G)),be=this.ctx.transform.applyToPoint(new a(te,re));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:be.x,y2:be.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new a(oe.x,oe.y)},m.prototype.arc=function(M,G,te,re,se,B){if(isNaN(M)||isNaN(G)||isNaN(te)||isNaN(re)||isNaN(se))throw _n.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(B=!!B,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new a(M,G));M=oe.x,G=oe.y;var ye=this.ctx.transform.applyToPoint(new a(0,te)),be=this.ctx.transform.applyToPoint(new a(0,0));te=Math.sqrt(Math.pow(ye.x-be.x,2)+Math.pow(ye.y-be.y,2))}Math.abs(se-re)>=2*Math.PI&&(re=0,se=2*Math.PI),this.path.push({type:"arc",x:M,y:G,radius:te,startAngle:re,endAngle:se,counterclockwise:B})},m.prototype.arcTo=function(M,G,te,re,se){throw new Error("arcTo not implemented.")},m.prototype.rect=function(M,G,te,re){if(isNaN(M)||isNaN(G)||isNaN(te)||isNaN(re))throw _n.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,G),this.lineTo(M+te,G),this.lineTo(M+te,G+re),this.lineTo(M,G+re),this.lineTo(M,G),this.lineTo(M+te,G),this.lineTo(M,G)},m.prototype.fillRect=function(M,G,te,re){if(isNaN(M)||isNaN(G)||isNaN(te)||isNaN(re))throw _n.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,G,te,re),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},m.prototype.strokeRect=function(M,G,te,re){if(isNaN(M)||isNaN(G)||isNaN(te)||isNaN(re))throw _n.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(M,G,te,re),this.stroke())},m.prototype.clearRect=function(M,G,te,re){if(isNaN(M)||isNaN(G)||isNaN(te)||isNaN(re))throw _n.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,G,te,re))},m.prototype.save=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},m.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(G),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(M){var G,te,re,se;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))G=0,te=0,re=0,se=0;else{var B=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(B!==null)G=parseInt(B[1]),te=parseInt(B[2]),re=parseInt(B[3]),se=1;else if((B=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)G=parseInt(B[1]),te=parseInt(B[2]),re=parseInt(B[3]),se=parseFloat(B[4]);else{if(se=1,typeof M=="string"&&M.charAt(0)!=="#"){var oe=new E6(M);M=oe.ok?oe.toHex():"#000000"}M.length===4?(G=M.substring(1,2),G+=G,te=M.substring(2,3),te+=te,re=M.substring(3,4),re+=re):(G=M.substring(1,3),te=M.substring(3,5),re=M.substring(5,7)),G=parseInt(G,16),te=parseInt(te,16),re=parseInt(re,16)}}return{r:G,g:te,b:re,a:se,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(M,G,te,re){if(isNaN(G)||isNaN(te)||typeof M!="string")throw _n.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!p.call(this)){var se=ee(this.ctx.transform.rotation),B=this.ctx.transform.scaleX;I.call(this,{text:M,x:G,y:te,scale:B,angle:se,align:this.textAlign,maxWidth:re})}},m.prototype.strokeText=function(M,G,te,re){if(isNaN(G)||isNaN(te)||typeof M!="string")throw _n.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){re=isNaN(re)?void 0:re;var se=ee(this.ctx.transform.rotation),B=this.ctx.transform.scaleX;I.call(this,{text:M,x:G,y:te,scale:B,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:re})}},m.prototype.measureText=function(M){if(typeof M!="string")throw _n.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,te=this.pdf.internal.scaleFactor,re=G.internal.getFontSize(),se=G.getStringUnitWidth(M)*re/G.internal.scaleFactor;return new function(B){var oe=(B=B||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return oe}}),this}({width:se*=Math.round(96*te/72*1e4)/1e4})},m.prototype.scale=function(M,G){if(isNaN(M)||isNaN(G))throw _n.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new l(M,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},m.prototype.rotate=function(M){if(isNaN(M))throw _n.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.translate=function(M,G){if(isNaN(M)||isNaN(G))throw _n.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new l(1,0,0,1,M,G);this.ctx.transform=this.ctx.transform.multiply(te)},m.prototype.transform=function(M,G,te,re,se,B){if(isNaN(M)||isNaN(G)||isNaN(te)||isNaN(re)||isNaN(se)||isNaN(B))throw _n.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new l(M,G,te,re,se,B);this.ctx.transform=this.ctx.transform.multiply(oe)},m.prototype.setTransform=function(M,G,te,re,se,B){M=isNaN(M)?1:M,G=isNaN(G)?0:G,te=isNaN(te)?0:te,re=isNaN(re)?1:re,se=isNaN(se)?0:se,B=isNaN(B)?0:B,this.ctx.transform=new l(M,G,te,re,se,B)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(M,G,te,re,se,B,oe,ye,be){var Ce=this.pdf.getImageProperties(M),je=1,Re=1,Ue=1,H=1;re!==void 0&&ye!==void 0&&(Ue=ye/re,H=be/se,je=Ce.width/re*ye/re,Re=Ce.height/se*be/se),B===void 0&&(B=G,oe=te,G=0,te=0),re!==void 0&&ye===void 0&&(ye=re,be=se),re===void 0&&ye===void 0&&(ye=Ce.width,be=Ce.height);var Fe=this.ctx.transform.decompose(),St=ee(Fe.rotate.shx),ot=new l,Pe=(ot=(ot=(ot=ot.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale)).applyToRectangle(new o(B-G*Ue,oe-te*H,re*je,se*Re));if(this.autoPaging){for(var qe,Ve=V.call(this,Pe),rt=[],at=0;at<Ve.length;at+=1)rt.indexOf(Ve[at])===-1&&rt.push(Ve[at]);k(rt);for(var Ht=rt[0],Dt=rt[rt.length-1],ht=Ht;ht<Dt+1;ht++){this.pdf.setPage(ht);var Ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=ht===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=ht===1?0:Qe+(ht-2)*At;if(this.ctx.clip_path.length!==0){var Dn=this.path;qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(qe,this.posX+this.margin[3],-tt+Rt+this.ctx.prevPageLastElemOffset),J.call(this,"fill",!0),this.path=Dn}var jt=JSON.parse(JSON.stringify(Pe));jt=C([jt],this.posX+this.margin[3],-tt+Rt+this.ctx.prevPageLastElemOffset)[0];var xt=(ht>Ht||ht<Dt)&&L.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ot,At,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",jt.x,jt.y,jt.w,jt.h,null,null,St),xt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(M,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,St)};var V=function(M,G,te){var re=[];G=G||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":re.push(Math.floor((M.y+se)/te)+1);break;case"arc":re.push(Math.floor((M.y+se-M.radius)/te)+1),re.push(Math.floor((M.y+se+M.radius)/te)+1);break;case"qct":var B=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);re.push(Math.floor((B.y+se)/te)+1),re.push(Math.floor((B.y+B.h+se)/te)+1);break;case"bct":var oe=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);re.push(Math.floor((oe.y+se)/te)+1),re.push(Math.floor((oe.y+oe.h+se)/te)+1);break;case"rect":re.push(Math.floor((M.y+se)/te)+1),re.push(Math.floor((M.y+M.h+se)/te)+1)}for(var ye=0;ye<re.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<re[ye];)E.call(this);return re},E=function(){var M=this.fillStyle,G=this.strokeStyle,te=this.font,re=this.lineCap,se=this.lineWidth,B=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=G,this.font=te,this.lineCap=re,this.lineWidth=se,this.lineJoin=B},C=function(M,G,te){for(var re=0;re<M.length;re++)switch(M[re].type){case"bct":M[re].x2+=G,M[re].y2+=te;case"qct":M[re].x1+=G,M[re].y1+=te;default:M[re].x+=G,M[re].y+=te}return M},k=function(M){return M.sort(function(G,te){return G-te})},F=function(M,G){var te=this.fillStyle,re=this.strokeStyle,se=this.lineCap,B=this.lineWidth,oe=Math.abs(B*this.ctx.transform.scaleX),ye=this.lineJoin;if(this.autoPaging){for(var be,Ce,je=JSON.parse(JSON.stringify(this.path)),Re=JSON.parse(JSON.stringify(this.path)),Ue=[],H=0;H<Re.length;H++)if(Re[H].x!==void 0)for(var Fe=V.call(this,Re[H]),St=0;St<Fe.length;St+=1)Ue.indexOf(Fe[St])===-1&&Ue.push(Fe[St]);for(var ot=0;ot<Ue.length;ot++)for(;this.pdf.internal.getNumberOfPages()<Ue[ot];)E.call(this);k(Ue);for(var Pe=Ue[0],qe=Ue[Ue.length-1],Ve=Pe;Ve<qe+1;Ve++){this.pdf.setPage(Ve),this.fillStyle=te,this.strokeStyle=re,this.lineCap=se,this.lineWidth=oe,this.lineJoin=ye;var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=Ve===1?this.posY+this.margin[0]:this.margin[0],Ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=Ve===1?0:Ht+(Ve-2)*Dt;if(this.ctx.clip_path.length!==0){var Ot=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(be,this.posX+this.margin[3],-ht+at+this.ctx.prevPageLastElemOffset),J.call(this,M,!0),this.path=Ot}if(Ce=JSON.parse(JSON.stringify(je)),this.path=C(Ce,this.posX+this.margin[3],-ht+at+this.ctx.prevPageLastElemOffset),G===!1||Ve===0){var Rt=(Ve>Pe||Ve<qe)&&L.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Dt,null).clip().discardPath()),J.call(this,M,G),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=B}this.path=je}else this.lineWidth=oe,J.call(this,M,G),this.lineWidth=B},J=function(M,G){if((M!=="stroke"||G||!N.call(this))&&(M==="stroke"||G||!p.call(this))){for(var te,re,se=[],B=this.path,oe=0;oe<B.length;oe++){var ye=B[oe];switch(ye.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:ye,deltas:[],abs:[]});break;case"lt":var be=se.length;if(B[oe-1]&&!isNaN(B[oe-1].x)&&(te=[ye.x-B[oe-1].x,ye.y-B[oe-1].y],be>0)){for(;be>=0;be--)if(se[be-1].close!==!0&&se[be-1].begin!==!0){se[be-1].deltas.push(te),se[be-1].abs.push(ye);break}}break;case"bct":te=[ye.x1-B[oe-1].x,ye.y1-B[oe-1].y,ye.x2-B[oe-1].x,ye.y2-B[oe-1].y,ye.x-B[oe-1].x,ye.y-B[oe-1].y],se[se.length-1].deltas.push(te);break;case"qct":var Ce=B[oe-1].x+2/3*(ye.x1-B[oe-1].x),je=B[oe-1].y+2/3*(ye.y1-B[oe-1].y),Re=ye.x+2/3*(ye.x1-ye.x),Ue=ye.y+2/3*(ye.y1-ye.y),H=ye.x,Fe=ye.y;te=[Ce-B[oe-1].x,je-B[oe-1].y,Re-B[oe-1].x,Ue-B[oe-1].y,H-B[oe-1].x,Fe-B[oe-1].y],se[se.length-1].deltas.push(te);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(ye)}}re=G?null:M==="stroke"?"stroke":"fill";for(var St=!1,ot=0;ot<se.length;ot++)if(se[ot].arc)for(var Pe=se[ot].abs,qe=0;qe<Pe.length;qe++){var Ve=Pe[qe];Ve.type==="arc"?b.call(this,Ve.x,Ve.y,Ve.radius,Ve.startAngle,Ve.endAngle,Ve.counterclockwise,void 0,G,!St):P.call(this,Ve.x,Ve.y),St=!0}else if(se[ot].close===!0)this.pdf.internal.out("h"),St=!1;else if(se[ot].begin!==!0){var rt=se[ot].start.x,at=se[ot].start.y;Z.call(this,se[ot].deltas,rt,at),St=!0}re&&A.call(this,re),G&&D.call(this)}},ne=function(M){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-te;case"top":return M+G-te;case"hanging":return M+G-2*te;case"middle":return M+G/2-te;default:return M}},j=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(G,te){this.colorStops.push([G,te])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var b=function(M,G,te,re,se,B,oe,ye,be){for(var Ce=we.call(this,te,re,se,B),je=0;je<Ce.length;je++){var Re=Ce[je];je===0&&(be?x.call(this,Re.x1+M,Re.y1+G):P.call(this,Re.x1+M,Re.y1+G)),ue.call(this,M,G,Re.x2,Re.y2,Re.x3,Re.y3,Re.x4,Re.y4)}ye?D.call(this):A.call(this,oe)},A=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(M,G){this.pdf.internal.out(n(M)+" "+r(G)+" m")},I=function(M){var G;switch(M.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var te,re,se,B=this.pdf.getTextDimensions(M.text),oe=ne.call(this,M.y),ye=j.call(this,oe)-B.h,be=this.ctx.transform.applyToPoint(new a(M.x,oe));if(this.autoPaging){var Ce=this.ctx.transform.decompose(),je=new l;je=(je=(je=je.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale);for(var Re=this.ctx.transform.applyToRectangle(new o(M.x,oe,B.w,B.h)),Ue=je.applyToRectangle(new o(M.x,ye,B.w,B.h)),H=V.call(this,Ue),Fe=[],St=0;St<H.length;St+=1)Fe.indexOf(H[St])===-1&&Fe.push(H[St]);k(Fe);for(var ot=Fe[0],Pe=Fe[Fe.length-1],qe=ot;qe<Pe+1;qe++){this.pdf.setPage(qe);var Ve=qe===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[2],Ht=at-this.margin[0],Dt=this.pdf.internal.pageSize.width-this.margin[1],ht=Dt-this.margin[3],Ot=qe===1?0:rt+(qe-2)*Ht;if(this.ctx.clip_path.length!==0){var Rt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(te,this.posX+this.margin[3],-1*Ot+Ve),J.call(this,"fill",!0),this.path=Rt}var Qe=C([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-Ot+Ve+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*M.scale),se=this.lineWidth,this.lineWidth=se*M.scale);var At=this.autoPaging!=="text";if(At||Qe.y+Qe.h<=at){if(At||Qe.y>=Ve&&Qe.x<=Dt){var tt=At?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Dt-Qe.x)[0],Dn=C([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-Ot+Ve+this.ctx.prevPageLastElemOffset)[0],jt=At&&(qe>ot||qe<Pe)&&L.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,Ht,null).clip().discardPath()),this.pdf.text(tt,Dn.x,Dn.y,{angle:M.angle,align:G,renderingMode:M.renderingMode}),jt&&this.pdf.restoreGraphicsState()}}else Qe.y<at&&(this.ctx.prevPageLastElemOffset+=at-Qe.y);M.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=se)}}else M.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*M.scale),se=this.lineWidth,this.lineWidth=se*M.scale),this.pdf.text(M.text,be.x+this.posX,be.y+this.posY,{angle:M.angle,align:G,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=se)},P=function(M,G,te,re){te=te||0,re=re||0,this.pdf.internal.out(n(M+te)+" "+r(G+re)+" l")},Z=function(M,G,te){return this.pdf.lines(M,G,te,null,null)},ue=function(M,G,te,re,se,B,oe,ye){this.pdf.internal.out([e(i(te+M)),e(s(re+G)),e(i(se+M)),e(s(B+G)),e(i(oe+M)),e(s(ye+G)),"c"].join(" "))},we=function(M,G,te,re){for(var se=2*Math.PI,B=Math.PI/2;G>te;)G-=se;var oe=Math.abs(te-G);oe<se&&re&&(oe=se-oe);for(var ye=[],be=re?-1:1,Ce=G;oe>1e-5;){var je=Ce+be*Math.min(oe,B);ye.push(ae.call(this,M,Ce,je)),oe-=Math.abs(je-Ce),Ce=je}return ye},ae=function(M,G,te){var re=(te-G)/2,se=M*Math.cos(re),B=M*Math.sin(re),oe=se,ye=-B,be=oe*oe+ye*ye,Ce=be+oe*se+ye*B,je=4/3*(Math.sqrt(2*be*Ce)-Ce)/(oe*B-ye*se),Re=oe-je*ye,Ue=ye+je*oe,H=Re,Fe=-Ue,St=re+G,ot=Math.cos(St),Pe=Math.sin(St);return{x1:M*Math.cos(G),y1:M*Math.sin(G),x2:Re*ot-Ue*Pe,y2:Re*Pe+Ue*ot,x3:H*ot-Fe*Pe,y3:H*Pe+Fe*ot,x4:M*Math.cos(te),y4:M*Math.sin(te)}},ee=function(M){return 180*M/Math.PI},X=function(M,G,te,re,se,B){var oe=M+.5*(te-M),ye=G+.5*(re-G),be=se+.5*(te-se),Ce=B+.5*(re-B),je=Math.min(M,se,oe,be),Re=Math.max(M,se,oe,be),Ue=Math.min(G,B,ye,Ce),H=Math.max(G,B,ye,Ce);return new o(je,Ue,Re-je,H-Ue)},he=function(M,G,te,re,se,B,oe,ye){var be,Ce,je,Re,Ue,H,Fe,St,ot,Pe,qe,Ve,rt,at,Ht=te-M,Dt=re-G,ht=se-te,Ot=B-re,Rt=oe-se,Qe=ye-B;for(Ce=0;Ce<41;Ce++)ot=(Fe=(je=M+(be=Ce/40)*Ht)+be*((Ue=te+be*ht)-je))+be*(Ue+be*(se+be*Rt-Ue)-Fe),Pe=(St=(Re=G+be*Dt)+be*((H=re+be*Ot)-Re))+be*(H+be*(B+be*Qe-H)-St),Ce==0?(qe=ot,Ve=Pe,rt=ot,at=Pe):(qe=Math.min(qe,ot),Ve=Math.min(Ve,Pe),rt=Math.max(rt,ot),at=Math.max(at,Pe));return new o(Math.round(qe),Math.round(Ve),Math.round(rt-qe),Math.round(at-Ve))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,G,te=(M=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:G}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(st.API),function(t){var e=function(a){var o,l,u,d,m,y,p,N,L,V;for(l=[],u=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(m=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(y=(m=((m=((m=((m=(m-(V=m%85))/85)-(L=m%85))/85)-(N=m%85))/85)-(p=m%85))/85)%85,l.push(y+33,p+33,N+33,L+33,V+33)):l.push(122);return function(E,C){for(var k=C;k>0;k--)E.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,u,d,m,y=String,p="length",N=255,L="charCodeAt",V="slice",E="replace";for(a[V](-2),a=a[V](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),u=[],d=0,m=(a+=o="uuuuu"[V](a[p]%5||5))[p];m>d;d+=5)l=52200625*(a[L](d)-33)+614125*(a[L](d+1)-33)+7225*(a[L](d+2)-33)+85*(a[L](d+3)-33)+(a[L](d+4)-33),u.push(N&l>>24,N&l>>16,N&l>>8,N&l);return function(C,k){for(var F=k;F>0;F--)C.pop()}(u,o[p]),y.fromCharCode.apply(y,u)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=ly(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(a,o){var l=0,u=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(st.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,d){var m=new XMLHttpRequest,y=0,p=function(N){var L=N.length,V=[],E=String.fromCharCode;for(y=0;y<L;y+=1)V.push(E(255&N.charCodeAt(y)));return V.join("")};if(m.open("GET",l,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?d(p(this.responseText)):d(void 0)}),m.send(null),u&&m.status===200)return p(m.responseText)}(i,s,a)}catch{}return o}(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(st.API),function(t){function e(){return(_t.html2canvas?Promise.resolve(_t.html2canvas):h0(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(_t.DOMPurify?Promise.resolve(_t.DOMPurify):h0(()=>import("./purify.es-ce17b1ad.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=en(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},s=function o(l,u){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),m=l.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||d.appendChild(o(m,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},a=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return(d=d.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var N=d[p],L=N.src.find(function(V){return V.format==="truetype"});L&&u.addFont(L.url,N.ref.name,N.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),l(this.prop.container,y)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||st.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,u,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,u,d){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(d,m){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,d),y}).then(d,m).then(function(y){return u.updateProgress(1),y})})},a.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),y=u.call(m,o,l);return a.convert(y,d.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,st.getPageSize=function(o,l,u){if(en(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var m,y=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+l}var N,L=0,V=0;if(p.hasOwnProperty(y))L=p[y][1]/m,V=p[y][0]/m;else try{L=u[1],V=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",V>L&&(N=V,V=L,L=N);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",L>V&&(N=V,V=L,L=N)}return{width:V,height:L,unit:l,k:m,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(O0):null;var u=new a(l);return l.worker?u:u.from(o).doCallback()}}(st.API),st.API.addJS=function(t){var e,n,r=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var m=n.internal.newObject();d.push(m);var y=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(st.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var l,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(m){for(var y,p=256*m.charCodeAt(4)+m.charCodeAt(5),N=m.length,L={width:0,height:0,numcomponents:1},V=4;V<N;V+=2){if(V+=p,e.indexOf(m.charCodeAt(V+1))!==-1){y=256*m.charCodeAt(V+5)+m.charCodeAt(V+6),L={width:256*m.charCodeAt(V+7)+m.charCodeAt(V+8),height:y,numcomponents:m.charCodeAt(V+9)};break}p=256*m.charCodeAt(V+2)+m.charCodeAt(V+3)}return L}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return d}}(st.API),st.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=qz(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,u=s.palette,d=s.depth;i=u&&l===1?function(b){for(var A=b.width,D=b.height,x=b.data,I=b.palette,P=b.depth,Z=!1,ue=[],we=[],ae=void 0,ee=!1,X=0,he=0;he<I.length;he++){var pe=l4(I[he],4),M=pe[0],G=pe[1],te=pe[2],re=pe[3];ue.push(M,G,te),re!=null&&(re===0?(X++,we.length<1&&we.push(he)):re<255&&(ee=!0))}if(ee||X>1){Z=!0,we=void 0;var se=A*D;ae=new Uint8Array(se);for(var B=new DataView(x.buffer),oe=0;oe<se;oe++){var ye=j0(B,oe,P),be=l4(I[ye],4)[3];ae[oe]=be}}else X===0&&(we=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Z?8:void 0,colorBytes:x,alphaBytes:ae,needSMask:Z,palette:ue,mask:we}}(s):l===2||l===4?function(b){for(var A=b.data,D=b.width,x=b.height,I=b.channels,P=b.depth,Z=I===2?"DeviceGray":"DeviceRGB",ue=I-1,we=D*x,ae=ue,ee=we*ae,X=1*we,he=Math.ceil(ee*P/8),pe=Math.ceil(X*P/8),M=new Uint8Array(he),G=new Uint8Array(pe),te=new DataView(A.buffer),re=new DataView(M.buffer),se=new DataView(G.buffer),B=!1,oe=0;oe<we;oe++){for(var ye=oe*I,be=0;be<ae;be++)b3(re,j0(te,ye+be,P),oe*ae+be,P);var Ce=j0(te,ye+ae,P);Ce<(1<<P)-1&&(B=!0),b3(se,Ce,1*oe,P)}return{colorSpace:Z,colorsPerPixel:ue,sMaskBitsPerComponent:B?P:void 0,colorBytes:M,alphaBytes:G,needSMask:B}}(s):function(b){var A=b.data,D=b.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:A instanceof Uint16Array?function(x){for(var I=x.length,P=new Uint8Array(2*I),Z=new DataView(P.buffer,P.byteOffset,P.byteLength),ue=0;ue<I;ue++)Z.setUint16(2*ue,x[ue],!1);return P}(A):A,needSMask:!1}}(s);var m,y,p,N=i,L=N.colorSpace,V=N.colorsPerPixel,E=N.sMaskBitsPerComponent,C=N.colorBytes,k=N.alphaBytes,F=N.needSMask,J=N.palette,ne=N.mask,j=null;return r!==st.API.image_compression.NONE&&typeof ly=="function"?(j=function(b){var A;switch(b){case st.API.image_compression.FAST:A=11;break;case st.API.image_compression.MEDIUM:A=13;break;case st.API.image_compression.SLOW:A=14;break;default:A=12}return A}(r),m=this.decode.FLATE_DECODE,y="/Predictor ".concat(j," /Colors ").concat(V," /BitsPerComponent ").concat(d," /Columns ").concat(a),t=g3(C,Math.ceil(a*V*d/8),V,d,r),F&&(p=g3(k,Math.ceil(a*E/8),1,E,r))):(m=void 0,y=void 0,t=C,F&&(p=k)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:m,decodeParameters:y,transparency:ne,palette:J,sMask:p,predictor:j,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:E,colorSpace:L}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new cU(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},d=new F0(100).encode(u,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A}(st.API),zs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zs.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(n){_n.log("bit decode error:"+n)}},zs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},zs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},zs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},zs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=u}this.pos+=t}},zs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,u=(a>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},zs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},zs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},zs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new zs(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new F0(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(st.API),E3.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new E3(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new F0(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(st.API),st.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var d=r[u],m=r[u+1],y=r[u+2],p=r[u+3];s[o++]=d,s[o++]=m,s[o++]=y,a[l++]=p}var N=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:N,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},st.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},fc=st.API,zp=fc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,m=e.doKerning!==!1,y=0,p=t.length,N=0,L=o[0]||l,V=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?V.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(y=m&&en(u[r])==="object"&&!isNaN(parseInt(u[r][N],10))?u[r][N]/d:0,V.push((o[r]||L)/l+y)),N=r;return V},f3=fc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return fc.processArabic&&(t=fc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:zp.apply(this,arguments).reduce(function(s,a){return s+a},0)},p3=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},m3=function(t,e,n){n||(n={});var r,i,s,a,o,l,u,d=[],m=[d],y=n.textIndent||0,p=0,N=0,L=t.split(" "),V=zp.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?L[0].length+2:n.lineIndent||0){var E=Array(l).join(" "),C=[];L.map(function(F){(F=F.split(/\s*\n/)).length>1?C=C.concat(F.map(function(J,ne){return(ne&&J.length?`
`:"")+J})):C.push(F[0])}),L=C,l=f3.apply(this,[E,n])}for(s=0,a=L.length;s<a;s++){var k=0;if(r=L[s],l&&r[0]==`
`&&(r=r.substr(1),k=1),y+p+(N=(i=zp.apply(this,[r,n])).reduce(function(F,J){return F+J},0))>e||k){if(N>e){for(o=p3.apply(this,[r,i,e-(y+p),e]),d.push(o.shift()),d=[o.pop()];o.length;)m.push([o.shift()]);N=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(F,J){return F+J},0)}else d=[r];m.push(d),y=N+l,p=V}else d.push(r),y+=p+N,p=V}return u=l?function(F,J){return(J?E:"")+F.join(" ")}:function(F){return F.join(" ")},m.map(u)},fc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var m=this.internal.getFont(d.fontName,d.fontStyle),y="Unicode";return m.metadata[y]?{widths:m.metadata[y].widths||{0:1},kerning:m.metadata[y].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,u=[];for(o=0,l=r.length;o<l;o++)u=u.concat(m3.apply(this,[r[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var a=function(y){return"0x"+parseInt(y,10).toString(16)},o=t.__fontmetrics__.compress=function(y){var p,N,L,V,E=["{"];for(var C in y){if(p=y[C],isNaN(parseInt(C,10))?N="'"+C+"'":(C=parseInt(C,10),N=(N=a(C).slice(2)).slice(0,-1)+i[N.slice(-1)]),typeof p=="number")p<0?(L=a(p).slice(3),V="-"):(L=a(p).slice(2),V=""),L=V+L.slice(0,-1)+i[L.slice(-1)];else{if(en(p)!=="object")throw new Error("Don't know what to do with value type "+en(p)+".");L=o(p)}E.push(N+L)}return E.push("}"),E.join("")},l=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,N,L,V,E={},C=1,k=E,F=[],J="",ne="",j=y.length-1,b=1;b<j;b+=1)(V=y[b])=="'"?p?(L=p.join(""),p=void 0):p=[]:p?p.push(V):V=="{"?(F.push([k,L]),k={},L=void 0):V=="}"?((N=F.pop())[0][N[1]]=k,L=void 0,k=N[0]):V=="-"?C=-1:L===void 0?r.hasOwnProperty(V)?(J+=r[V],L=parseInt(J,16)*C,C=1,J=""):J+=V:r.hasOwnProperty(V)?(ne+=r[V],k[L]=parseInt(ne,16)*C,C=1,L=void 0,ne=""):ne+=V;return E},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var p=y.font,N=m.Unicode[p.postScriptName];N&&(p.metadata.Unicode={},p.metadata.Unicode.widths=N.widths,p.metadata.Unicode.kerning=N.kerning);var L=d.Unicode[p.postScriptName];L&&(p.metadata.Unicode.encoding=L,p.encoding=L.codePages[0])}])}(st.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(h1(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(st),st.API.addSvgAsImage=function(t,e,n,r,i,s,a,o){if(isNaN(e)||isNaN(n))throw _n.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw _n.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(_t.canvg?Promise.resolve(_t.canvg):h0(()=>import("./index.es-44088be2.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(d)}).then(function(){m.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,a,o)})},st.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},st.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,d=0,m=0;function y(N,L){var V,E=!1;for(V=0;V<N.length;V+=1)N[V]===L&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(m=0;m<p;m+=1)n[o[m]].value=n[o[m]].defaultValue,n[o[m]].explicitSet=!1}if(en(t)==="object"){for(i in t)if(s=t[i],y(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&y(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,L=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?L.push("/"+N+" /"+n[N].value):L.push("/"+N+" "+n[N].value));L.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+L.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},st.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",dU),this.internal.events.subscribe("postPutResources",hU)),this},function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],m=0,y=s.length;m<y;++m){if(o=a.metadata.characterToGlyph(s.charCodeAt(m)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(m),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},r=function(s){var a,o,l,u,d,m,y;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,y=(o=Object.keys(s).sort(function(p,N){return p-N})).length;m<y;m++)a=o[m],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,y=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",N=0;N<y.length;N++)p+=String.fromCharCode(y[N]);var L=u();d({data:p,addLength1:!0,objectId:L}),l("endobj");var V=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:V}),l("endobj");var E=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+_c(o.fontName)),l("/FontFile2 "+L+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var C=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+_c(o.fontName)),l("/FontDescriptor "+E+" 0 R"),l("/W "+t.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+V+" 0 R"),l("/BaseFont /"+_c(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+C+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,y="",p=0;p<m.length;p++)y+=String.fromCharCode(m[p]);var N=u();d({data:y,addLength1:!0,objectId:N}),l("endobj");var L=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:L}),l("endobj");var V=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+N+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+_c(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var E=0;E<o.metadata.hmtx.widths.length;E++)o.metadata.hmtx.widths[E]=parseInt(o.metadata.hmtx.widths[E]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+_c(o.fontName)+"/FontDescriptor "+V+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,d=s.options||{},m=s.mutex||{},y=m.pdfEscape,p=m.activeFontKey,N=m.fonts,L=p,V="",E=0,C="",k=N[L].encoding;if(N[L].encoding!=="Identity-H")return{text:o,x:l,y:u,options:d,mutex:m};for(C=o,L=p,Array.isArray(o)&&(C=o[0]),E=0;E<C.length;E+=1)N[L].metadata.hasOwnProperty("cmap")&&(a=N[L].metadata.cmap.unicode.codeMap[C[E].charCodeAt(0)]),a||C[E].charCodeAt(0)<256&&N[L].metadata.hasOwnProperty("Unicode")?V+=C[E]:V+="";var F="";return parseInt(L.slice(1))<14||k==="WinAnsiEncoding"?F=y(V,L).split("").map(function(J){return J.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(F=n(V,N[L])),m.isHex=!0,{text:F,x:l,y:u,options:d,mutex:m}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(st),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(st.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,l,u,d,m=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},V=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,k=0;this.__bidiEngine__={};var F=function(x){var I=x.charCodeAt(),P=I>>8,Z=L[P];return Z!==void 0?m[256*Z+(255&I)]:P===252||P===253?"AL":E.test(P)?"L":P===8?"R":"N"},J=function(x){for(var I,P=0;P<x.length;P++){if((I=F(x.charAt(P)))==="L")return!1;if(I==="R")return!0}return!1},ne=function(x,I,P,Z){var ue,we,ae,ee,X=I[Z];switch(X){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"N":case"AN":break;case"EN":C&&(X="AN");break;case"AL":C=!0,X="R";break;case"WS":case"BN":X="N";break;case"CS":Z<1||Z+1>=I.length||(ue=P[Z-1])!=="EN"&&ue!=="AN"||(we=I[Z+1])!=="EN"&&we!=="AN"?X="N":C&&(we="AN"),X=we===ue?we:"N";break;case"ES":X=(ue=Z>0?P[Z-1]:"B")==="EN"&&Z+1<I.length&&I[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&P[Z-1]==="EN"){X="EN";break}if(C){X="N";break}for(ae=Z+1,ee=I.length;ae<ee&&I[ae]==="ET";)ae++;X=ae<ee&&I[ae]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(ee=I.length,ae=Z+1;ae<ee&&I[ae]==="NSM";)ae++;if(ae<ee){var he=x[Z],pe=he>=1425&&he<=2303||he===64286;if(ue=I[ae],pe&&(ue==="R"||ue==="AL")){X="R";break}}}X=Z<1||(ue=I[Z-1])==="B"?"N":P[Z-1];break;case"B":C=!1,i=!0,X=k;break;case"S":s=!0,X="N"}return X},j=function(x,I,P){var Z=x.split("");return P&&b(Z,P,{hiLevel:k}),Z.reverse(),I&&I.reverse(),Z.join("")},b=function(x,I,P){var Z,ue,we,ae,ee,X=-1,he=x.length,pe=0,M=[],G=k?p:y,te=[];for(C=!1,i=!1,s=!1,ue=0;ue<he;ue++)te[ue]=F(x[ue]);for(we=0;we<he;we++){if(ee=pe,M[we]=ne(x,te,M,we),Z=240&(pe=G[ee][N[M[we]]]),pe&=15,I[we]=ae=G[pe][5],Z>0)if(Z===16){for(ue=X;ue<we;ue++)I[ue]=1;X=-1}else X=-1;if(G[pe][6])X===-1&&(X=we);else if(X>-1){for(ue=X;ue<we;ue++)I[ue]=ae;X=-1}te[we]==="B"&&(I[we]=0),P.hiLevel|=ae}s&&function(re,se,B){for(var oe=0;oe<B;oe++)if(re[oe]==="S"){se[oe]=k;for(var ye=oe-1;ye>=0&&re[ye]==="WS";ye--)se[ye]=k}}(te,I,he)},A=function(x,I,P,Z,ue){if(!(ue.hiLevel<x)){if(x===1&&k===1&&!i)return I.reverse(),void(P&&P.reverse());for(var we,ae,ee,X,he=I.length,pe=0;pe<he;){if(Z[pe]>=x){for(ee=pe+1;ee<he&&Z[ee]>=x;)ee++;for(X=pe,ae=ee-1;X<ae;X++,ae--)we=I[X],I[X]=I[ae],I[ae]=we,P&&(we=P[X],P[X]=P[ae],P[ae]=we);pe=ee}pe++}}},D=function(x,I,P){var Z=x.split(""),ue={hiLevel:k};return P||(P=[]),b(Z,P,ue),function(we,ae,ee){if(ee.hiLevel!==0&&d)for(var X,he=0;he<we.length;he++)ae[he]===1&&(X=V.indexOf(we[he]))>=0&&(we[he]=V[X+1])}(Z,P,ue),A(2,Z,I,P,ue),A(1,Z,I,P,ue),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(x,I,P){if(function(ue,we){if(we)for(var ae=0;ae<ue.length;ae++)we[ae]=ae;o===void 0&&(o=J(ue)),u===void 0&&(u=J(ue))}(x,I),a||!l||u)if(a&&l&&o^u)k=o?1:0,x=j(x,I,P);else if(!a&&l&&u)k=o?1:0,x=D(x,I,P),x=j(x,I);else if(!a||o||l||u){if(a&&!l&&o^u)x=j(x,I),o?(k=0,x=D(x,I,P)):(k=1,x=D(x,I,P),x=j(x,I));else if(a&&o&&!l&&u)k=1,x=D(x,I,P),x=j(x,I);else if(!a&&!l&&o^u){var Z=d;o?(k=1,x=D(x,I,P),k=0,d=!1,x=D(x,I,P),d=Z):(k=0,x=D(x,I,P),x=j(x,I),k=1,d=!1,x=D(x,I,P),d=Z,x=j(x,I))}}else k=0,x=D(x,I,P);else k=o?1:0,x=D(x,I,P);return x},this.__bidiEngine__.setOptions=function(x){x&&(a=x.isInputVisual,l=x.isOutputVisual,o=x.isInputRtl,u=x.isOutputRtl,d=x.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(st),st.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Rl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new TU(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new fU(this.contents),this.head=new mU(this),this.name=new wU(this),this.cmap=new D6(this),this.toUnicode={},this.hhea=new gU(this),this.maxp=new bU(this),this.hmtx=new xU(this),this.post=new vU(this),this.os2=new yU(this),this.loca=new kU(this),this.glyf=new EU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var ea,Rl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),fU=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,l,u,d,m,y,p,N,L;for(L in p=Object.keys(n).length,l=Math.log(2),m=16*Math.floor(Math.log(p)/l),a=Math.floor(m/l),d=16*p-m,(i=new Rl).writeInt(this.scalarType),i.writeShort(p),i.writeShort(m),i.writeShort(a),i.writeShort(d),s=16*p,u=i.pos+s,o=null,N=[],n)for(y=n[L],i.writeString(L),i.writeInt(t(y)),i.writeInt(u),i.writeInt(y.length),N=N.concat(y),L==="head"&&(o=u),u+=y.length;u%4;)N.push(0),u++;return i.write(N),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=O6.call(n);n.length%4;)n.push(0);for(s=new Rl(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),pU={}.hasOwnProperty,La=function(t,e){for(var n in e)pU.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};ea=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var mU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ea),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Rl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),S3=function(){function t(e,n){var r,i,s,a,o,l,u,d,m,y,p,N,L,V,E,C,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),y=p/2,e.pos+=6,s=function(){var F,J;for(J=[],l=F=0;0<=y?F<y:F>y;l=0<=y?++F:--F)J.push(e.readUInt16());return J}(),e.pos+=2,L=function(){var F,J;for(J=[],l=F=0;0<=y?F<y:F>y;l=0<=y?++F:--F)J.push(e.readUInt16());return J}(),u=function(){var F,J;for(J=[],l=F=0;0<=y?F<y:F>y;l=0<=y?++F:--F)J.push(e.readUInt16());return J}(),d=function(){var F,J;for(J=[],l=F=0;0<=y?F<y:F>y;l=0<=y?++F:--F)J.push(e.readUInt16());return J}(),i=(this.length-e.pos+this.offset)/2,o=function(){var F,J;for(J=[],l=F=0;0<=i?F<i:F>i;l=0<=i?++F:--F)J.push(e.readUInt16());return J}(),l=E=0,k=s.length;E<k;l=++E)for(V=s[l],r=C=N=L[l];N<=V?C<=V:C>=V;r=N<=V?++C:--C)d[l]===0?a=r+u[l]:(a=o[d[l]/2+(r-N)-(y-l)]||0)!==0&&(a+=u[l]),this.codeMap[r]=65535&a}e.pos=m}return t.encode=function(e,n){var r,i,s,a,o,l,u,d,m,y,p,N,L,V,E,C,k,F,J,ne,j,b,A,D,x,I,P,Z,ue,we,ae,ee,X,he,pe,M,G,te,re,se,B,oe,ye,be,Ce,je;switch(Z=new Rl,a=Object.keys(e).sort(function(Re,Ue){return Re-Ue}),n){case"macroman":for(L=0,V=function(){var Re=[];for(N=0;N<256;++N)Re.push(0);return Re}(),C={0:0},s={},ue=0,X=a.length;ue<X;ue++)C[ye=e[i=a[ue]]]==null&&(C[ye]=++L),s[i]={old:e[i],new:C[e[i]]},V[i]=C[e[i]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(V),{charMap:s,subtable:Z.data,maxGlyphID:L+1};case"unicode":for(I=[],m=[],k=0,C={},r={},E=u=null,we=0,he=a.length;we<he;we++)C[J=e[i=a[we]]]==null&&(C[J]=++k),r[i]={old:J,new:C[J]},o=C[J]-i,E!=null&&o===u||(E&&m.push(E),I.push(i),u=o),E=i;for(E&&m.push(E),m.push(65535),I.push(65535),D=2*(A=I.length),b=2*Math.pow(Math.log(A)/Math.LN2,2),y=Math.log(b/2)/Math.LN2,j=2*A-b,l=[],ne=[],p=[],N=ae=0,pe=I.length;ae<pe;N=++ae){if(x=I[N],d=m[N],x===65535){l.push(0),ne.push(0);break}if(x-(P=r[x].new)>=32768)for(l.push(0),ne.push(2*(p.length+A-N)),i=ee=x;x<=d?ee<=d:ee>=d;i=x<=d?++ee:--ee)p.push(r[i].new);else l.push(P-x),ne.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*A+2*p.length),Z.writeUInt16(0),Z.writeUInt16(D),Z.writeUInt16(b),Z.writeUInt16(y),Z.writeUInt16(j),B=0,M=m.length;B<M;B++)i=m[B],Z.writeUInt16(i);for(Z.writeUInt16(0),oe=0,G=I.length;oe<G;oe++)i=I[oe],Z.writeUInt16(i);for(be=0,te=l.length;be<te;be++)o=l[be],Z.writeUInt16(o);for(Ce=0,re=ne.length;Ce<re;Ce++)F=ne[Ce],Z.writeUInt16(F);for(je=0,se=p.length;je<se;je++)L=p[je],Z.writeUInt16(L);return{charMap:r,subtable:Z.data,maxGlyphID:k+1}}},t}(),D6=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ea),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new S3(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=S3.encode(e,n),(i=new Rl).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),gU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ea),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),yU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ea),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),vU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ea),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),_U=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},wU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ea),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,a,o,l,u,d,m,y;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=d=0,m=r.length;d<m;s=++d)i=r[s],e.pos=i.offset,u=e.readString(i.length),a=new _U(u,i),l[y=i.nameID]==null&&(l[y]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),bU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ea),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),xU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ea),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,m,y;for(y=[],u=0,d=(m=this.metrics).length;u<d;u++)s=m[u],y.push(s.advance);return y}).call(this),r=this.widths[this.widths.length-1],l=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),O6=[].slice,EU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ea),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,a,o,l,u,d,m;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(o=new Rl(n.read(i))).readShort(),u=o.readShort(),m=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[e]=a===-1?new AU(o,u,m,l,d):new SU(o,a,u,m,l,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,a,o,l;for(a=[],s=[],o=0,l=n.length;o<l;o++)i=e[n[o]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},t}(),SU=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),AU=function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Rl(O6.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),kU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ea),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<n.length&&n[s]==a){++s,r[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},t}(),TU=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,l,u,d,m,y,p,N,L,V,E;for(i in r=D6.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},E=r.charMap)p[(l=E[i]).old]=l.new;for(N in y=r.maxGlyphID,a)N in p||(p[N]=y++);return d=function(C){var k,F;for(k in F={},C)F[C[k]]=k;return F}(p),m=Object.keys(d).sort(function(C,k){return C-k}),L=function(){var C,k,F;for(F=[],C=0,k=m.length;C<k;C++)o=m[C],F.push(d[o]);return F}(),s=this.font.glyf.encode(a,L,p),u=this.font.loca.encode(s.offsets,L),V={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(V["OS/2"]=this.font.os2.raw()),this.font.directory.encode(V)},t}();st.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,u;for(u=[],o=0,l=n.length;o<l;o++)r=n[o],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();function IU(){const[t,e]=Me.useState([]),[n,r]=Me.useState([]),[i,s]=Me.useState(!1),[a,o]=Me.useState(!1),[l,u]=Me.useState([]),[d,m]=Me.useState(!1),[y,p]=Me.useState({amount:"",description:"",type:"card",category:"expense",subCategory:"Inne"}),[N,L]=Me.useState({amount:"",description:""}),[V,E]=Me.useState({amount:"",person:"",description:"",type:"borrowed"}),C=Xs.currentUser;Me.useEffect(()=>{if(!C)return;const B=Ar(gn(ct,"transactions"),yr("userId","==",C.uid)),oe=kr(B,Re=>{const Ue=Re.docs.map(H=>({id:H.id,...H.data()}));Ue.sort((H,Fe)=>Fe.date.seconds-H.date.seconds),e(Ue)},Re=>{console.error("Error fetching transactions:",Re)}),ye=Ar(gn(ct,"piggybank"),yr("userId","==",C.uid)),be=kr(ye,Re=>{const Ue=Re.docs.map(H=>({id:H.id,...H.data()}));Ue.sort((H,Fe)=>Fe.date.seconds-H.date.seconds),r(Ue)},Re=>{console.error("Error fetching piggybank:",Re)}),Ce=Ar(gn(ct,"loans"),yr("userId","==",C.uid)),je=kr(Ce,Re=>{const Ue=Re.docs.map(H=>({id:H.id,...H.data()}));Ue.sort((H,Fe)=>Fe.date.seconds-H.date.seconds),u(Ue)},Re=>{console.error("Error fetching loans:",Re)});return()=>{oe(),be(),je()}},[C]);const k=t.filter(B=>B.type==="card"),F=t.filter(B=>B.type==="cash"),J=k.reduce((B,oe)=>B+(oe.category==="income"?parseFloat(oe.amount):-parseFloat(oe.amount)),0),ne=F.reduce((B,oe)=>B+(oe.category==="income"?parseFloat(oe.amount):-parseFloat(oe.amount)),0),j=n.reduce((B,oe)=>B+parseFloat(oe.amount),0),b=l.filter(B=>B.type==="borrowed"||!B.type).reduce((B,oe)=>B+parseFloat(oe.amount),0),A=l.filter(B=>B.type==="lent").reduce((B,oe)=>B+parseFloat(oe.amount),0),D=J+ne,x=l.filter(B=>(B.type==="borrowed"||!B.type)&&parseFloat(B.amount)<=D),I=[...t].slice(0,20).reverse().reduce((B,oe)=>{const ye=oe.category==="income"?parseFloat(oe.amount):-parseFloat(oe.amount),be=B.length>0?B[B.length-1].balance:0;return B.push({...oe,balance:be+ye}),B},[]),P=()=>{if(I.length<2)return"";const B=I.map(je=>je.balance),oe=Math.min(...B),be=Math.max(...B)-oe||1;return`M ${I.map((je,Re)=>{const Ue=Re/(I.length-1)*300,H=90-(je.balance-oe)/be*80;return`${Ue},${H}`}).join(" L ")}`},Z=t.filter(B=>B.category==="expense").reduce((B,oe)=>{const ye=oe.subCategory||"Inne";return B[ye]=(B[ye]||0)+parseFloat(oe.amount),B},{}),ue=Object.entries(Z).map(([B,oe])=>({name:B,value:oe})),we=ue.reduce((B,oe)=>B+oe.value,0),ae=()=>{let B=0;return ue.map((oe,ye)=>{const be=oe.value/we*360,Ce=Math.cos((B-90)*Math.PI/180)*40+50,je=Math.sin((B-90)*Math.PI/180)*40+50;B+=be;const Re=Math.cos((B-90)*Math.PI/180)*40+50,Ue=Math.sin((B-90)*Math.PI/180)*40+50,H=be>180?1:0;return v.jsx("path",{d:`M 50 50 L ${Ce} ${je} A 40 40 0 ${H} 1 ${Re} ${Ue} Z`,fill:`hsl(${ye*45}, 70%, 65%)`,stroke:"var(--glass-border)",strokeWidth:"1",className:"pie-slice",children:v.jsxs("title",{children:[oe.name,": ",oe.value.toFixed(2)," z"]})},ye)})},ee=B=>B?B.seconds?Zt(new Date(B.seconds*1e3),"dd.MM"):Zt(new Date(B),"dd.MM"):"",X=async B=>{if(B.preventDefault(),!y.amount){console.error("No amount!");return}try{if(await _a(gn(ct,"transactions"),{...y,userId:C.uid,date:new Date,amount:parseFloat(y.amount)}),t.length>=20){const oe=t.slice(19);await Promise.all(oe.map(ye=>ro(zn(ct,"transactions",ye.id))))}console.log("Transaction added"),s(!1),p({amount:"",description:"",type:"card",category:"expense",subCategory:"Inne"})}catch(oe){console.error("Error adding transaction: ",oe),alert("Bd: "+oe.message)}},he=async B=>{if(B.preventDefault(),!(!C||!N.amount))try{await _a(gn(ct,"piggybank"),{...N,userId:C.uid,date:new Date,amount:parseFloat(N.amount)}),o(!1),L({amount:"",description:""})}catch(oe){console.error(oe)}},pe=async B=>{if(B.preventDefault(),!(!C||!V.amount||!V.person))try{await _a(gn(ct,"loans"),{...V,userId:C.uid,date:new Date,amount:parseFloat(V.amount)}),m(!1),E({amount:"",person:"",description:"",type:"borrowed"})}catch(oe){console.error(oe)}},M=async B=>{if(confirm(`Rozliczy t poyczk? (${B.person}: ${B.amount} z)`))try{await _a(gn(ct,"transactions"),{amount:parseFloat(B.amount),description:`Rozliczenie: ${B.person} (${B.description||""})`,type:"cash",category:B.type==="borrowed"?"expense":"income",userId:C.uid,date:new Date}),await ro(zn(ct,"loans",B.id))}catch(oe){console.error("Error settling loan:",oe)}},G=async B=>{confirm("Usun transakcj?")&&await ro(zn(ct,"transactions",B))},te=async B=>{confirm("Usun wpat?")&&await ro(zn(ct,"piggybank",B))},re=async B=>{confirm("Usun poyczk?")&&await ro(zn(ct,"loans",B))},se=()=>{const B=new st;B.setFontSize(22),B.setTextColor(41,128,185),B.text("Raport Finansowy",20,20),B.setFontSize(10),B.setTextColor(100),B.text(`Data wygenerowania: ${Zt(new Date,"dd.MM.yyyy HH:mm")}`,20,30),B.setDrawColor(200),B.setFillColor(245,245,245),B.rect(20,40,170,30,"F"),B.setFontSize(12),B.setTextColor(0),B.text(`Suma na kontach: ${(J+ne).toFixed(2)} z`,30,50),B.text(`Suma Karta: ${J.toFixed(2)} z`,30,60),B.text(`Suma Gotwka: ${ne.toFixed(2)} z`,110,60),B.setFontSize(14),B.text("Ostatnie transakcje",20,85),B.setFontSize(10),B.setFont("helvetica","bold"),B.text("Data",20,95),B.text("Opis",50,95),B.text("Kat.",120,95),B.text("Kwota",170,95),B.line(20,97,190,97),B.setFont("helvetica","normal");let oe=105;t.slice(0,20).forEach(ye=>{oe>280&&(B.addPage(),oe=20),B.text(Zt(ye.date.toDate(),"dd.MM HH:mm"),20,oe),B.text((ye.description||"Patno").substring(0,30),50,oe),B.text(ye.category==="income"?"Przych.":"Wyd.",120,oe),B.text(`${parseFloat(ye.amount).toFixed(2)} z`,170,oe),oe+=10}),B.save(`raport_${Zt(new Date,"yyyy-MM-dd")}.pdf`)};return v.jsxs("div",{className:"wallet-container",children:[v.jsxs("div",{className:"wallet-header-grid",children:[v.jsxs("div",{className:"balance-card card-balance",children:[v.jsx("div",{className:"balance-icon",children:v.jsx(TO,{size:24})}),v.jsxs("div",{className:"balance-info",children:[v.jsx("h3",{children:"Karta"}),v.jsxs("span",{className:J<0?"negative":"",children:[J.toFixed(2)," z"]})]})]}),v.jsxs("div",{className:"balance-card cash-balance",children:[v.jsx("div",{className:"balance-icon",children:v.jsx(wO,{size:24})}),v.jsxs("div",{className:"balance-info",children:[v.jsx("h3",{children:"Gotwka"}),v.jsxs("span",{className:ne<0?"negative":"",children:[ne.toFixed(2)," z"]})]})]}),v.jsxs("div",{className:"balance-card total-balance",children:[v.jsx("div",{className:"balance-icon",children:v.jsx(yk,{size:24})}),v.jsxs("div",{className:"balance-info",children:[v.jsx("h3",{children:"Suma cakowita"}),v.jsxs("span",{className:D<0?"negative":"",children:[D.toFixed(2)," z"]})]})]})]}),v.jsxs("div",{className:"wallet-analytics-grid",children:[v.jsxs("div",{className:"wallet-chart-section",children:[v.jsx("div",{className:"section-header",children:v.jsxs("h3",{children:[v.jsx(gk,{size:20})," Historia salda"]})}),v.jsx("div",{className:"chart-container-svg",children:I.length>1?v.jsxs("svg",{viewBox:"0 0 300 100",className:"line-chart-svg",children:[v.jsx("defs",{children:v.jsxs("linearGradient",{id:"lineGradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[v.jsx("stop",{offset:"0%",stopColor:"var(--primary-color)",stopOpacity:"0.4"}),v.jsx("stop",{offset:"100%",stopColor:"transparent",stopOpacity:"0"})]})}),v.jsx("path",{d:`${P()} L 300,150 L 0,150 Z`,fill:"url(#lineGradient)",stroke:"none"}),v.jsx("path",{d:P(),fill:"none",stroke:"var(--primary-color)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"chart-line"}),I.map((B,oe)=>{const ye=Math.min(...I.map(Ue=>Ue.balance)),Ce=Math.max(...I.map(Ue=>Ue.balance))-ye||1,je=oe/(I.length-1)*300,Re=90-(B.balance-ye)/Ce*80;return v.jsx("circle",{cx:je,cy:Re,r:"3",fill:"var(--bg-card)",stroke:"var(--primary-color)",strokeWidth:"2",children:v.jsxs("title",{children:[B.description,": ",B.balance.toFixed(2)," z (",ee(B.date),")"]})},B.id)})]}):v.jsx("p",{className:"no-data",children:"Dodaj wicej transakcji, aby zobaczy wykres"})})]}),v.jsxs("div",{className:"wallet-chart-section pie-analytics",children:[v.jsx("div",{className:"section-header",children:v.jsxs("h3",{children:[v.jsx(CO,{size:20})," Podzia wydatkw"]})}),v.jsx("div",{className:"pie-container",children:we>0?v.jsxs("div",{className:"pie-layout",children:[v.jsxs("svg",{viewBox:"0 0 100 100",className:"pie-chart-svg",children:[ae(),v.jsx("circle",{cx:"50",cy:"50",r:"25",fill:"#1a1a1a"}),v.jsxs("text",{x:"50",y:"55",fontSize:"8",textAnchor:"middle",fill:"white",fontWeight:"bold",children:["-",we.toFixed(0)," z"]})]}),v.jsx("div",{className:"pie-legend",children:ue.map((B,oe)=>v.jsxs("div",{className:"legend-item",children:[v.jsx("span",{className:"dot",style:{background:`hsl(${oe*45}, 70%, 65%)`}}),v.jsx("span",{className:"name",children:B.name}),v.jsxs("span",{className:"val",children:[(B.value/we*100).toFixed(0),"%"]})]},oe))})]}):v.jsx("div",{className:"empty-chart",children:"Brak wydatkw do analizy"})})]})]}),v.jsxs("div",{className:"wallet-actions",children:[v.jsxs("button",{className:"action-btn",onClick:()=>s(!0),children:[v.jsx(bl,{size:20})," Dodaj transakcj"]}),v.jsxs("button",{className:"action-btn secondary-btn",onClick:se,children:[v.jsx(NO,{size:20})," Eksportuj PDF"]})]}),v.jsxs("div",{className:"transaction-lists-grid",children:[v.jsxs("div",{className:"trans-column",children:[v.jsx("div",{className:"column-header-wallet",children:v.jsx("h3",{children:"Transakcje Karta"})}),v.jsx("div",{className:"trans-list",children:k.map(B=>v.jsxs("div",{className:"trans-item",children:[v.jsx("div",{className:`trans-icon ${B.category}`,children:B.category==="income"?v.jsx(qb,{size:16}):v.jsx(Ub,{size:16})}),v.jsxs("div",{className:"trans-details",children:[v.jsx("strong",{children:B.description||"Patno"}),v.jsx("span",{className:"trans-date",children:Zt(B.date.toDate(),"dd.MM HH:mm")})]}),v.jsxs("div",{className:`trans-amount ${B.category}`,children:[B.category==="income"?"+":"-",parseFloat(B.amount).toFixed(2)," z",v.jsx("button",{onClick:()=>G(B.id),className:"delete-mini",children:v.jsx(wa,{size:12})})]})]},B.id))})]}),v.jsxs("div",{className:"trans-column",children:[v.jsx("div",{className:"column-header-wallet",children:v.jsx("h3",{children:"Transakcje Gotwka"})}),v.jsx("div",{className:"trans-list",children:F.map(B=>v.jsxs("div",{className:"trans-item",children:[v.jsx("div",{className:`trans-icon ${B.category}`,children:B.category==="income"?v.jsx(qb,{size:16}):v.jsx(Ub,{size:16})}),v.jsxs("div",{className:"trans-details",children:[v.jsx("strong",{children:B.description||"Patno"}),v.jsx("span",{className:"trans-date",children:Zt(B.date.toDate(),"dd.MM HH:mm")})]}),v.jsxs("div",{className:`trans-amount ${B.category}`,children:[B.category==="income"?"+":"-",parseFloat(B.amount).toFixed(2)," z",v.jsx("button",{onClick:()=>G(B.id),className:"delete-mini",children:v.jsx(wa,{size:12})})]})]},B.id))})]})]}),v.jsxs("div",{className:"loans-section",children:[v.jsxs("div",{className:"loans-header",children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[v.jsx("h3",{children:" Poyczki"}),v.jsx("button",{className:"add-btn-small",onClick:()=>m(!0),title:"Dodaj",children:v.jsx(bl,{size:18})})]}),v.jsxs("div",{className:"loans-summary",children:[b>0&&v.jsxs("span",{className:"loans-total red-text",children:["Wisz: -",b.toFixed(2)," z"]}),A>0&&v.jsxs("span",{className:"loans-total green-text",children:[" Wisz mi: +",A.toFixed(2)," z"]})]})]}),x.length>0&&v.jsxs("div",{className:"repayment-alert",children:[v.jsx("span",{children:" Sta Ci na spat: "}),v.jsxs("strong",{children:[x[0].person," (",x[0].amount," z)"]}),x.length>1&&v.jsxs("span",{children:[" i ",x.length-1," innych"]})]}),v.jsx("div",{className:"piggy-history",children:l.map(B=>v.jsxs("div",{className:`piggy-item loan-item ${B.type==="lent"?"lent":"borrowed"}`,children:[v.jsxs("div",{className:"loan-details-left",children:[v.jsx("span",{children:Zt(B.date.toDate(),"dd.MM")}),v.jsx("strong",{className:"loan-person",children:B.person})]}),v.jsx("span",{children:B.description}),v.jsxs("strong",{className:`loan-amount ${B.type==="lent"?"lent":"borrowed"}`,children:[B.type==="lent"?"+":"-",B.amount," z"]}),v.jsxs("div",{className:"loan-actions",children:[v.jsxs("button",{onClick:()=>M(B),className:"settle-btn",title:"Rozlicz",children:[v.jsx(iy,{size:12})," Rozlicz"]}),v.jsx("button",{onClick:()=>re(B.id),className:"delete-mini",children:v.jsx(wa,{size:12})})]})]},B.id))})]}),v.jsxs("div",{className:"piggy-bank-section",children:[v.jsxs("div",{className:"piggy-header",children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[v.jsxs("h3",{children:[v.jsx(FO,{size:24})," Skarbonka"]}),v.jsx("button",{className:"add-btn-small",onClick:()=>o(!0),title:"Dodaj",children:v.jsx(bl,{size:18})})]}),v.jsxs("div",{className:"piggy-total",children:[j.toFixed(2)," z"]})]}),v.jsx("div",{className:"piggy-history",children:n.slice(0,5).map(B=>v.jsxs("div",{className:"piggy-item",children:[v.jsx("span",{children:Zt(B.date.toDate(),"dd.MM")}),v.jsx("span",{children:B.description}),v.jsxs("strong",{children:["+",B.amount," z"]}),v.jsx("button",{onClick:()=>te(B.id),className:"delete-mini",children:v.jsx(wa,{size:12})})]},B.id))})]}),i&&v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-content",children:[v.jsx("h2",{children:"Dodaj transakcj"}),v.jsxs("form",{onSubmit:X,children:[v.jsxs("div",{className:"toggle-group",children:[v.jsx("button",{type:"button",className:y.category==="expense"?"active":"",onClick:()=>p({...y,category:"expense"}),children:"Wydatek"}),v.jsx("button",{type:"button",className:y.category==="income"?"active":"",onClick:()=>p({...y,category:"income"}),children:"Przychd"})]}),v.jsx("input",{type:"number",step:"0.01",placeholder:"Kwota",value:y.amount,onChange:B=>p({...y,amount:B.target.value}),required:!0}),v.jsx("input",{type:"text",placeholder:"Opis",value:y.description,onChange:B=>p({...y,description:B.target.value})}),v.jsxs("select",{value:y.type,onChange:B=>p({...y,type:B.target.value}),children:[v.jsx("option",{value:"card",children:"Karta"}),v.jsx("option",{value:"cash",children:"Gotwka"})]}),y.category==="expense"&&v.jsxs("select",{value:y.subCategory,onChange:B=>p({...y,subCategory:B.target.value}),className:"category-select",children:[v.jsx("option",{children:"Jedzenie"}),v.jsx("option",{children:"Transport"}),v.jsx("option",{children:"Rozrywka"}),v.jsx("option",{children:"Zakupy"}),v.jsx("option",{children:"Zdrowie"}),v.jsx("option",{children:"Rachunki"}),v.jsx("option",{children:"Inne"})]}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{type:"button",onClick:()=>s(!1),children:"Anuluj"}),v.jsx("button",{type:"submit",className:"submit-btn",children:"Dodaj"})]})]})]})}),a&&v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-content",children:[v.jsx("h2",{children:"Skarbonka"}),v.jsxs("form",{onSubmit:he,children:[v.jsx("input",{type:"number",step:"0.01",placeholder:"Kwota",value:N.amount,onChange:B=>L({...N,amount:B.target.value}),required:!0}),v.jsx("input",{type:"text",placeholder:"Cel / Opis",value:N.description,onChange:B=>L({...N,description:B.target.value})}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{type:"button",onClick:()=>o(!1),children:"Anuluj"}),v.jsx("button",{type:"submit",className:"submit-btn",children:"Wrzu"})]})]})]})}),d&&v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-content",children:[v.jsx("h2",{children:"Dodaj Poyczk / Dug"}),v.jsxs("form",{onSubmit:pe,children:[v.jsxs("div",{className:"toggle-group",children:[v.jsx("button",{type:"button",className:V.type==="borrowed"?"active":"",onClick:()=>E({...V,type:"borrowed"}),children:"Wisz komu"}),v.jsx("button",{type:"button",className:V.type==="lent"?"active":"",onClick:()=>E({...V,type:"lent"}),children:"Kto wisi mi"})]}),v.jsx("input",{type:"number",step:"0.01",placeholder:"Kwota",value:V.amount,onChange:B=>E({...V,amount:B.target.value}),required:!0}),v.jsx("input",{type:"text",placeholder:V.type==="borrowed"?"Komu wisz?":"Kto mi wisi?",value:V.person,onChange:B=>E({...V,person:B.target.value}),required:!0}),v.jsx("input",{type:"text",placeholder:"Opis (opcjonalnie)",value:V.description,onChange:B=>E({...V,description:B.target.value})}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{type:"button",onClick:()=>m(!1),children:"Anuluj"}),v.jsx("button",{type:"submit",className:"submit-btn",children:"Zapisz"})]})]})]})})]})}function NU(){const[t,e]=Me.useState(null),[n,r]=Me.useState(!0),[i,s]=Me.useState(null);Me.useEffect(()=>{const l=async(m,y)=>{try{const N=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${m}&longitude=${y}&current=temperature_2m,relative_humidity_2m,apparent_temperature,is_day,weather_code,wind_speed_10m&timezone=auto`)).json();e(N.current),r(!1)}catch{s("Nie udao si pobra pogody"),r(!1)}};"geolocation"in navigator?navigator.geolocation.getCurrentPosition(m=>{l(m.coords.latitude,m.coords.longitude)},()=>{l(52.2297,21.0122)}):l(52.2297,21.0122)},[]);const a=l=>l===0?v.jsx(UO,{className:"weather-icon-main sun",size:48}):l>=1&&l<=3?v.jsx(Wb,{className:"weather-icon-main cloud",size:48}):l>=45&&l<=48?v.jsx(Kb,{className:"weather-icon-main fog",size:48}):l>=51&&l<=67?v.jsx(o0,{className:"weather-icon-main rain",size:48}):l>=71&&l<=77?v.jsx(o0,{className:"weather-icon-main snow",size:48}):l>=80&&l<=82?v.jsx(o0,{className:"weather-icon-main rain",size:48}):l>=95?v.jsx(kO,{className:"weather-icon-main storm",size:48}):v.jsx(Wb,{size:48}),o=l=>({0:"Czyste niebo",1:"Gwnie czysto",2:"Czciowe zachmurzenie",3:"Pochmurno",45:"Mga",48:"Szron",51:"Lekka mawka",53:"Mawka",55:"Gsta mawka",61:"Lekki deszcz",63:"Umiarkowany deszcz",65:"Silny deszcz",71:"Lekki nieg",73:"nieg",75:"Silny nieg",95:"Burza"})[l]||"Pogoda";return n?v.jsx("div",{className:"weather-loading",children:"Pobieranie aury... "}):i?v.jsx("div",{className:"weather-error",children:i}):v.jsxs("div",{className:"weather-widget animate-fadeIn",children:[v.jsxs("div",{className:"weather-main",children:[v.jsxs("div",{className:"weather-temp",children:[Math.round(t.temperature_2m),"C"]}),v.jsxs("div",{className:"weather-info-box",children:[v.jsx("span",{className:"weather-desc",children:o(t.weather_code)}),v.jsxs("span",{className:"weather-feels",children:["Odczuwalna: ",Math.round(t.apparent_temperature),"C"]})]}),v.jsx("div",{className:"weather-icon-container",children:a(t.weather_code)})]}),v.jsxs("div",{className:"weather-details",children:[v.jsxs("div",{className:"weather-detail-item",children:[v.jsx(IO,{size:16}),v.jsxs("span",{children:[t.relative_humidity_2m,"%"]})]}),v.jsxs("div",{className:"weather-detail-item",children:[v.jsx(Kb,{size:16}),v.jsxs("span",{children:[Math.round(t.wind_speed_10m)," km/h"]})]})]})]})}function PU({setActiveTab:t}){var y;const[e,n]=Me.useState([]),[r,i]=Me.useState({items:[],session:"",isNextDay:!1}),[s,a]=Me.useState([]),[o,l]=Me.useState({total:0,lastTransactions:[]}),u=Xs.currentUser;Me.useEffect(()=>{if(!u)return;const p=Ar(gn(ct,"medications"),yr("userId","==",u.uid)),N=kr(p,J=>{a(J.docs.map(ne=>({id:ne.id,...ne.data()})))}),L=Ar(gn(ct,"tasks"),yr("userId","==",u.uid),yr("status","==","todo")),V=kr(L,J=>{const ne=J.docs.map(D=>({id:D.id,...D.data()})),j=new Date,b=48*60*60*1e3,A=ne.filter(D=>{const x=D.deadline?new Date(D.deadline):null;if(!x)return!1;const I=x.getTime()-j.getTime();return I<=b&&I>0}).slice(0,5);n(A)}),E=Ar(gn(ct,"scheduledMeds"),yr("userId","==",u.uid)),C=kr(E,J=>{const ne=J.docs.map(I=>({id:I.id,...I.data()})),j=new Date,b=j.getHours();let A="morning",D=j;b<10?A="morning":b<14?A="noon":b<20?A="evening":(A="morning",D=Hc(j,1));const x=ne.filter(I=>{if(I.timeOfDay!==A)return!1;const P=Ii(new Date(I.startDate)),Z=Ii(D);if(Z<P)return!1;const ue=Math.round((Z.getTime()-P.getTime())/(1e3*60*60*24));return I.frequency==="daily"?!0:I.frequency==="custom"?ue%I.customInterval===0:I.frequency==="weekly"?ue%7===0:I.frequency==="once"?ue===0:I.frequency==="for_days"?ue>=0&&ue<(I.duration||7):!1});i({items:x,session:A,isNextDay:D>j})}),k=Ar(gn(ct,"transactions"),yr("userId","==",u.uid),dO(5)),F=kr(k,J=>{const ne=J.docs.map(b=>({id:b.id,...b.data()})),j=ne.reduce((b,A)=>b+(A.category==="income"?parseFloat(A.amount):-parseFloat(A.amount)),0);l({total:j,lastTransactions:ne})});return()=>{N(),V(),C(),F()}},[u]);const d=p=>{var N;return((N=s.find(L=>L.id===p))==null?void 0:N.name)||"Lek"},m=(p,N)=>`${N?"Jutro":"Dzi"} ${{morning:"Rano",noon:"W poudnie",evening:"Wieczorem"}[p]}`;return v.jsxs("div",{className:"dashboard-container animate-fadeIn",children:[v.jsxs("header",{className:"dashboard-header",children:[v.jsx("div",{className:"welcome-text",children:v.jsx("h1",{children:"Witaj ponownie! "})}),v.jsx(NU,{})]}),v.jsxs("div",{className:"dashboard-grid full-width-dash",children:[v.jsxs("div",{className:"dash-card tasks-summary",onClick:()=>t("todo"),children:[v.jsxs("div",{className:"card-header",children:[v.jsx(dk,{className:"card-icon"}),v.jsx("h3",{children:"Zadania (48h)"}),v.jsx(a0,{size:18,className:"arrow"})]}),v.jsx("div",{className:"card-content",children:e.length>0?v.jsx("ul",{className:"dash-list",children:e.sort((p,N)=>new Date(p.deadline)-new Date(N.deadline)).map(p=>v.jsxs("li",{className:`dash-list-item priority-${p.priority}`,children:[v.jsx("div",{className:"dot"}),v.jsxs("div",{className:"title-box",children:[v.jsx("span",{className:"title",children:p.title}),v.jsx("span",{className:"deadline-mini",children:Zt(new Date(p.deadline),"HH:mm, dd.MM")})]})]},p.id))}):v.jsx("p",{className:"empty-msg",children:"Brak pilnych zada. "})})]}),v.jsxs("div",{className:"dash-card meds-summary",onClick:()=>t("meds"),children:[v.jsxs("div",{className:"card-header",children:[v.jsx(s5,{className:"card-icon"}),v.jsxs("h3",{children:["Najblisze leki (",r.session&&m(r.session,r.isNextDay),")"]}),v.jsx(a0,{size:18,className:"arrow"})]}),v.jsx("div",{className:"card-content",children:((y=r.items)==null?void 0:y.length)>0?v.jsx("ul",{className:"dash-list",children:r.items.map(p=>v.jsxs("li",{className:"dash-list-item",children:[v.jsx("span",{className:"dot"}),v.jsx("span",{className:"title",children:d(p.medId)})]},p.id))}):v.jsx("p",{className:"empty-msg",children:"Brak lekw w tej sesji."})})]}),v.jsxs("div",{className:"dash-card wallet-summary-card",onClick:()=>t("wallet"),children:[v.jsxs("div",{className:"card-header",children:[v.jsx(yk,{className:"card-icon"}),v.jsx("h3",{children:"Stan portfela"}),v.jsx(a0,{size:18,className:"arrow"})]}),v.jsxs("div",{className:"card-content",children:[v.jsxs("div",{className:"mini-balance",children:[v.jsx("span",{className:"label",children:"Saldo cakowite"}),v.jsxs("span",{className:"amount",children:[o.total.toFixed(2)," z"]})]}),o.lastTransactions.length>0&&v.jsxs("div",{className:"trend-indicator green",children:[v.jsx(gk,{size:14})," ledzisz swoje finanse na bieco"]})]})]})]})]})}const CU=[{id:"morning",label:"Rano"},{id:"noon",label:"Poudnie"},{id:"evening",label:"Wieczr"}];function LU(){const[t,e]=Me.useState(!1),[n,r]=Me.useState(!1),[i,s]=Me.useState([]),[a,o]=Me.useState([]),[l,u]=Me.useState([]),[d,m]=Me.useState([]),[y,p]=Me.useState([]),N=Xs.currentUser;Me.useEffect(()=>{if(!N)return;const k=Ar(gn(ct,"tasks"),yr("userId","==",N.uid)),F=kr(k,P=>{s(P.docs.map(Z=>({id:Z.id,...Z.data()})))}),J=Ar(gn(ct,"events"),yr("userId","==",N.uid)),ne=kr(J,P=>{o(P.docs.map(Z=>({id:Z.id,...Z.data()})))}),j=Ar(gn(ct,"medications"),yr("userId","==",N.uid)),b=kr(j,P=>{u(P.docs.map(Z=>({id:Z.id,...Z.data()})))}),A=Ar(gn(ct,"scheduledMeds"),yr("userId","==",N.uid)),D=kr(A,P=>{m(P.docs.map(Z=>({id:Z.id,...Z.data()})))}),x=Ar(gn(ct,"takenMeds"),yr("userId","==",N.uid)),I=kr(x,P=>{p(P.docs.map(Z=>({id:Z.id,...Z.data()})))});return()=>{F(),ne(),b(),D(),I()}},[N]);const L=(i||[]).filter(k=>{if(!k.deadline||k.status==="done")return!1;try{const F=new Date(k.deadline),J=new Date,ne=F.getTime()-J.getTime();return ne>0&&ne<48*60*60*1e3}catch{return!1}}),V=(a||[]).filter(k=>{try{const F=Ii(new Date),J=Ii(um(k.startDate));return om(F,J)}catch{return!1}}),E=(a||[]).filter(k=>{try{const F=Ii(Hc(new Date,1)),J=Ii(um(k.startDate));return om(F,J)}catch{return!1}}),C=d.flatMap(k=>{const F=new Date,J=Ii(new Date(k.startDate)),ne=Ii(F);if(ne<J)return[];const j=ne.getTime()-J.getTime(),b=Math.round(j/(1e3*60*60*24));let A=!1;if(k.frequency==="daily"?A=!0:k.frequency==="custom"?A=b%k.customInterval===0:k.frequency==="weekly"?A=b%7===0:k.frequency==="once"?A=b===0:k.frequency==="for_days"&&(A=b>=0&&b<(k.duration||7)),!A)return[];const D=Zt(F,"yyyy-MM-dd");if(y.some(P=>P.dateKey===D&&P.scheduleId===k.id))return[];const I=l.find(P=>P.id===k.medId);return I?[{...I,scheduleId:k.id,timeOfDay:k.timeOfDay}]:[]}).sort((k,F)=>{const J={morning:1,noon:2,evening:3};return(J[k.timeOfDay]||99)-(J[F.timeOfDay]||99)});return Me.useEffect(()=>{!n&&i.length>0&&(a.length>0||d.length>0)&&((L.length>0||V.length>0||E.length>0||C.length>0)&&e(!0),r(!0))},[i,a,d,n,L.length,V.length,E.length,C.length]),t?v.jsx("div",{className:"modal-overlay notification-overlay",children:v.jsxs("div",{className:"modal-content notification-modal",children:[v.jsxs("div",{className:"notification-header",children:[v.jsx("div",{className:"bell-icon",children:v.jsx(bO,{className:"animate-wiggle",size:32})}),v.jsx("h2",{children:"Hej! Mamy kilka przypomnie "}),v.jsx("button",{className:"close-notif",onClick:()=>e(!1),children:v.jsx(a5,{})})]}),v.jsxs("div",{className:"notification-body",children:[V.length>0&&v.jsxs("div",{className:"notif-section",children:[v.jsxs("h3",{children:[v.jsx($b,{size:18})," Dzisiejsze wydarzenia"]}),v.jsx("div",{className:"notif-list",children:V.map(k=>v.jsxs("div",{className:"notif-item",children:[v.jsx("span",{className:"dot",style:{background:"#3b82f6"}}),v.jsxs("div",{className:"notif-info",children:[v.jsx("strong",{children:k.title}),v.jsxs("span",{children:[k.startTime," - ",k.endTime]})]})]},k.id))})]}),L.length>0&&v.jsxs("div",{className:"notif-section",children:[v.jsxs("h3",{children:[v.jsx(AO,{size:18})," Nadchodzce terminy (48h)"]}),v.jsx("div",{className:"notif-list",children:L.map(k=>v.jsxs("div",{className:"notif-item",children:[v.jsx("span",{className:"dot",style:{background:k.priority==="urgent"?"#ef4444":"var(--secondary-color)"}}),v.jsxs("div",{className:"notif-info",children:[v.jsx("strong",{children:k.title}),v.jsx("span",{children:Zt(new Date(k.deadline),"EEEE, HH:mm",{locale:Ru})})]})]},k.id))})]}),E.length>0&&v.jsxs("div",{className:"notif-section",children:[v.jsxs("h3",{children:[v.jsx($b,{size:18})," Jutrzejsze wydarzenia"]}),v.jsx("div",{className:"notif-list",children:E.map(k=>v.jsxs("div",{className:"notif-item",children:[v.jsx("span",{className:"dot",style:{background:"#3b82f6"}}),v.jsxs("div",{className:"notif-info",children:[v.jsx("strong",{children:k.title}),v.jsxs("span",{children:[k.startTime," - ",k.endTime]})]})]},k.id))})]}),C.length>0&&v.jsxs("div",{className:"notif-section",children:[v.jsxs("h3",{children:[v.jsx(s5,{size:18})," Leki na dzi (do wzicia)"]}),v.jsx("div",{className:"notif-list",children:C.map(k=>{var F;return v.jsxs("div",{className:"notif-item",children:[v.jsx("span",{className:"dot",style:{background:"var(--primary-color)"}}),v.jsxs("div",{className:"notif-info",children:[v.jsx("strong",{children:k.name}),v.jsxs("span",{children:[((F=CU.find(J=>J.id===k.timeOfDay))==null?void 0:F.label)||k.timeOfDay,"  "," ",k.dosage,k.unit]})]})]},`${k.scheduleId}-${k.timeOfDay}`)})})]})]}),v.jsx("div",{className:"notification-footer",children:v.jsx("button",{className:"submit-btn",onClick:()=>e(!1),children:"Rozumiem, dzikuj! "})})]})}):null}function RU(){const[t,e]=Me.useState(!0),[n,r]=Me.useState(""),[i,s]=Me.useState(""),[a,o]=Me.useState(""),[l,u]=Me.useState(!1),d=async m=>{m.preventDefault(),o(""),u(!0);try{t?await L8(Xs,n,i):await C8(Xs,n,i)}catch(y){console.error(y),o("Bd: "+(y.message.includes("auth/invalid-credential")?"Bdne dane logowania":y.message))}finally{u(!1)}};return v.jsx("div",{className:"auth-container",children:v.jsxs("div",{className:"auth-card modal-content",children:[v.jsxs("div",{className:"auth-header",children:[v.jsx("div",{className:"auth-logo",children:v.jsx(EO,{size:40,className:"paw-icon"})}),v.jsx("h2",{children:t?"Witaj ponowie! ":"Docz do nas! "}),v.jsx("p",{children:t?"Zaloguj si, aby zsynchronizowa dane":"Stwrz konto, aby mie dostp wszdzie"})]}),v.jsxs("form",{onSubmit:d,className:"auth-form",children:[v.jsx("div",{className:"form-group",children:v.jsxs("div",{className:"input-with-icon",children:[v.jsx(OO,{size:18}),v.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:m=>r(m.target.value),required:!0})]})}),v.jsx("div",{className:"form-group",children:v.jsxs("div",{className:"input-with-icon",children:[v.jsx(LO,{size:18}),v.jsx("input",{type:"password",placeholder:"Haso",value:i,onChange:m=>s(m.target.value),required:!0})]})}),a&&v.jsx("div",{className:"auth-error",children:a}),v.jsx("button",{type:"submit",className:"submit-btn auth-submit",disabled:l,children:l?v.jsx("span",{className:"loader",children:""}):t?v.jsxs(v.Fragment,{children:[v.jsx(RO,{size:18})," Zaloguj si"]}):v.jsxs(v.Fragment,{children:[v.jsx(qO,{size:18})," Zarejestruj si"]})})]}),v.jsx("div",{className:"auth-footer",children:v.jsx("button",{onClick:()=>e(!t),className:"toggle-auth",children:t?"Nie masz konta? Zarejestruj si ":"Masz ju konto? Zaloguj si "})})]})})}function DU(){const[t,e]=Me.useState(null),[n,r]=Me.useState(!0),[i,s]=Me.useState("dashboard"),[a,o]=Me.useState(localStorage.getItem("theme")||"pink"),[l,u]=Me.useState(!1),d=Me.useRef(null);Me.useEffect(()=>{const p=N=>{d.current&&!d.current.contains(N.target)&&u(!1)};return l&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[l]),Me.useEffect(()=>{const p=["blue-theme","light-pink-theme","purple-theme"];document.body.classList.remove(...p),a!=="pink"&&document.body.classList.add(`${a}-theme`),localStorage.setItem("theme",a)},[a]),Me.useEffect(()=>{console.log("Inicjalizacja nasuchiwania Auth...");const p=setTimeout(()=>{n&&(console.warn("Auth timeout: Sprawd poczenie z Firebase."),r(!1))},5e3);try{const N=O8(Xs,L=>{console.log("Stan Auth zmieniony:",L?"Zalogowany":"Wylogowany"),e(L),r(!1),clearTimeout(p)},L=>{console.error("Bd Auth listenera:",L),r(!1),clearTimeout(p)});return()=>N()}catch(N){console.error("Bd podczas onAuthStateChanged:",N),r(!1),clearTimeout(p)}},[n]);const m=()=>M8(Xs),y=[{id:"pink",label:"Rowy (Kotki)",color:"#ff4d94"},{id:"blue",label:"Niebieski (Auta)",color:"#3b82f6"},{id:"light-pink",label:"Jasny R (Krliki)",color:"#ff80b3"},{id:"purple",label:"Fioletowy (Kokardki)",color:"#a855f7"}];return n?v.jsxs("div",{className:"loading-screen",children:[v.jsx("div",{className:"loader large",children:""}),v.jsx("p",{children:"adowanie Twojego magicznego wiata..."})]}):t?v.jsxs("div",{className:"app-container",children:[v.jsx(LU,{}),v.jsxs("header",{className:"app-header",children:[v.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("div",{className:"theme-menu-container",ref:d,children:[v.jsx("button",{onClick:()=>u(!l),className:`theme-toggle-btn ${l?"active":""}`,title:"Zmie motyw",style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid var(--glass-border)",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--primary-color)",cursor:"pointer",transition:"all 0.3s"},children:v.jsx(MO,{size:20})}),l&&v.jsx("div",{className:"theme-options",children:y.map(p=>v.jsxs("button",{className:`theme-item ${a===p.id?"active":""}`,onClick:()=>{o(p.id),u(!1)},children:[v.jsx("div",{className:"theme-dot",style:{background:p.color}}),v.jsx("span",{children:p.label})]},p.id))})]}),v.jsxs("div",{className:"user-profile",children:[v.jsxs("div",{className:"user-info",children:[v.jsx($O,{size:16}),v.jsx("span",{children:t.email})]}),v.jsx("button",{onClick:m,className:"logout-btn",title:"Wyloguj",children:v.jsx(DO,{size:18})})]})]}),v.jsxs("nav",{className:"app-nav",children:[v.jsx(iy,{className:"nav-icon"}),v.jsxs("div",{className:"nav-links",children:[v.jsx("button",{className:i==="dashboard"?"active":"",onClick:()=>s("dashboard"),children:v.jsx("span",{children:"Pulpit"})}),v.jsx("button",{className:i==="calendar"?"active":"",onClick:()=>s("calendar"),children:v.jsx("span",{children:"Kalendarz"})}),v.jsx("button",{className:i==="todo"?"active":"",onClick:()=>s("todo"),children:v.jsx("span",{children:"Lista zada"})}),v.jsx("button",{className:i==="meds"?"active":"",onClick:()=>s("meds"),children:v.jsx("span",{children:"Leki"})}),v.jsx("button",{className:i==="notes"?"active":"",onClick:()=>s("notes"),children:v.jsx("span",{children:"Notatki"})}),v.jsx("button",{className:i==="wallet"?"active":"",onClick:()=>s("wallet"),children:v.jsx("span",{children:"Portfel"})})]}),v.jsx(iy,{className:"nav-icon",style:{transform:"scaleX(-1)"}})]})]}),v.jsxs("main",{className:"app-main",children:[v.jsx("div",{className:`tab-pane ${i==="dashboard"?"active":""}`,children:v.jsx(PU,{setActiveTab:s})}),v.jsx("div",{className:`tab-pane ${i==="calendar"?"active":""}`,children:v.jsx(bj,{})}),v.jsx("div",{className:`tab-pane ${i==="todo"?"active":""}`,children:v.jsx(GO,{})}),v.jsx("div",{className:`tab-pane ${i==="meds"?"active":""}`,children:v.jsx(xj,{})}),v.jsx("div",{className:`tab-pane ${i==="notes"?"active":""}`,children:v.jsx(Ej,{})}),v.jsx("div",{className:`tab-pane ${i==="wallet"?"active":""}`,children:v.jsx(IU,{})})]}),v.jsx("footer",{className:"elegant-footer",children:v.jsxs("p",{children:["Made with ",a==="pink"?"":a==="purple"?"":a==="light-pink"?"":""," by Emilia Dudzik"]})})]}):v.jsx(RU,{})}const OU=document.getElementById("root");V0.createRoot(OU).render(v.jsx(jT.StrictMode,{children:v.jsx(DU,{})}));export{en as _,jU as c,bT as g};
